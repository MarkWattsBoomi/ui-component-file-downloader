!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=8)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(1),i=n(4);!function(e){e[e.unknown=0]="unknown",e[e.ContentString=1]="ContentString",e[e.ContentNumber=2]="ContentNumber",e[e.ContentObject=3]="ContentObject",e[e.ContentBoolean=4]="ContentBoolean",e[e.ContentList=5]="ContentList",e[e.ContentPassword=6]="ContentPassword",e[e.ContentContent=7]="ContentContent",e[e.ContentDateTime=8]="ContentDateTime",e[e.ContentEncrypted=9]="ContentEncrypted"}(o=t.eContentType||(t.eContentType={}));var a=function(){function e(e){if(this.ContentType=o.unknown,this.DeveloperName="",this.TypeElementDeveloperName="",this.TypeElementId="",this.TypeElementPropertyDeveloperName="",this.TypeElementPropertyId="",this.ValueElementId="",e)switch(this.ContentType=o[e.contentType],this.DeveloperName=e.developerName,this.TypeElementDeveloperName=e.typeElementDeveloperName,this.TypeElementId=e.typeElementId,this.TypeElementPropertyDeveloperName=e.typeElementPropertyDeveloperName,this.TypeElementPropertyId=e.typeElementPropertyId,this.ValueElementId=e.valueElementId,this.ContentType){case o.ContentObject:this.Value=e.objectData?new r.FlowObjectData(e.objectData):void 0;break;case o.ContentList:this.Value=e.objectData&&e.objectData[0]?new i.FlowObjectDataArray(e.objectData):new i.FlowObjectDataArray([]);break;default:this.Value=e.contentValue}}return Object.defineProperty(e.prototype,"contentType",{get:function(){return this.ContentType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"developerName",{get:function(){return this.DeveloperName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"typeElementDeveloperName",{get:function(){return this.TypeElementDeveloperName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"typeElementId",{get:function(){return this.TypeElementId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"typeElementPropertyDeveloperName",{get:function(){return this.TypeElementPropertyDeveloperName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"typeElementPropertyId",{get:function(){return this.TypeElementPropertyId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valueElementId",{get:function(){return this.ValueElementId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.Value},set:function(e){this.Value=e},enumerable:!0,configurable:!0}),e.prototype.iFlowField=function(){var e="",t=[];switch(this.ContentType){case o.ContentObject:var n=this.Value;t.push(n.iObjectData());break;case o.ContentList:t=this.Value.iFlowObjectDataArray();break;default:e=this.Value?this.Value:""}return{contentType:o[this.ContentType],contentValue:e,developerName:this.DeveloperName,objectData:t,typeElementDeveloperName:this.TypeElementDeveloperName,typeElementId:this.TypeElementId,typeElementPropertyDeveloperName:this.TypeElementPropertyDeveloperName,typeElementPropertyId:this.TypeElementPropertyId,valueElementId:this.ValueElementId}},e}();t.FlowField=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(12),r=function(){function e(e){if(this.DeveloperName="",this.ExternalId="",this.InternalId="",this.IsSelected=!1,this.Order=0,this.TypeElementId="",this.Properties={},e&&e[0]){var t=e[0];this.DeveloperName=t.developerName,this.InternalId=t.internalId,this.ExternalId=t.externalId,this.Order=t.order,this.IsSelected=t.isSelected,this.TypeElementId=t.typeElementId;for(var n=0,r=t.properties;n<r.length;n++){var i=r[n];this.Properties[i.developerName]=new o.FlowObjectDataProperty(i)}}}return Object.defineProperty(e.prototype,"developerName",{get:function(){return this.DeveloperName},set:function(e){this.DeveloperName=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"externalId",{get:function(){return this.ExternalId},set:function(e){this.ExternalId=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"internalId",{get:function(){return this.InternalId},set:function(e){this.InternalId=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSelected",{get:function(){return this.IsSelected},set:function(e){this.IsSelected=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"order",{get:function(){return this.Order},set:function(e){this.Order=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"typeElementId",{get:function(){return this.TypeElementId},set:function(e){this.TypeElementId=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"properties",{get:function(){return this.Properties},enumerable:!0,configurable:!0}),e.newInstance=function(e){return new this([{developerName:e,externalId:"",internalId:manywho.utils.guid(),isSelected:!0,order:0,properties:[],typeElementId:""}])},e.prototype.addProperty=function(e){this.Properties[e.developerName]=e},e.prototype.removeProperty=function(e){delete this.Properties[e]},e.prototype.clone=function(t){var n=this,o=e.newInstance(t||this.DeveloperName);return Object.keys(this.properties).forEach((function(e){var t=n.properties[e].clone();o.properties[e]=t})),o},e.prototype.iObjectData=function(){for(var e=[],t=0,n=Object.keys(this.properties);t<n.length;t++){var o=n[t];e.push(this.properties[o].iFlowObjectDataProperty())}return{developerName:this.developerName,externalId:this.externalId,internalId:this.internalId,isSelected:this.isSelected,order:this.order,properties:e,typeElementId:this.TypeElementId}},e.prototype.iFlowObjectDataArray=function(){var e=[];return e.push(this.iObjectData()),e},e}();t.FlowObjectData=r},function(e,t){e.exports=React},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var u=s(n(2));n(10);var l,c=n(6),p=n(11),d=n(0),f=n(1),h=n(4),y=n(13),m=n(14);!function(e){e[e.ready=0]="ready",e[e.loading=1]="loading",e[e.saving=2]="saving",e[e.moving=3]="moving",e[e.inititializing=4]="inititializing",e[e.inititialized=5]="inititialized",e[e.mounting=6]="mounting",e[e.mounted=7]="mounted"}(l=t.eLoadingState||(t.eLoadingState={}));var b=function(e){function t(t){var n=e.call(this,t)||this;n.Fields={},n.Attributes={},n.Outcomes={},n.sendCollaborationMessage=m(n._sendCollaborationMessage,100,null),n.Fields={},n.LoadingState=l.inititializing,n.loadValues=n.loadValues.bind(n),n.dontLoadValues=n.dontLoadValues.bind(n),n.updateValues=n.updateValues.bind(n),n.triggerOutcome=n.triggerOutcome.bind(n),n.ComponentId=n.props.id,n.ParentId=n.props.parentId,n.FlowKey=n.props.flowKey,n.Attributes={},n.loadModel=n.loadModel.bind(n),n.loadAttributes=n.loadAttributes.bind(n),n.loadOutcomes=n.loadOutcomes.bind(n),n.receiveMessage=n.receiveMessage.bind(n),n.getStateValue=n.getStateValue.bind(n),n.setStateValue=n.setStateValue.bind(n),n.getStateValueType=n.getStateValueType.bind(n),n.sendCollaborationMessage=n.sendCollaborationMessage.bind(n),n.onBeforeSend=n.onBeforeSend.bind(n),n.onDone=n.onDone.bind(n),n.calculateValue=n.calculateValue.bind(n),window.addEventListener("message",n.receiveMessage,!1),n.loadModel(),n.loadAttributes(),n.loadOutcomes();var o=manywho.settings.global("platform.uri")||window.location.origin||"https://flow.manywho.com";return n.StateId=manywho.utils.extractStateId(n.props.flowKey),n.TenantId=manywho.utils.extractTenantId(n.props.flowKey),n.url=o+"/api/run/1/state/"+n.StateId+"/values",n.userurl=o+"/api/run/1/state/"+n.StateId+"/values/03dc41dd-1c6b-4b33-bf61-cbd1d0778fff",n.valueurl=o+"/api/run/1/state/"+n.StateId+"/values/name",n.LoadingState=l.inititialized,n}return r(t,e),Object.defineProperty(t.prototype,"tenantId",{get:function(){return this.TenantId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stateId",{get:function(){return this.StateId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"flowKey",{get:function(){return this.FlowKey},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentId",{get:function(){return this.ComponentId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentId",{get:function(){return this.ParentId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReady",{get:function(){return this.LoadingState===l.ready},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"loadingState",{get:function(){return this.LoadingState},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outcomes",{get:function(){return this.Outcomes},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){return this.Attributes},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fields",{get:function(){return this.Fields},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"model",{get:function(){return this.Model},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"user",{get:function(){return this.User},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"joinURI",{get:function(){return window.location.href},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDesignTime",{get:function(){return this.IsDesignTime},enumerable:!0,configurable:!0}),t.prototype.getAttribute=function(e,t){return this.attributes[e]?this.attributes[e].value:t||""},t.prototype.onBeforeSend=function(e,t){if(t){var n=this.getOutcomeById(t.mapElementInvokeRequest.selectedOutcomeId),o=manywho.eventManager.outcomeBeingTriggered;n&&(o&&o.id===n.id||(manywho.eventManager.outcomeBeingTriggered=n))}else manywho.eventManager.outcomeBeingTriggered=void 0},t.prototype.calculateValue=function(e){return i(this,void 0,void 0,(function(){var t,n,o,r,i,s;return a(this,(function(a){switch(a.label){case 0:if(!e.startsWith("{{")||!e.endsWith("}}"))return[3,7];t=(t=e.replace("{{","")).replace("}}",""),n=void 0,o="",r=t.split("."),i=0,a.label=1;case 1:return i<r.length?0!==i?[3,4]:this.fields[r[i]]?[3,3]:[4,this.loadValue(r[i])]:[3,6];case 2:a.sent(),a.label=3;case 3:return(n=this.fields[r[i]])?n.ContentType!==d.eContentType.ContentObject&&n.ContentType!==d.eContentType.ContentList&&(o=n.value):(console.log("The Value ["+r[i]+"] was not found, have you included it in your flow"),o=e),[3,5];case 4:n&&(s=n.value.properties[r[i]])?s.contentType===d.eContentType.ContentObject||s.contentType===d.eContentType.ContentList?n=n.value.properties[r[i]].value:o=n.value.properties[r[i]].value:o=e,a.label=5;case 5:return i++,[3,1];case 6:return[2,o];case 7:return[2,e]}}))}))},t.prototype.onDone=function(e,t){var n=this;if(manywho.eventManager.outcomeBeingTriggered&&manywho.eventManager.outcomeBeingTriggered.attributes){var o=manywho.eventManager.outcomeBeingTriggered;Object.keys(manywho.eventManager.outcomeBeingTriggered.attributes).forEach((function(e){return i(n,void 0,void 0,(function(){var t,n,r;return a(this,(function(i){switch(i.label){case 0:switch(t=manywho.eventManager.outcomeBeingTriggered.attributes[e],t.name.toLowerCase()){case"autoclose":return[3,1];case"autoopen":return[3,2];case"autonav":case"automove":return[3,6];case"autoprint":return[3,10]}return[3,11];case 1:return"true"===t.value.toLowerCase()&&window.close(),[3,11];case 2:return(n=o.attributes.AutoOpenUrl||void 0)&&n.value.length>0?[4,this.calculateValue(n.value)]:[3,4];case 3:return r=i.sent(),window.open(r,"_blank"),[3,5];case 4:alert("No 'AutoOpenUrl' specified in the outcome's attributes"),i.label=5;case 5:return[3,11];case 6:return(n=o.attributes.AutoNavUrl||void 0)&&n.value.length>0?[4,this.calculateValue(n.value)]:[3,8];case 7:return r=i.sent(),window.open(r,"_blank"),[3,9];case 8:alert("No 'AutoNavUrl' specified in the outcome's attributes"),i.label=9;case 9:return[3,11];case 10:return window.print(),[3,11];case 11:return[2]}}))}))}))}this.LoadingState=l.ready,manywho.eventManager.outcomeBeingTriggered=void 0},t.prototype.componentDidMount=function(){return i(this,void 0,void 0,(function(){var e,t,n,o;return a(this,(function(r){switch(r.label){case 0:switch(this.LoadingState=l.mounting,manywho.eventManager.addDoneListener(this.onDone,this.componentId+"_core"),manywho.eventManager.addBeforeSendListener(this.onBeforeSend,this.componentId+"_core"),e=manywho.model.getComponent(this.ComponentId,this.FlowKey),t=manywho.state.getComponent(this.componentId,this.flowKey)||{},e.contentType){case"ContentObject":return[3,1];case"ContentList":return[3,4]}return[3,7];case 1:return n=void 0,t.objectData&&t.objectData.length>0?(n=t.objectData,n=JSON.parse(JSON.stringify(n)),[4,this.setStateValue(new f.FlowObjectData(n),!0)]):[3,3];case 2:r.sent(),r.label=3;case 3:return[3,9];case 4:return o=void 0,t.objectData&&t.objectData.length>0?(o=t.objectData,o=JSON.parse(JSON.stringify(o)),[4,this.setStateValue(new h.FlowObjectDataArray(o),!0)]):[3,6];case 5:r.sent(),r.label=6;case 6:return[3,9];case 7:return[4,this.setStateValue(e.contentValue,!0)];case 8:return r.sent(),[3,9];case 9:return this.LoadingState=l.mounted,manywho.utils.removeLoadingIndicator("loader"),[2,Promise.resolve()]}}))}))},t.prototype.componentWillUnmount=function(){return i(this,void 0,void 0,(function(){return a(this,(function(e){return manywho.eventManager.removeBeforeSendListener(this.componentId+"_core"),manywho.eventManager.removeDoneListener(this.componentId+"_core"),[2,Promise.resolve()]}))}))},t.prototype.loadOutcome=function(e){if(e){var t=manywho.model.getOutcome(e,this.props.flowKey);if(t)return this.Outcomes[t.developerName]=new y.FlowOutcome(t),this.Outcomes[t.developerName]}},t.prototype.loadOutcomes=function(){this.Outcomes={};for(var e=manywho.model.getOutcomes(this.props.id,this.props.flowKey),t=0,n=e;t<n.length;t++){var o=n[t];this.Outcomes[o.developerName]=new y.FlowOutcome(o)}for(var r=0,i=e=manywho.model.getOutcomes("",this.props.flowKey);r<i.length;r++){o=i[r];this.Outcomes[o.developerName]=new y.FlowOutcome(o)}},t.prototype.getOutcomeById=function(e){var t,n=this;return Object.keys(this.outcomes).forEach((function(o){n.outcomes[o].id===e&&(t=n.outcomes[o])})),t||(t=this.loadOutcome(e)),t},t.prototype.loadAttributes=function(){var e=manywho.model.getComponent(this.ComponentId,this.FlowKey).attributes;if(e)for(var t=0,n=Object.keys(e);t<n.length;t++){var o=n[t];this.Attributes[o]=new c.FlowAttribute(o,e[o])}},t.prototype.loadModel=function(){var e=manywho.model.getComponent(this.ComponentId,this.FlowKey);if(e){this.Model={contentType:e.contentType,dataSource:new h.FlowObjectDataArray([]),developerName:e.developerName,displayColumns:[],enabled:e.isEnabled,height:e.height,helpInfo:e.helpInfo,hintInfo:e.hintValue,joinUri:this.joinURI,label:e.label,maxSize:e.maxSize,multiSelect:e.isMultiSelect,readOnly:!e.isEditable,required:e.isRequired,size:e.size,validationMessage:e.validationMessage,visible:e.isVisible,width:e.width};var t=e.objectData;if(t)for(var n=0,o=t;n<o.length;n++){var r=o[n];this.Model.dataSource.addItem(new f.FlowObjectData([r]))}var i=e.columns;if(i)for(var a=0,s=i;a<s.length;a++){var u=s[a];this.Model.displayColumns.push(new p.FlowDisplayColumn(u))}}},t.prototype.loadValue=function(e){return i(this,void 0,void 0,(function(){var t;return a(this,(function(n){return this.LoadingState=l.loading,(t=manywho.connection.request(this,"",this.valueurl+"/"+e,"GET",this.TenantId,this.StateId,manywho.state.getAuthenticationToken(this.FlowKey),{}))&&(this.Fields[t.developerName]=new d.FlowField(t)),this.LoadingState=l.ready,[2,Promise.resolve()]}))}))},t.prototype.getResultBodyText=function(e){return i(this,void 0,void 0,(function(){return a(this,(function(t){return[2,e.text().then((function(e){return e.startsWith('"')&&(e=e.substr(1)),e.endsWith('"')&&(e=e.substr(0,e.length-1)),e}))]}))}))},t.prototype.callRequest=function(e,t,n,o){return i(this,void 0,void 0,(function(){var r,s,u=this;return a(this,(function(l){switch(l.label){case 0:return r=[],(s={}).method=t,s.headers={"Content-Type":"application/json",Authorization:o,ManyWhoTenant:this.tenantId},s.credentials="same-origin","POST"!==t&&"PUT"!==t||(s.body=n),[4,fetch(e,s).then((function(e){return i(u,void 0,void 0,(function(){var t,n;return a(this,(function(o){switch(o.label){case 0:return 200!==e.status?[3,2]:[4,this.getResultBodyText(e)];case 1:return t=o.sent(),JSON.parse(t).forEach((function(e){r.push(e)})),console.log("Loaded Values"),[2,r];case 2:return[4,this.getResultBodyText(e)];case 3:return n=o.sent(),console.log("Can't load values - "+n),[2,r]}}))}))}))];case 1:return l.sent(),[2]}}))}))},t.prototype.callRequestOld=function(e,t,n){return i(this,void 0,void 0,(function(){return a(this,(function(n){switch(n.label){case 0:return[4,manywho.connection.request(this,null,e,t,this.TenantId,this.StateId,manywho.state.getAuthenticationToken(this.FlowKey),null)];case 1:return[2,n.sent()]}}))}))},t.prototype.loadValues=function(){return i(this,void 0,void 0,(function(){var e,t,n,o=this;return a(this,(function(r){switch(r.label){case 0:return this.LoadingState=l.loading,this.Fields={},[4,this.callRequestOld(this.url,"GET",{})];case 1:return(r.sent()||[]).map((function(e){e&&(o.Fields[e.developerName]=new d.FlowField(e))})),[4,this.callRequestOld(this.userurl,"GET",{})];case 2:return(e=r.sent())&&(t=new d.FlowField(e),n=t.value.properties,this.User={directoryId:n["Directory Id"].value,directoryName:n["Directory Name"].value,email:n.Email.value||"mark",firstName:n["First Name"].value,groupId:n["Primary Group Id"].value,groupName:n["Primary Group Name"].value,id:n["User ID"].value,ipAddress:n["IP Address"].value,language:n.Language.value,lastName:n["Last Name"].value,location:n.Location.value,roleId:n["Role Id"].value,roleName:n["Role Name"].value,status:n.Status.value,userName:n.Username.value}),this.LoadingState=l.ready,[2,Promise.resolve()]}}))}))},t.prototype.dontLoadValues=function(){return i(this,void 0,void 0,(function(){return a(this,(function(e){return this.LoadingState=l.ready,[2,Promise.resolve()]}))}))},t.prototype.getStateValue=function(){var e=manywho.state.getComponent(this.componentId,this.flowKey)||{},t=manywho.model.getComponent(this.ComponentId,this.FlowKey);switch(t.contentType){case"ContentObject":return new f.FlowObjectData(e.objectData&&e.objectData[0]?e.objectData[0]:t.objectData[0]);case"ContentList":return new h.FlowObjectDataArray(e.objectData?e.objectData:t.objectData);default:return e.contentValue?e.contentValue:""}},t.prototype.getStateValueType=function(){var e=manywho.state.getComponent(this.componentId,this.flowKey)||{},t=manywho.model.getComponent(this.ComponentId,this.FlowKey);switch(t.contentType){case"ContentObject":return new f.FlowObjectData(e.objectData&&e.objectData[0]?e.objectData[0]:t.objectData[0]);case"ContentList":return new h.FlowObjectDataArray(e.objectData?e.objectData:t.objectData);default:return e.contentValue?e.contentValue:""}},t.prototype.setStateValue=function(e,t){return i(this,void 0,void 0,(function(){var t,n,o,r,i;return a(this,(function(a){if(this.LoadingState===l.mounting||this.LoadingState===l.ready){switch(t=this.loadingState,this.LoadingState=l.saving,n=manywho.model.getComponent(this.ComponentId,this.FlowKey),manywho.state.getComponent(this.componentId,this.flowKey)||{},o=void 0,n.contentType){case"ContentObject":r=null,e&&(r=e.iFlowObjectDataArray(),r=JSON.parse(JSON.stringify(r))),o={objectData:r},manywho.state.setComponent(this.componentId,o,this.flowKey,!0);break;case"ContentList":i=null,e&&(i=e.iFlowObjectDataArray(),i=JSON.parse(JSON.stringify(i))),o={objectData:i},manywho.state.setComponent(this.componentId,o,this.flowKey,!0);break;case"ContentDate":o={contentValue:e.toISOString()},manywho.state.setComponent(this.componentId,o,this.flowKey,!0);break;default:o={contentValue:e},manywho.state.setComponent(this.componentId,o,this.flowKey,!0)}this.LoadingState=t,manywho.collaboration.isInitialized(this.flowKey)}return[2,Promise.resolve()]}))}))},t.prototype.eventHandled=function(e,t){console.log("ping")},t.prototype.updateValues=function(e){return i(this,void 0,void 0,(function(){var t,n,o,r,i=this;return a(this,(function(a){switch(a.label){case 0:if(this.LoadingState=l.saving,t=[],e.constructor.name===d.FlowField.name)t.push(e.iFlowField());else for(n=0,o=e;n<o.length;n++)r=o[n],t.push(r.iFlowField());return[4,manywho.connection.request(this,null,this.url,"POST",this.TenantId,this.StateId,manywho.state.getAuthenticationToken(this.FlowKey),t)];case 1:return a.sent(),manywho.collaboration.isInitialized(this.flowKey)&&t.forEach((function(e){manywho.collaboration.push(i.ComponentId,{message:{action:"REFRESH_FIELD",fieldName:e.developerName}},i.flowKey)})),this.LoadingState=l.ready,[2,Promise.resolve()]}}))}))},t.prototype._sendCollaborationMessage=function(e){manywho.collaboration.isInitialized(this.flowKey)&&manywho.collaboration.push(this.ComponentId,{message:e},this.flowKey)},t.prototype.triggerOutcome=function(e,t){return i(this,void 0,void 0,(function(){var n;return a(this,(function(o){switch(o.label){case 0:return this.LoadingState=l.moving,t||(t=[]),this.outcomes[e]&&(n=this.outcomes[e].iFlowOutcome()),n?[4,manywho.component.onOutcome(n,t,this.FlowKey)]:[3,2];case 1:return o.sent(),[3,3];case 2:this.log("Could not find outcome "+e),o.label=3;case 3:return[2,Promise.resolve()]}}))}))},t.prototype.moveTo=function(e,t){return i(this,void 0,void 0,(function(){return a(this,(function(e){return this.LoadingState=l.moving,t||(t=[]),[2,Promise.resolve()]}))}))},t.prototype.log=function(e){var t=new Date,n="["+[("0"+t.getHours()).slice(-2),("0"+t.getMinutes()).slice(-2),("0"+t.getSeconds()).slice(-2)].join(":")+"] ";console.log(n+e)},t.prototype.launchFlowSilent=function(e,t,n,o){return i(this,void 0,void 0,(function(){var e,n,r;return a(this,(function(i){return e=manywho.settings.global("platform.uri")||"https://flow.manywho.com",n=e+"/api/run/1/state",(r={}).id=t,r.developerName=null,r.inputs=o?o.iFlowObjectDataArray():null,manywho.connection.request(this,"",n,"POST",this.TenantId,"",manywho.state.getAuthenticationToken(this.FlowKey),r),[2,Promise.resolve()]}))}))},t.prototype.launchFlowTab=function(e,t,n,o){return i(this,void 0,void 0,(function(){var o,r;return a(this,(function(i){return o=manywho.settings.global("platform.uri")||"https://flow.boomi.com",r=o+"/"+e+"/play/"+n+"?flow-id="+t,window.open(r,"_new"),[2,Promise.resolve()]}))}))},t.prototype.componentDidUpdate=function(){return i(this,void 0,void 0,(function(){var e,t;return a(this,(function(n){switch(n.label){case 0:if(e=manywho.state.getComponent(this.componentId,this.flowKey),t=e.message,this.loadModel(),t&&manywho.state.setComponent(this.componentId,{message:{}},this.flowKey,!1),!t||!t.action)return[3,6];switch(t.action.toUpperCase()){case"REFRESH_FIELDS":return[3,1];case"REFRESH_FIELD":return[3,3]}return[3,5];case 1:return[4,this.loadValues()];case 2:return n.sent(),[3,6];case 3:return[4,this.loadValue(t.fieldName)];case 4:return n.sent(),[3,6];case 5:return[3,6];case 6:return[2,t]}}))}))},t.prototype.receiveMessage=function(e){return i(this,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:if(!e.data)return[3,9];if(!(t=e.data).action)return[3,9];switch(t.action.toUpperCase()){case"OUTCOME":return[3,1];case"REFRESH_FIELDS":return[3,3];case"REFRESH_FIELD":return[3,5]}return[3,7];case 1:return[4,this.triggerOutcome(t.data)];case 2:return n.sent(),[3,9];case 3:return[4,this.loadValues()];case 4:return n.sent(),[3,9];case 5:return[4,this.loadValue(t.fieldName)];case 6:return n.sent(),[3,9];case 7:return[4,this.handleMessage(t)];case 8:return n.sent(),[3,9];case 9:return[2,Promise.resolve()]}}))}))},t.prototype.handleMessage=function(e){return i(this,void 0,void 0,(function(){return a(this,(function(e){return[2,Promise.resolve()]}))}))},t}(u.Component);t.FlowBaseComponent=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(0),i=n(1);!function(e){e[e.ascending=0]="ascending",e[e.descending=1]="descending"}(o=t.eSortOrder||(t.eSortOrder={}));var a=function(){function e(e){this.Items=[];for(var t=0,n=e||[];t<n.length;t++){var o=n[t];this.Items.push(new i.FlowObjectData([o]))}}return Object.defineProperty(e.prototype,"items",{get:function(){return this.Items},enumerable:!0,configurable:!0}),e.prototype.sort=function(e,t){return e===o.ascending?t?this.Items.sort((function(e,n){var o,i;switch(e.properties[t].contentType){case r.eContentType.ContentNumber:o=parseFloat(e.properties[t].value),i=parseFloat(n.properties[t].value);break;case r.eContentType.ContentDateTime:o=new Date(e.properties[t].value),i=new Date(n.properties[t].value);break;default:o=e.properties[t].value,i=n.properties[t].value}switch(!0){case o<i:return-1;case o>i:return 1;default:return 0}})):this.Items.sort((function(e,t){return e.order-t.order})):t?this.Items.sort((function(e,n){if(!(e&&n&&e.properties&&n.properties&&e.properties[t]&&n.properties[t]&&e.properties[t].value&&n.properties[t].value))return 0;if(!e.properties[t])return 0;switch(!0){case e.properties[t].value<n.properties[t].value:return 1;case e.properties[t].value>n.properties[t].value:return-1;default:return 0}})):this.Items.sort((function(e,t){return e.order-t.order}))},e.prototype.addItem=function(e){this.Items.push(e)},e.prototype.clearItems=function(){this.Items=[]},e.prototype.clone=function(){var t=new e;return this.items.forEach((function(e){t.addItem(e.clone())})),t},e.prototype.iFlowObjectDataArray=function(){for(var e=[],t=0,n=this.Items;t<n.length;t++){var o=n[t];e.push(o.iObjectData())}return e},e.prototype.getItemWithPropertyName=function(e,t,n){for(var o=0,i=this.Items;o<i.length;o++){var a=i[o];if(a.properties[e]&&null!=a.properties[e].value){var s=a.properties[e].value,u=t;switch(a.properties[e].contentType){case r.eContentType.ContentString:s=s.toLowerCase(),u=u.toLowerCase();break;case r.eContentType.ContentNumber:s=s,u=parseFloat(u.toLowerCase());break;case r.eContentType.ContentBoolean:s=s,u="true"===new String(u).toLowerCase()}if(s===u)return a.properties[n]}}return null},e.prototype.getItemWithPropertyValue=function(e,t){for(var n=0,o=this.Items;n<o.length;n++){var i=o[n];if(i.properties[e]&&null!=i.properties[e].value){var a=i.properties[e].value,s=t;switch(i.properties[e].contentType){case r.eContentType.ContentString:a=a.toLowerCase(),s=new String(s).toLowerCase();break;case r.eContentType.ContentNumber:a=a,s=parseFloat(new String(s).toLowerCase());break;case r.eContentType.ContentBoolean:a=a,s="true"===new String(s).toLowerCase()}if(a===s)return i}}},e.prototype.getIndexOfItemWithPropertyValue=function(e,t){for(var n=0;n<this.items.length;n++){var o=this.items[n];if(o.properties[e]&&null!=o.properties[e].value){var i=o.properties[e].value,a=t;switch(o.properties[e].contentType){case r.eContentType.ContentString:i=i.toLowerCase(),a=a.toLowerCase();break;case r.eContentType.ContentNumber:i=i,a=parseFloat(new String(a).toLowerCase());break;case r.eContentType.ContentBoolean:i=i,a="true"===new String(a).toLowerCase()}if(i===a)return n}}return-1},e.prototype.removeItemWithPropertyValue=function(e,t){for(var n=0,o=0;o<this.items.length;o++){var i=this.items[o];if(i.properties[e]&&null!=i.properties[e].value){var a=i.properties[e].value,s=t;switch(i.properties[e].contentType){case r.eContentType.ContentString:a=a.toLowerCase(),s=s.toLowerCase();break;case r.eContentType.ContentNumber:a=a,s=parseFloat(new String(s).toLowerCase());break;case r.eContentType.ContentBoolean:a=a,s="true"===new String(s).toLowerCase()}a===s&&(this.items.splice(o,1),n++)}}return n},e.prototype.removeItemAtIndex=function(e){var t=0;return this.items[e]&&(this.items.splice(e,1),t=e),t},e}();t.FlowObjectDataArray=a},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){this.Name=e,this.Value=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this.Name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.Value},enumerable:!0,configurable:!0}),e}();t.FlowAttribute=o},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(t){return e.call(this,t)||this}return r(t,e),t.prototype.componentDidMount=function(){return i(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,e.prototype.componentDidMount.call(this)];case 1:return t.sent(),[4,this.dontLoadValues()];case 2:return t.sent(),[2]}}))}))},t.prototype.componentDidUpdate=function(){return i(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,e.prototype.componentDidUpdate.call(this)];case 1:return t.sent(),[2]}}))}))},t}(n(3).FlowBaseComponent);t.FlowComponent=s},function(e,t,n){"use strict";function o(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),o(n(9)),o(n(16))},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var u=s(n(2));n(5);var l=n(3),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.componentDidMount=function(){return i(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,e.prototype.componentDidMount.call(this)];case 1:return t.sent(),this.forceUpdate(),[2]}}))}))},t.prototype.render=function(){var e=this;if(this.loadingState!==l.eLoadingState.ready)return u.createElement("div",{className:"file-box"});var t="data:binary/octet-stream;base64,"+this.getStateValue(),n=this.getAttribute("title","File Downloader"),o="glyphicon glyphicon-"+this.getAttribute("icon","envelope")+" icon-button",r=parseInt(this.getAttribute("pointSize","24")),s=this.getAttribute("onClickOutcome",""),c={fontSize:r+"pt"};return u.createElement("div",{className:"file-box"},u.createElement("div",{className:"file-box-body"},u.createElement("a",{download:"file",href:t,onClick:function(t){return i(e,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return s.length>0?[4,this.triggerOutcome(s)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}},u.createElement("span",{className:o,style:c,title:n}))))},t}(n(7).FlowComponent);manywho.component.register("FileDownloader",c),t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),manywho.eventManager||(manywho.eventManager={},manywho.eventManager.beforeSendListeners={},manywho.eventManager.doneListeners={},manywho.eventManager.failListeners={},manywho.eventManager.outcomeBeingTriggered,manywho.eventManager.beforeSend=function(e,t){for(var n in manywho.eventManager.beforeSendListeners)manywho.eventManager.beforeSendListeners[n](e,t)},manywho.eventManager.done=function(e,t){for(var n in manywho.eventManager.doneListeners)manywho.eventManager.doneListeners[n](e,t)},manywho.eventManager.fail=function(e,t){for(var n in manywho.eventManager.failListeners)manywho.eventManager.failListeners[n](e,t)},manywho.eventManager.addBeforeSendListener=function(e,t){manywho.eventManager.beforeSendListeners[t]=e},manywho.eventManager.removeBeforeSendListener=function(e){delete manywho.eventManager.beforeSendListeners[e]},manywho.eventManager.addDoneListener=function(e,t){manywho.eventManager.doneListeners[t]=e},manywho.eventManager.removeDoneListener=function(e){delete manywho.eventManager.doneListeners[e]},manywho.eventManager.addFailListener=function(e,t){manywho.eventManager.failListeners[t]=e},manywho.eventManager.removeFailListener=function(e){delete manywho.eventManager.failListeners[e]},manywho.settings.initialize(null,{invoke:{beforeSend:manywho.eventManager.beforeSend,done:manywho.eventManager.done,fail:manywho.eventManager.fail}}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=function(){function e(e){this.Column=e,this.ComponentType=e.componentType,this.ContentFormat=e.contentFormat,this.ContentType=o.eContentType[e.contentType],this.DeveloperName=e.developerName,this.DisplayOrder=e.order,this.Label=e.label,this.ReadOnly=!e.isEditable,this.TypeElememtPropertyToDisplayId=e.typeElememtPropertyToDisplayId,this.TypeElementPropertyId=e.typeElementPropertyId,this.Visible=e.isDisplayValue}return Object.defineProperty(e.prototype,"componentType",{get:function(){return this.ComponentType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentFormat",{get:function(){return this.ContentFormat},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentType",{get:function(){return this.ContentType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"developerName",{get:function(){return this.DeveloperName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){return this.Visible},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readOnly",{get:function(){return this.ReadOnly},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"label",{get:function(){return this.Label},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayOrder",{get:function(){return this.DisplayOrder},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"typeElementPropertyId",{get:function(){return this.TypeElementPropertyId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"typeElememtPropertyToDisplayId",{get:function(){return this.TypeElememtPropertyToDisplayId},enumerable:!0,configurable:!0}),e.prototype.iFlowDisplayColumn=function(){return this.Column},e}();t.FlowDisplayColumn=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=n(1),i=n(4),a=function(){function e(e){if(this.ContentFormat="",this.ContentType=o.eContentType.unknown,this.DeveloperName="",this.TypeElementId="",this.TypeElementPropertyId="",e)switch(this.DeveloperName=e.developerName,this.ContentType=o.eContentType[e.contentType],this.ContentFormat=e.contentFormat?e.contentFormat:"",this.TypeElementId=e.typeElementId?e.typeElementId:"",this.TypeElementPropertyId=e.typeElementPropertyId,this.ContentType){case o.eContentType.ContentObject:this.Value=e.objectData?new r.FlowObjectData(e.objectData):void 0;break;case o.eContentType.ContentList:this.value=e.objectData?new i.FlowObjectDataArray(e.objectData):new i.FlowObjectDataArray([]);break;default:this.value=e.contentValue?e.contentValue:""}}return e.newInstance=function(e,t,n){var r="",i=[];switch(t){case o.eContentType.ContentObject:var a=n;i.push(a.iObjectData());break;case o.eContentType.ContentList:i=n.iFlowObjectDataArray();break;default:r=n}return new this({contentFormat:"",contentType:o.eContentType[t],contentValue:r,developerName:e,objectData:i,typeElementId:"",typeElementPropertyId:""})},Object.defineProperty(e.prototype,"contentFormat",{get:function(){return this.ContentFormat},set:function(e){this.contentFormat=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentType",{get:function(){return this.ContentType},set:function(e){this.ContentType=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"developerName",{get:function(){return this.DeveloperName},set:function(e){this.DeveloperName=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"typeElementId",{get:function(){return this.TypeElementId},set:function(e){this.TypeElementId=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"typeElementPropertyId",{get:function(){return this.TypeElementPropertyId},set:function(e){this.TypeElementPropertyId=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){switch(this.contentType){case o.eContentType.ContentNumber:return parseFloat(this.Value?this.Value:"0");case o.eContentType.ContentBoolean:return"true"===new String(this.Value).toLowerCase();default:return this.Value}},set:function(e){this.Value=e},enumerable:!0,configurable:!0}),e.prototype.clone=function(){var t;switch(this.contentType){case o.eContentType.ContentList:t=new i.FlowObjectDataArray,this.value.items.forEach((function(e){t.addItem(e.clone(e.developerName))}));break;case o.eContentType.ContentObject:t=this.value.clone(this.value.developerName);break;default:t=this.value}return e.newInstance(this.developerName,this.contentType,t)},e.prototype.iFlowObjectDataProperty=function(){var e="",t=[];switch(this.ContentType){case o.eContentType.ContentObject:var n=this.Value;n&&n.developerName&&n.developerName.length>0&&t.push(n.iObjectData());break;case o.eContentType.ContentList:t=this.Value.iFlowObjectDataArray();break;default:e=this.Value}return{contentFormat:this.ContentFormat,contentType:o.eContentType[this.ContentType],contentValue:e,developerName:this.DeveloperName,objectData:t,typeElementId:this.TypeElementId,typeElementPropertyId:this.TypeElementPropertyId}},Object.defineProperty(e.prototype,"displayString",{get:function(){var e="";if(this.Value)switch(this.ContentType){case o.eContentType.ContentString:case o.eContentType.ContentNumber:e=this.Value;break;case o.eContentType.ContentBoolean:e=!0===this.Value?"True":"False";break;case o.eContentType.ContentDateTime:var t=Date.parse(this.Value);if(!isNaN(t)){var n=new Date(t);return e.length<=10?n.toLocaleDateString():n.toLocaleString()}break;default:e=o.eContentType[this.ContentType]}else e="Undefined";return e},enumerable:!0,configurable:!0}),e}();t.FlowObjectDataProperty=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(6);!function(e){e.Save="SAVE",e.PartialSave="PARTIAL_SAVE",e.NoSave="NO_SAVE"}(t.ePageActionBindingType||(t.ePageActionBindingType={})),function(e){e.New="NEW",e.Query="QUERY",e.Insert="INSERT",e.Update="UPDATE",e.Upsert="UPSERT",e.Delete="DELETE",e.Remove="REMOVE",e.Add="ADD",e.Edit="EDIT",e.Next="NEXT",e.Back="BACK",e.Done="DONE",e.Save="SAVE",e.Cancel="CANCEL",e.Apply="APPLY",e.Import="IMPORT",e.Close="CLOSE",e.Open="OPEN",e.Submit="SUBMIT",e.Escalate="ESCALATE",e.Reject="REJECT",e.Delegate="DELEGATE"}(t.ePageActionType||(t.ePageActionType={}));var r=function(){function e(e){if(this.DeveloperName=e.developerName,this.Id=e.id,this.IsBulkAction=e.isBulkAction,this.IsOut=e.isOut,this.Label=e.label,this.Order=e.order,this.PageActionBindingType=e.pageActionBindingType,this.PageActionType=e.pageActionType,this.PageObjectBindingId=e.pageObjectBindingId,this.Attributes={},e.attributes)for(var t=0,n=Object.keys(e.attributes);t<n.length;t++){var r=n[t];this.Attributes[r]=new o.FlowAttribute(r,e.attributes[r])}this.Outcome=e}return Object.defineProperty(e.prototype,"developerName",{get:function(){return this.DeveloperName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.Id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isBulkAction",{get:function(){return this.IsBulkAction},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isOut",{get:function(){return this.IsOut},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"label",{get:function(){return this.Label},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"order",{get:function(){return this.Order},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageActionBindingType",{get:function(){return this.PageActionBindingType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageActionType",{get:function(){return this.PageActionType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageObjectBindingId",{get:function(){return this.PageObjectBindingId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"attributes",{get:function(){return this.Attributes},enumerable:!0,configurable:!0}),e.prototype.iFlowOutcome=function(){return this.Outcome},e}();t.FlowOutcome=r},function(e,t,n){(function(t){var n="Expected a function",o=NaN,r="[object Symbol]",i=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,l=parseInt,c="object"==typeof t&&t&&t.Object===Object&&t,p="object"==typeof self&&self&&self.Object===Object&&self,d=c||p||Function("return this")(),f=Object.prototype.toString,h=Math.max,y=Math.min,m=function(){return d.Date.now()};function b(e,t,o){var r,i,a,s,u,l,c=0,p=!1,d=!1,f=!0;if("function"!=typeof e)throw new TypeError(n);function b(t){var n=r,o=i;return r=i=void 0,c=t,s=e.apply(o,n)}function w(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-c>=a}function O(){var e=m();if(w(e))return C(e);u=setTimeout(O,function(e){var n=t-(e-l);return d?y(n,a-(e-c)):n}(e))}function C(e){return u=void 0,f&&r?b(e):(r=i=void 0,s)}function T(){var e=m(),n=w(e);if(r=arguments,i=this,l=e,n){if(void 0===u)return function(e){return c=e,u=setTimeout(O,t),p?b(e):s}(l);if(d)return u=setTimeout(O,t),b(l)}return void 0===u&&(u=setTimeout(O,t)),s}return t=g(t)||0,v(o)&&(p=!!o.leading,a=(d="maxWait"in o)?h(g(o.maxWait)||0,t):a,f="trailing"in o?!!o.trailing:f),T.cancel=function(){void 0!==u&&clearTimeout(u),c=0,r=l=i=u=void 0},T.flush=function(){return void 0===u?s:C(m())},T}function v(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function g(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&f.call(e)==r}(e))return o;if(v(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=v(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var n=s.test(e);return n||u.test(e)?l(e.slice(2),n?2:8):a.test(e)?o:+e}e.exports=function(e,t,o){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError(n);return v(o)&&(r="leading"in o?!!o.leading:r,i="trailing"in o?!!o.trailing:i),b(e,t,{leading:r,maxWait:t,trailing:i})}}).call(this,n(15))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var u=s(n(2));n(5);var l=n(7),c=n(3),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.componentDidMount=function(){return i(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,e.prototype.componentDidMount.call(this)];case 1:return t.sent(),this.forceUpdate(),[2]}}))}))},t.prototype.render=function(){var e=this;if(this.loadingState!==c.eLoadingState.ready)return u.createElement("div",{className:"file-box"});var t=this.getStateValue(),n=t.properties.FileName.value,o=(t.properties.Extension.value,t.properties.Size.value,t.properties.MimeType.value,"data:binary/octet-stream;base64,"+t.properties.Content.value),r=this.getAttribute("title","File Downloader"),s="glyphicon glyphicon-"+this.getAttribute("icon","envelope")+" icon-button",l={fontSize:parseInt(this.getAttribute("pointSize","24"))+"pt"},p=this.getAttribute("onClickOutcome","");return u.createElement("div",{className:"file-box"},u.createElement("div",{className:"file-box-body"},u.createElement("a",{download:n,href:o,onClick:function(t){return i(e,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return p.length>0?[4,this.triggerOutcome(p)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}},u.createElement("span",{className:s,style:l,title:r}))))},t}(l.FlowComponent);manywho.component.register("FileDownloaderComplex",p),t.default=p}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy9PcGVyYXRpb25hbCBEYXRhL0Zsb3cgVUkgQ3VzdG9tIENvbXBvbmVudHMvMjAxOSBWZXJzaW9uL0Zsb3dDb21wb25lbnRNb2RlbC9zcmMvRmxvd0ZpZWxkLnRzIiwid2VicGFjazovLy8vT3BlcmF0aW9uYWwgRGF0YS9GbG93IFVJIEN1c3RvbSBDb21wb25lbnRzLzIwMTkgVmVyc2lvbi9GbG93Q29tcG9uZW50TW9kZWwvc3JjL0Zsb3dPYmplY3REYXRhLnRzIiwid2VicGFjazovLy9leHRlcm5hbCBcIlJlYWN0XCIiLCJ3ZWJwYWNrOi8vLy9PcGVyYXRpb25hbCBEYXRhL0Zsb3cgVUkgQ3VzdG9tIENvbXBvbmVudHMvMjAxOSBWZXJzaW9uL0Zsb3dDb21wb25lbnRNb2RlbC9zcmMvRmxvd0Jhc2VDb21wb25lbnQudHN4Iiwid2VicGFjazovLy8vT3BlcmF0aW9uYWwgRGF0YS9GbG93IFVJIEN1c3RvbSBDb21wb25lbnRzLzIwMTkgVmVyc2lvbi9GbG93Q29tcG9uZW50TW9kZWwvc3JjL0Zsb3dPYmplY3REYXRhQXJyYXkudHMiLCJ3ZWJwYWNrOi8vLy9PcGVyYXRpb25hbCBEYXRhL0Zsb3cgVUkgQ3VzdG9tIENvbXBvbmVudHMvMjAxOSBWZXJzaW9uL0Zsb3dDb21wb25lbnRNb2RlbC9zcmMvRmxvd0F0dHJpYnV0ZS50cyIsIndlYnBhY2s6Ly8vL09wZXJhdGlvbmFsIERhdGEvRmxvdyBVSSBDdXN0b20gQ29tcG9uZW50cy8yMDE5IFZlcnNpb24vRmxvd0NvbXBvbmVudE1vZGVsL3NyYy9GbG93Q29tcG9uZW50LnRzeCIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXgudHN4Iiwid2VicGFjazovLy8uL3NyYy9maWxlLWRvd25sb2FkZXIudHN4Iiwid2VicGFjazovLy8vT3BlcmF0aW9uYWwgRGF0YS9GbG93IFVJIEN1c3RvbSBDb21wb25lbnRzLzIwMTkgVmVyc2lvbi9GbG93Q29tcG9uZW50TW9kZWwvc3JjL0V2ZW50TWFuYWdlci50cyIsIndlYnBhY2s6Ly8vL09wZXJhdGlvbmFsIERhdGEvRmxvdyBVSSBDdXN0b20gQ29tcG9uZW50cy8yMDE5IFZlcnNpb24vRmxvd0NvbXBvbmVudE1vZGVsL3NyYy9GbG93RGlzcGxheUNvbHVtbi50cyIsIndlYnBhY2s6Ly8vL09wZXJhdGlvbmFsIERhdGEvRmxvdyBVSSBDdXN0b20gQ29tcG9uZW50cy8yMDE5IFZlcnNpb24vRmxvd0NvbXBvbmVudE1vZGVsL3NyYy9GbG93T2JqZWN0RGF0YVByb3BlcnR5LnRzIiwid2VicGFjazovLy8vT3BlcmF0aW9uYWwgRGF0YS9GbG93IFVJIEN1c3RvbSBDb21wb25lbnRzLzIwMTkgVmVyc2lvbi9GbG93Q29tcG9uZW50TW9kZWwvc3JjL0Zsb3dPdXRjb21lLnRzIiwid2VicGFjazovLy8vT3BlcmF0aW9uYWwgRGF0YS9GbG93IFVJIEN1c3RvbSBDb21wb25lbnRzLzIwMTkgVmVyc2lvbi9GbG93Q29tcG9uZW50TW9kZWwvbm9kZV9tb2R1bGVzL2xvZGFzaC50aHJvdHRsZS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vL09wZXJhdGlvbmFsIERhdGEvRmxvdyBVSSBDdXN0b20gQ29tcG9uZW50cy8yMDE5IFZlcnNpb24vRmlsZURvd25sb2FkZXIvbm9kZV9tb2R1bGVzL3dlYnBhY2svYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZpbGUtZG93bmxvYWRlci1jb21wbGV4LnRzeCJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImVDb250ZW50VHlwZSIsImZpZWxkIiwiQ29udGVudFR5cGUiLCJ1bmtub3duIiwiRGV2ZWxvcGVyTmFtZSIsIlR5cGVFbGVtZW50RGV2ZWxvcGVyTmFtZSIsIlR5cGVFbGVtZW50SWQiLCJUeXBlRWxlbWVudFByb3BlcnR5RGV2ZWxvcGVyTmFtZSIsIlR5cGVFbGVtZW50UHJvcGVydHlJZCIsIlZhbHVlRWxlbWVudElkIiwidGhpcyIsImNvbnRlbnRUeXBlIiwiZGV2ZWxvcGVyTmFtZSIsInR5cGVFbGVtZW50RGV2ZWxvcGVyTmFtZSIsInR5cGVFbGVtZW50SWQiLCJ0eXBlRWxlbWVudFByb3BlcnR5RGV2ZWxvcGVyTmFtZSIsInR5cGVFbGVtZW50UHJvcGVydHlJZCIsInZhbHVlRWxlbWVudElkIiwiQ29udGVudE9iamVjdCIsIlZhbHVlIiwib2JqZWN0RGF0YSIsIkZsb3dPYmplY3REYXRhIiwidW5kZWZpbmVkIiwiQ29udGVudExpc3QiLCJGbG93T2JqZWN0RGF0YUFycmF5IiwiY29udGVudFZhbHVlIiwiaUZsb3dGaWVsZCIsIm9kIiwicHVzaCIsImlPYmplY3REYXRhIiwiaUZsb3dPYmplY3REYXRhQXJyYXkiLCJGbG93RmllbGQiLCJkYXRhIiwiRXh0ZXJuYWxJZCIsIkludGVybmFsSWQiLCJJc1NlbGVjdGVkIiwiT3JkZXIiLCJQcm9wZXJ0aWVzIiwiaW50ZXJuYWxJZCIsImV4dGVybmFsSWQiLCJvcmRlciIsImlzU2VsZWN0ZWQiLCJwcm9wZXJ0aWVzIiwiRmxvd09iamVjdERhdGFQcm9wZXJ0eSIsIm5ld0luc3RhbmNlIiwibWFueXdobyIsInV0aWxzIiwiZ3VpZCIsImFkZFByb3BlcnR5IiwibmV3UHJvcGVydHkiLCJyZW1vdmVQcm9wZXJ0eSIsImNsb25lIiwibmV3VHlwZU5hbWUiLCJrZXlzIiwiZm9yRWFjaCIsIm5ld1Byb3AiLCJwcm9wcyIsImlGbG93T2JqZWN0RGF0YVByb3BlcnR5Iiwib3V0cHV0IiwiUmVhY3QiLCJlTG9hZGluZ1N0YXRlIiwidGhyb3R0bGUiLCJGaWVsZHMiLCJBdHRyaWJ1dGVzIiwiT3V0Y29tZXMiLCJzZW5kQ29sbGFib3JhdGlvbk1lc3NhZ2UiLCJfc2VuZENvbGxhYm9yYXRpb25NZXNzYWdlIiwiTG9hZGluZ1N0YXRlIiwiaW5pdGl0aWFsaXppbmciLCJsb2FkVmFsdWVzIiwiZG9udExvYWRWYWx1ZXMiLCJ1cGRhdGVWYWx1ZXMiLCJ0cmlnZ2VyT3V0Y29tZSIsIkNvbXBvbmVudElkIiwiaWQiLCJQYXJlbnRJZCIsInBhcmVudElkIiwiRmxvd0tleSIsImZsb3dLZXkiLCJsb2FkTW9kZWwiLCJsb2FkQXR0cmlidXRlcyIsImxvYWRPdXRjb21lcyIsInJlY2VpdmVNZXNzYWdlIiwiZ2V0U3RhdGVWYWx1ZSIsInNldFN0YXRlVmFsdWUiLCJnZXRTdGF0ZVZhbHVlVHlwZSIsIm9uQmVmb3JlU2VuZCIsIm9uRG9uZSIsImNhbGN1bGF0ZVZhbHVlIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsImJhc2VVcmwiLCJzZXR0aW5ncyIsImdsb2JhbCIsImxvY2F0aW9uIiwib3JpZ2luIiwiU3RhdGVJZCIsImV4dHJhY3RTdGF0ZUlkIiwiVGVuYW50SWQiLCJleHRyYWN0VGVuYW50SWQiLCJ1cmwiLCJ1c2VydXJsIiwidmFsdWV1cmwiLCJpbml0aXRpYWxpemVkIiwicmVhZHkiLCJNb2RlbCIsIlVzZXIiLCJocmVmIiwiSXNEZXNpZ25UaW1lIiwiZ2V0QXR0cmlidXRlIiwiYXR0cmlidXRlTmFtZSIsImRlZmF1bHRWYWx1ZSIsImF0dHJpYnV0ZXMiLCJ4aHIiLCJyZXF1ZXN0Iiwib2MiLCJnZXRPdXRjb21lQnlJZCIsIm1hcEVsZW1lbnRJbnZva2VSZXF1ZXN0Iiwic2VsZWN0ZWRPdXRjb21lSWQiLCJvY3QiLCJldmVudE1hbmFnZXIiLCJvdXRjb21lQmVpbmdUcmlnZ2VyZWQiLCJzdGFydHNXaXRoIiwiZW5kc1dpdGgiLCJzdHJpcHBlZCIsInJlcGxhY2UiLCJ2YWwiLCJyZXN1bHQiLCJzdHJpcHBlZEJpdHMiLCJzcGxpdCIsInBvcyIsImxlbmd0aCIsImZpZWxkcyIsImxvYWRWYWx1ZSIsImNvbnNvbGUiLCJsb2ciLCJlbGUiLCJhdHRyIiwidG9Mb3dlckNhc2UiLCJjbG9zZSIsInRhcmdldFVybCIsIkF1dG9PcGVuVXJsIiwib3BlbiIsImFsZXJ0IiwiQXV0b05hdlVybCIsInByaW50IiwiY29tcG9uZW50RGlkTW91bnQiLCJtb3VudGluZyIsImFkZERvbmVMaXN0ZW5lciIsImNvbXBvbmVudElkIiwiYWRkQmVmb3JlU2VuZExpc3RlbmVyIiwiZmxvd01vZGVsIiwibW9kZWwiLCJnZXRDb21wb25lbnQiLCJmbG93U3RhdGUiLCJzdGF0ZSIsIkpTT04iLCJwYXJzZSIsInN0cmluZ2lmeSIsImxpc3REYXRhIiwibW91bnRlZCIsInJlbW92ZUxvYWRpbmdJbmRpY2F0b3IiLCJQcm9taXNlIiwicmVzb2x2ZSIsImNvbXBvbmVudFdpbGxVbm1vdW50IiwicmVtb3ZlQmVmb3JlU2VuZExpc3RlbmVyIiwicmVtb3ZlRG9uZUxpc3RlbmVyIiwibG9hZE91dGNvbWUiLCJvdXRjb21lSWQiLCJvdXRjb21lIiwiZ2V0T3V0Y29tZSIsIkZsb3dPdXRjb21lIiwib3V0cyIsImdldE91dGNvbWVzIiwib3V0Y29tZXMiLCJhdHRycyIsIkZsb3dBdHRyaWJ1dGUiLCJkYXRhU291cmNlIiwiZGlzcGxheUNvbHVtbnMiLCJlbmFibGVkIiwiaXNFbmFibGVkIiwiaGVpZ2h0IiwiaGVscEluZm8iLCJoaW50SW5mbyIsImhpbnRWYWx1ZSIsImpvaW5VcmkiLCJqb2luVVJJIiwibGFiZWwiLCJtYXhTaXplIiwibXVsdGlTZWxlY3QiLCJpc011bHRpU2VsZWN0IiwicmVhZE9ubHkiLCJpc0VkaXRhYmxlIiwicmVxdWlyZWQiLCJpc1JlcXVpcmVkIiwic2l6ZSIsInZhbGlkYXRpb25NZXNzYWdlIiwidmlzaWJsZSIsImlzVmlzaWJsZSIsIndpZHRoIiwiZHMiLCJhZGRJdGVtIiwiY29scyIsImNvbHVtbnMiLCJjb2wiLCJGbG93RGlzcGxheUNvbHVtbiIsInZhbHVlTmFtZSIsImxvYWRpbmciLCJjb25uZWN0aW9uIiwiZ2V0QXV0aGVudGljYXRpb25Ub2tlbiIsImdldFJlc3VsdEJvZHlUZXh0IiwicmVzcG9uc2UiLCJ0ZXh0IiwidGhlbiIsInN1YnN0ciIsImNhbGxSZXF1ZXN0IiwibWV0aG9kIiwiYXV0aGVudGljYXRpb25Ub2tlbiIsInJlc3VsdHMiLCJoZWFkZXJzIiwidGVuYW50SWQiLCJjcmVkZW50aWFscyIsImJvZHkiLCJmZXRjaCIsInN0YXR1cyIsImpzb24iLCJlcnJvclRleHQiLCJjYWxsUmVxdWVzdE9sZCIsIm1hcCIsInVzZXJ2YWwiLCJ1IiwiZGlyZWN0b3J5SWQiLCJkaXJlY3RvcnlOYW1lIiwiZW1haWwiLCJmaXJzdE5hbWUiLCJncm91cElkIiwiZ3JvdXBOYW1lIiwiaXBBZGRyZXNzIiwibGFuZ3VhZ2UiLCJsYXN0TmFtZSIsInJvbGVJZCIsInJvbGVOYW1lIiwidXNlck5hbWUiLCJpZ25vcmVTdGF0ZSIsIm9sZFN0YXRlIiwibG9hZGluZ1N0YXRlIiwic2F2aW5nIiwibmV3U3RhdGUiLCJzZXRDb21wb25lbnQiLCJvYmplY3REYXRhQXJyYXkiLCJ0b0lTT1N0cmluZyIsImNvbGxhYm9yYXRpb24iLCJpc0luaXRpYWxpemVkIiwiZXZlbnRIYW5kbGVkIiwiYSIsImIiLCJ2YWx1ZXMiLCJ1cGRhdGVGaWVsZHMiLCJjb25zdHJ1Y3RvciIsIm1lc3NhZ2UiLCJvdXRjb21lTmFtZSIsIm1vdmluZyIsImlGbG93T3V0Y29tZSIsImNvbXBvbmVudCIsIm9uT3V0Y29tZSIsIm1vdmVUbyIsImZsb3dFbGVtZW50SWQiLCJub3ciLCJEYXRlIiwidGltZXN0YW1wIiwiZ2V0SG91cnMiLCJzbGljZSIsImdldE1pbnV0ZXMiLCJnZXRTZWNvbmRzIiwiam9pbiIsImxhdW5jaEZsb3dTaWxlbnQiLCJ0ZW5hbnQiLCJmbG93SWQiLCJwbGF5ZXIiLCJpbnB1dHMiLCJsYXVuY2hGbG93VGFiIiwiY29tcG9uZW50RGlkVXBkYXRlIiwiYWN0aW9uIiwidG9VcHBlckNhc2UiLCJmaWVsZE5hbWUiLCJtc2ciLCJoYW5kbGVNZXNzYWdlIiwiQ29tcG9uZW50IiwiRmxvd0Jhc2VDb21wb25lbnQiLCJlU29ydE9yZGVyIiwiYXJyYXkiLCJJdGVtcyIsIml0ZW0iLCJzb3J0IiwiYXNjZW5kaW5nIiwidmFsQSIsInZhbEIiLCJDb250ZW50TnVtYmVyIiwicGFyc2VGbG9hdCIsIkNvbnRlbnREYXRlVGltZSIsImNsZWFySXRlbXMiLCJpdGVtcyIsIm9iaiIsImdldEl0ZW1XaXRoUHJvcGVydHlOYW1lIiwiZmluZFByb3BlcnR5Iiwid2l0aFZhbHVlIiwicmV0dXJuUHJvcGVydHkiLCJjb21wYXJlVG8iLCJDb250ZW50U3RyaW5nIiwiQ29udGVudEJvb2xlYW4iLCJTdHJpbmciLCJnZXRJdGVtV2l0aFByb3BlcnR5VmFsdWUiLCJnZXRJbmRleE9mSXRlbVdpdGhQcm9wZXJ0eVZhbHVlIiwicmVtb3ZlSXRlbVdpdGhQcm9wZXJ0eVZhbHVlIiwibW9kaWZpZWRDb3VudCIsInNwbGljZSIsInJlbW92ZUl0ZW1BdEluZGV4IiwiaW5kZXgiLCJOYW1lIiwiRmxvd0NvbXBvbmVudCIsImZvcmNlVXBkYXRlIiwicmVuZGVyIiwiY2xhc3NOYW1lIiwiZGF0YVVyaSIsImNhcHRpb24iLCJpY29uU2l6ZSIsInBhcnNlSW50IiwiaWNvblN0eWxlIiwiZm9udFNpemUiLCJkb3dubG9hZCIsIm9uQ2xpY2siLCJlIiwic3R5bGUiLCJ0aXRsZSIsInJlZ2lzdGVyIiwiRmlsZURvd25sb2FkZXIiLCJiZWZvcmVTZW5kTGlzdGVuZXJzIiwiZG9uZUxpc3RlbmVycyIsImZhaWxMaXN0ZW5lcnMiLCJiZWZvcmVTZW5kIiwiZG9uZSIsImZhaWwiLCJoYW5kbGVyIiwiYWRkRmFpbExpc3RlbmVyIiwicmVtb3ZlRmFpbExpc3RlbmVyIiwiaW5pdGlhbGl6ZSIsImludm9rZSIsImNvbHVtbiIsIkNvbHVtbiIsIkNvbXBvbmVudFR5cGUiLCJjb21wb25lbnRUeXBlIiwiQ29udGVudEZvcm1hdCIsImNvbnRlbnRGb3JtYXQiLCJEaXNwbGF5T3JkZXIiLCJMYWJlbCIsIlJlYWRPbmx5IiwiVHlwZUVsZW1lbXRQcm9wZXJ0eVRvRGlzcGxheUlkIiwidHlwZUVsZW1lbXRQcm9wZXJ0eVRvRGlzcGxheUlkIiwiVmlzaWJsZSIsImlzRGlzcGxheVZhbHVlIiwiaUZsb3dEaXNwbGF5Q29sdW1uIiwiY3YiLCJvYmpkIiwiaXNOYU4iLCJkdCIsInRvTG9jYWxlRGF0ZVN0cmluZyIsInRvTG9jYWxlU3RyaW5nIiwiZVBhZ2VBY3Rpb25CaW5kaW5nVHlwZSIsImVQYWdlQWN0aW9uVHlwZSIsIklkIiwiSXNCdWxrQWN0aW9uIiwiaXNCdWxrQWN0aW9uIiwiSXNPdXQiLCJpc091dCIsIlBhZ2VBY3Rpb25CaW5kaW5nVHlwZSIsInBhZ2VBY3Rpb25CaW5kaW5nVHlwZSIsIlBhZ2VBY3Rpb25UeXBlIiwicGFnZUFjdGlvblR5cGUiLCJQYWdlT2JqZWN0QmluZGluZ0lkIiwicGFnZU9iamVjdEJpbmRpbmdJZCIsIk91dGNvbWUiLCJGVU5DX0VSUk9SX1RFWFQiLCJOQU4iLCJzeW1ib2xUYWciLCJyZVRyaW0iLCJyZUlzQmFkSGV4IiwicmVJc0JpbmFyeSIsInJlSXNPY3RhbCIsImZyZWVQYXJzZUludCIsImZyZWVHbG9iYWwiLCJmcmVlU2VsZiIsInNlbGYiLCJyb290IiwiRnVuY3Rpb24iLCJvYmplY3RUb1N0cmluZyIsInRvU3RyaW5nIiwibmF0aXZlTWF4IiwiTWF0aCIsIm1heCIsIm5hdGl2ZU1pbiIsIm1pbiIsImRlYm91bmNlIiwiZnVuYyIsIndhaXQiLCJvcHRpb25zIiwibGFzdEFyZ3MiLCJsYXN0VGhpcyIsIm1heFdhaXQiLCJ0aW1lcklkIiwibGFzdENhbGxUaW1lIiwibGFzdEludm9rZVRpbWUiLCJsZWFkaW5nIiwibWF4aW5nIiwidHJhaWxpbmciLCJUeXBlRXJyb3IiLCJpbnZva2VGdW5jIiwidGltZSIsImFyZ3MiLCJ0aGlzQXJnIiwiYXBwbHkiLCJzaG91bGRJbnZva2UiLCJ0aW1lU2luY2VMYXN0Q2FsbCIsInRpbWVyRXhwaXJlZCIsInRyYWlsaW5nRWRnZSIsInNldFRpbWVvdXQiLCJyZW1haW5pbmdXYWl0IiwiZGVib3VuY2VkIiwiaXNJbnZva2luZyIsImFyZ3VtZW50cyIsImxlYWRpbmdFZGdlIiwidG9OdW1iZXIiLCJpc09iamVjdCIsImNhbmNlbCIsImNsZWFyVGltZW91dCIsImZsdXNoIiwidHlwZSIsImlzT2JqZWN0TGlrZSIsImlzU3ltYm9sIiwib3RoZXIiLCJ2YWx1ZU9mIiwiaXNCaW5hcnkiLCJ0ZXN0IiwiZyIsImZpbGVOYW1lIiwiRmlsZU5hbWUiLCJFeHRlbnNpb24iLCJTaXplIiwiTWltZVR5cGUiLCJDb250ZW50IiwiRmlsZURvd25sb2FkZXJDb21wbGV4Il0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlYixFQUFTaUIsT0FBT0MsWUFB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Q0EyQ0EsT0EzQ29DLE9BRTFCLFlBQUF4UyxrQkFBTixXLDBGQUNJLFNBQU0sWUFBTUEsa0JBQWlCLFksY0FBN0IsU0FDQXhJLEtBQUtzVCxjLFlBR1QsWUFBQUMsT0FBQSxzQkFDSSxHQUFJdlQsS0FBSzJPLGVBQWlCLEVBQUF6TCxjQUFjNEMsTUFDcEMsT0FBTyx1QkFBSzBOLFVBQVUsYUFHMUIsSUFBTXZTLEVBQXFCakIsS0FBS3lFLGdCQUUxQndXLEVBQW1CaGEsRUFBR2UsV0FBV2taLFNBQVMzYyxNQUsxQ2tWLEdBSm9CeFMsRUFBR2UsV0FBV21aLFVBQVU1YyxNQUM3QjBDLEVBQUdlLFdBQVdvWixLQUFLN2MsTUFDZjBDLEVBQUdlLFdBQVdxWixTQUFTOWMsTUFFeEIsbUNBQXFDMEMsRUFBR2UsV0FBV3NaLFFBQVEvYyxPQUU3RW1WLEVBQWtCMVQsS0FBS21HLGFBQWEsUUFBUSxtQkFFNUNxTixFQUFvQix1QkFETHhULEtBQUttRyxhQUFhLE9BQU8sWUFDWSxlQUVwRDBOLEVBQWlDLENBQUVDLFNBRGhCRixTQUFTNVQsS0FBS21HLGFBQWEsWUFBYSxPQUNILE1BQ3hENEQsRUFBa0IvSixLQUFLbUcsYUFBYSxpQkFBa0IsSUFFNUQsT0FDQSx1QkFBS3FOLFVBQVUsWUFDWCx1QkFBS0EsVUFBVSxpQkFDWCxxQkFDSU8sU0FBVWtILEVBQ1ZoVixLQUFNd04sRUFDTk8sUUFBUyxTQUFPQyxHQUFNLGdFLDhCQUFTbEssRUFBUXRDLE9BQVMsRUFBSSxHQUFNekgsS0FBSzhELGVBQWVpRyxJQUEvQyxNLE9BQXFCLFMsb0NBRXBELHdCQUFNeUosVUFBV0EsRUFBV1UsTUFBT0wsRUFBV00sTUFBT1QsUUFPekUsRUEzQ0EsQ0FBb0MsRUFBQUwsZUE2Q3BDbFIsUUFBUTBOLFVBQVV1RSxTQUFTLHdCQUF5Qm1ILEdBRXBELFVBQWVBIiwiZmlsZSI6IkZpbGVEb3dubG9hZGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDgpO1xuIiwiaW1wb3J0IHtGbG93T2JqZWN0RGF0YSwgSUZsb3dPYmplY3REYXRhfSBmcm9tICcuL0Zsb3dPYmplY3REYXRhJztcclxuaW1wb3J0IHtGbG93T2JqZWN0RGF0YUFycmF5fSBmcm9tICcuL0Zsb3dPYmplY3REYXRhQXJyYXknO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJRmxvd0ZpZWxkIHtcclxuICAgIGNvbnRlbnRUeXBlOiBzdHJpbmc7XHJcbiAgICBjb250ZW50VmFsdWU6IHN0cmluZztcclxuICAgIGRldmVsb3Blck5hbWU6IHN0cmluZztcclxuICAgIG9iamVjdERhdGE6IElGbG93T2JqZWN0RGF0YVtdO1xyXG4gICAgdHlwZUVsZW1lbnREZXZlbG9wZXJOYW1lOiBzdHJpbmc7XHJcbiAgICB0eXBlRWxlbWVudElkOiBzdHJpbmc7XHJcbiAgICB0eXBlRWxlbWVudFByb3BlcnR5RGV2ZWxvcGVyTmFtZTogc3RyaW5nO1xyXG4gICAgdHlwZUVsZW1lbnRQcm9wZXJ0eUlkOiBzdHJpbmc7XHJcbiAgICB2YWx1ZUVsZW1lbnRJZDogc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgZW51bSBlQ29udGVudFR5cGUge1xyXG4gICAgdW5rbm93bixcclxuICAgIENvbnRlbnRTdHJpbmcsXHJcbiAgICBDb250ZW50TnVtYmVyLFxyXG4gICAgQ29udGVudE9iamVjdCxcclxuICAgIENvbnRlbnRCb29sZWFuLFxyXG4gICAgQ29udGVudExpc3QsXHJcbiAgICBDb250ZW50UGFzc3dvcmQsXHJcbiAgICBDb250ZW50Q29udGVudCxcclxuICAgIENvbnRlbnREYXRlVGltZSxcclxuICAgIENvbnRlbnRFbmNyeXB0ZWQsXHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBGbG93RmllbGQge1xyXG4gICAgcHJpdmF0ZSBDb250ZW50VHlwZTogZUNvbnRlbnRUeXBlID0gZUNvbnRlbnRUeXBlLnVua25vd247XHJcbiAgICBwcml2YXRlIERldmVsb3Blck5hbWU6IHN0cmluZyA9IFwiXCI7XHJcbiAgICBwcml2YXRlIFR5cGVFbGVtZW50RGV2ZWxvcGVyTmFtZTogc3RyaW5nID0gXCJcIjtcclxuICAgIHByaXZhdGUgVHlwZUVsZW1lbnRJZDogc3RyaW5nID0gXCJcIjtcclxuICAgIHByaXZhdGUgVHlwZUVsZW1lbnRQcm9wZXJ0eURldmVsb3Blck5hbWU6IHN0cmluZyA9IFwiXCI7XHJcbiAgICBwcml2YXRlIFR5cGVFbGVtZW50UHJvcGVydHlJZDogc3RyaW5nID0gXCJcIjtcclxuICAgIHByaXZhdGUgVmFsdWVFbGVtZW50SWQ6IHN0cmluZyA9IFwiXCI7XHJcbiAgICBwcml2YXRlIFZhbHVlOiBzdHJpbmcgfCBudW1iZXIgfCBEYXRlIHwgYm9vbGVhbiB8IEZsb3dPYmplY3REYXRhIHwgRmxvd09iamVjdERhdGFBcnJheSB8IHVuZGVmaW5lZDtcclxuXHJcbiAgICBnZXQgY29udGVudFR5cGUoKTogZUNvbnRlbnRUeXBlIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5Db250ZW50VHlwZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgZGV2ZWxvcGVyTmFtZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLkRldmVsb3Blck5hbWU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHR5cGVFbGVtZW50RGV2ZWxvcGVyTmFtZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLlR5cGVFbGVtZW50RGV2ZWxvcGVyTmFtZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgdHlwZUVsZW1lbnRJZCgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLlR5cGVFbGVtZW50SWQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHR5cGVFbGVtZW50UHJvcGVydHlEZXZlbG9wZXJOYW1lKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuVHlwZUVsZW1lbnRQcm9wZXJ0eURldmVsb3Blck5hbWU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHR5cGVFbGVtZW50UHJvcGVydHlJZCgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLlR5cGVFbGVtZW50UHJvcGVydHlJZDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgdmFsdWVFbGVtZW50SWQoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5WYWx1ZUVsZW1lbnRJZDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgdmFsdWUoKTogc3RyaW5nIHwgbnVtYmVyIHwgRGF0ZSB8IGJvb2xlYW4gfCBGbG93T2JqZWN0RGF0YSB8IEZsb3dPYmplY3REYXRhQXJyYXkgfCB1bmRlZmluZWQge1xyXG4gICAgICAgIHJldHVybiB0aGlzLlZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCB2YWx1ZSh2YWx1ZTogc3RyaW5nIHwgbnVtYmVyIHwgRGF0ZSB8IGJvb2xlYW4gfCBGbG93T2JqZWN0RGF0YSB8IEZsb3dPYmplY3REYXRhQXJyYXkgfCB1bmRlZmluZWQpIHtcclxuICAgICAgICB0aGlzLlZhbHVlID0gdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3RydWN0b3IoZmllbGQ/OiBJRmxvd0ZpZWxkKSB7XHJcbiAgICAgICAgaWYoZmllbGQpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLkNvbnRlbnRUeXBlID0gZUNvbnRlbnRUeXBlW2ZpZWxkLmNvbnRlbnRUeXBlIGFzIGtleW9mIHR5cGVvZiBlQ29udGVudFR5cGVdO1xyXG4gICAgICAgICAgICB0aGlzLkRldmVsb3Blck5hbWUgPSBmaWVsZC5kZXZlbG9wZXJOYW1lO1xyXG4gICAgICAgICAgICB0aGlzLlR5cGVFbGVtZW50RGV2ZWxvcGVyTmFtZSA9IGZpZWxkLnR5cGVFbGVtZW50RGV2ZWxvcGVyTmFtZTtcclxuICAgICAgICAgICAgdGhpcy5UeXBlRWxlbWVudElkID0gZmllbGQudHlwZUVsZW1lbnRJZDtcclxuICAgICAgICAgICAgdGhpcy5UeXBlRWxlbWVudFByb3BlcnR5RGV2ZWxvcGVyTmFtZSA9IGZpZWxkLnR5cGVFbGVtZW50UHJvcGVydHlEZXZlbG9wZXJOYW1lO1xyXG4gICAgICAgICAgICB0aGlzLlR5cGVFbGVtZW50UHJvcGVydHlJZCA9IGZpZWxkLnR5cGVFbGVtZW50UHJvcGVydHlJZDtcclxuICAgICAgICAgICAgdGhpcy5WYWx1ZUVsZW1lbnRJZCA9IGZpZWxkLnZhbHVlRWxlbWVudElkO1xyXG5cclxuICAgICAgICAgICAgc3dpdGNoICh0aGlzLkNvbnRlbnRUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIGVDb250ZW50VHlwZS5Db250ZW50T2JqZWN0OlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuVmFsdWUgPSBmaWVsZC5vYmplY3REYXRhID8gbmV3IEZsb3dPYmplY3REYXRhKGZpZWxkLm9iamVjdERhdGEpIDogdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgZUNvbnRlbnRUeXBlLkNvbnRlbnRMaXN0OlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuVmFsdWUgPSBmaWVsZC5vYmplY3REYXRhICYmIGZpZWxkLm9iamVjdERhdGFbMF0gPyBuZXcgRmxvd09iamVjdERhdGFBcnJheShmaWVsZC5vYmplY3REYXRhKSA6IG5ldyBGbG93T2JqZWN0RGF0YUFycmF5KFtdKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuVmFsdWUgPSBmaWVsZC5jb250ZW50VmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaUZsb3dGaWVsZCgpOiBJRmxvd0ZpZWxkIHtcclxuICAgICAgICBsZXQgY29udGVudFZhbHVlOiBzdHJpbmcgPSBcIlwiO1xyXG4gICAgICAgIGxldCBvYmplY3REYXRhOiBJRmxvd09iamVjdERhdGFbXSA9IFtdO1xyXG5cclxuICAgICAgICBzd2l0Y2ggKHRoaXMuQ29udGVudFR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBlQ29udGVudFR5cGUuQ29udGVudE9iamVjdDpcclxuICAgICAgICAgICAgICAgIGNvbnN0IG9kOiBGbG93T2JqZWN0RGF0YSA9IHRoaXMuVmFsdWUgYXMgRmxvd09iamVjdERhdGE7XHJcbiAgICAgICAgICAgICAgICBvYmplY3REYXRhLnB1c2gob2QuaU9iamVjdERhdGEoKSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgZUNvbnRlbnRUeXBlLkNvbnRlbnRMaXN0OlxyXG4gICAgICAgICAgICAgICAgY29uc3Qgb2RhOiBGbG93T2JqZWN0RGF0YUFycmF5ID0gdGhpcy5WYWx1ZSBhcyBGbG93T2JqZWN0RGF0YUFycmF5O1xyXG4gICAgICAgICAgICAgICAgb2JqZWN0RGF0YSA9IG9kYS5pRmxvd09iamVjdERhdGFBcnJheSgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgY29udGVudFZhbHVlID0gdGhpcy5WYWx1ZT8gdGhpcy5WYWx1ZSBhcyBzdHJpbmcgOiBcIlwiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBvdXRwdXQ6IElGbG93RmllbGQgPSB7XHJcbiAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBlQ29udGVudFR5cGVbdGhpcy5Db250ZW50VHlwZV0sXHJcbiAgICAgICAgICAgIGNvbnRlbnRWYWx1ZSxcclxuICAgICAgICAgICAgZGV2ZWxvcGVyTmFtZTogdGhpcy5EZXZlbG9wZXJOYW1lLFxyXG4gICAgICAgICAgICBvYmplY3REYXRhLFxyXG4gICAgICAgICAgICB0eXBlRWxlbWVudERldmVsb3Blck5hbWU6IHRoaXMuVHlwZUVsZW1lbnREZXZlbG9wZXJOYW1lLFxyXG4gICAgICAgICAgICB0eXBlRWxlbWVudElkOiB0aGlzLlR5cGVFbGVtZW50SWQsXHJcbiAgICAgICAgICAgIHR5cGVFbGVtZW50UHJvcGVydHlEZXZlbG9wZXJOYW1lOiB0aGlzLlR5cGVFbGVtZW50UHJvcGVydHlEZXZlbG9wZXJOYW1lLFxyXG4gICAgICAgICAgICB0eXBlRWxlbWVudFByb3BlcnR5SWQ6IHRoaXMuVHlwZUVsZW1lbnRQcm9wZXJ0eUlkLFxyXG4gICAgICAgICAgICB2YWx1ZUVsZW1lbnRJZDogIHRoaXMuVmFsdWVFbGVtZW50SWQsXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG91dHB1dDtcclxuICAgIH1cclxufVxyXG4iLCIvLyBpbXBvcnQgeyBhbnksIHN0cmluZyB9IGZyb20gJ3Byb3AtdHlwZXMnO1xyXG4vLyBpbXBvcnQgeyBvYmplY3REYXRhSGFuZGxlciB9IGZyb20gJy4uL3V0aWxzL3Byb3h5JztcclxuaW1wb3J0IHtlQ29udGVudFR5cGV9IGZyb20gJy4vRmxvd0ZpZWxkJztcclxuaW1wb3J0IHsgRmxvd09iamVjdERhdGFQcm9wZXJ0eSwgSUZsb3dPYmplY3REYXRhUHJvcGVydHkgfSBmcm9tICcuL0Zsb3dPYmplY3REYXRhUHJvcGVydHknO1xyXG4vL2ltcG9ydCB7IElNYW55d2hvLCBJT2JqZWN0RGF0YX0gZnJvbSAnLi9pbnRlcmZhY2VzJztcclxuXHJcbmRlY2xhcmUgY29uc3QgbWFueXdobzogYW55O1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJRmxvd09iamVjdERhdGEge1xyXG4gICAgZGV2ZWxvcGVyTmFtZTogc3RyaW5nO1xyXG4gICAgZXh0ZXJuYWxJZDogc3RyaW5nO1xyXG4gICAgaW50ZXJuYWxJZDogc3RyaW5nO1xyXG4gICAgaXNTZWxlY3RlZDogYm9vbGVhbjtcclxuICAgIG9yZGVyOiBudW1iZXI7XHJcbiAgICBwcm9wZXJ0aWVzOiBJRmxvd09iamVjdERhdGFQcm9wZXJ0eVtdO1xyXG4gICAgdHlwZUVsZW1lbnRJZDogc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgRmxvd09iamVjdERhdGEge1xyXG4gICAgcHJpdmF0ZSBEZXZlbG9wZXJOYW1lOiBzdHJpbmcgPSBcIlwiO1xyXG4gICAgcHJpdmF0ZSBFeHRlcm5hbElkOiBzdHJpbmcgPSBcIlwiO1xyXG4gICAgcHJpdmF0ZSBJbnRlcm5hbElkOiBzdHJpbmcgPSBcIlwiO1xyXG4gICAgcHJpdmF0ZSBJc1NlbGVjdGVkOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICBwcml2YXRlIE9yZGVyOiBudW1iZXIgPSAwO1xyXG4gICAgcHJpdmF0ZSBUeXBlRWxlbWVudElkOiBzdHJpbmcgPSBcIlwiO1xyXG4gICAgcHJpdmF0ZSBQcm9wZXJ0aWVzOiB7W2tleTogc3RyaW5nXTogRmxvd09iamVjdERhdGFQcm9wZXJ0eX0gPSB7fTtcclxuXHJcbiAgICBnZXQgZGV2ZWxvcGVyTmFtZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLkRldmVsb3Blck5hbWU7XHJcbiAgICB9XHJcbiAgICBzZXQgZGV2ZWxvcGVyTmFtZShkZXZlbG9wZXJOYW1lOiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLkRldmVsb3Blck5hbWUgPSBkZXZlbG9wZXJOYW1lO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBleHRlcm5hbElkKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuRXh0ZXJuYWxJZDtcclxuICAgIH1cclxuICAgIHNldCBleHRlcm5hbElkKGV4dGVybmFsSWQ6IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMuRXh0ZXJuYWxJZCA9IGV4dGVybmFsSWQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGludGVybmFsSWQoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5JbnRlcm5hbElkO1xyXG4gICAgfVxyXG4gICAgc2V0IGludGVybmFsSWQoaW50ZXJuYWxJZDogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy5JbnRlcm5hbElkID0gaW50ZXJuYWxJZDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgaXNTZWxlY3RlZCgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5Jc1NlbGVjdGVkO1xyXG4gICAgfVxyXG4gICAgc2V0IGlzU2VsZWN0ZWQoaXNTZWxlY3RlZDogYm9vbGVhbikge1xyXG4gICAgICAgIHRoaXMuSXNTZWxlY3RlZCA9IGlzU2VsZWN0ZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IG9yZGVyKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuT3JkZXI7XHJcbiAgICB9XHJcbiAgICBzZXQgb3JkZXIob3JkZXI6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMuT3JkZXIgPSBvcmRlcjtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgdHlwZUVsZW1lbnRJZCgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLlR5cGVFbGVtZW50SWQ7XHJcbiAgICB9XHJcbiAgICBzZXQgdHlwZUVsZW1lbnRJZCh0eXBlRWxlbWVudElkOiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLlR5cGVFbGVtZW50SWQgPSB0eXBlRWxlbWVudElkO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBwcm9wZXJ0aWVzKCk6IHtba2V5OiBzdHJpbmddOiBGbG93T2JqZWN0RGF0YVByb3BlcnR5fSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuUHJvcGVydGllcztcclxuICAgIH1cclxuXHJcbiAgICBjb25zdHJ1Y3RvcihkYXRhPzogSUZsb3dPYmplY3REYXRhW10pIHtcclxuICAgICAgICBpZiAoZGF0YSAmJiBkYXRhWzBdKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG9iamVjdERhdGEgPSBkYXRhWzBdO1xyXG4gICAgICAgICAgICB0aGlzLkRldmVsb3Blck5hbWUgPSBvYmplY3REYXRhLmRldmVsb3Blck5hbWU7XHJcbiAgICAgICAgICAgIHRoaXMuSW50ZXJuYWxJZCA9IG9iamVjdERhdGEuaW50ZXJuYWxJZDtcclxuICAgICAgICAgICAgdGhpcy5FeHRlcm5hbElkID0gb2JqZWN0RGF0YS5leHRlcm5hbElkO1xyXG4gICAgICAgICAgICB0aGlzLk9yZGVyID0gb2JqZWN0RGF0YS5vcmRlcjtcclxuICAgICAgICAgICAgdGhpcy5Jc1NlbGVjdGVkID0gb2JqZWN0RGF0YS5pc1NlbGVjdGVkO1xyXG4gICAgICAgICAgICB0aGlzLlR5cGVFbGVtZW50SWQgPSBvYmplY3REYXRhLnR5cGVFbGVtZW50SWQ7XHJcblxyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHByb3BlcnR5IG9mIG9iamVjdERhdGEucHJvcGVydGllcykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5Qcm9wZXJ0aWVzW3Byb3BlcnR5LmRldmVsb3Blck5hbWVdID0gbmV3IEZsb3dPYmplY3REYXRhUHJvcGVydHkocHJvcGVydHkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBuZXdJbnN0YW5jZShkZXZlbG9wZXJOYW1lOiBzdHJpbmcpIHtcclxuXHJcbiAgICAgICAgY29uc3QgZGF0YTogSUZsb3dPYmplY3REYXRhID0ge1xyXG4gICAgICAgICAgICBkZXZlbG9wZXJOYW1lLFxyXG4gICAgICAgICAgICBleHRlcm5hbElkIDogXCJcIixcclxuICAgICAgICAgICAgaW50ZXJuYWxJZCA6IG1hbnl3aG8udXRpbHMuZ3VpZCgpLFxyXG4gICAgICAgICAgICBpc1NlbGVjdGVkIDogdHJ1ZSxcclxuICAgICAgICAgICAgb3JkZXI6IDAsXHJcbiAgICAgICAgICAgIHByb3BlcnRpZXMgOiBbXSxcclxuICAgICAgICAgICAgdHlwZUVsZW1lbnRJZCA6IFwiXCJcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBuZXcgdGhpcyhbZGF0YV0pO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZFByb3BlcnR5KG5ld1Byb3BlcnR5OiBGbG93T2JqZWN0RGF0YVByb3BlcnR5KSB7XHJcbiAgICAgICAgdGhpcy5Qcm9wZXJ0aWVzW25ld1Byb3BlcnR5LmRldmVsb3Blck5hbWVdID0gbmV3UHJvcGVydHk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlUHJvcGVydHkoa2V5OiBzdHJpbmcpIHtcclxuICAgICAgICBkZWxldGUgdGhpcy5Qcm9wZXJ0aWVzW2tleV07XHJcbiAgICB9XHJcblxyXG4gICAgY2xvbmUobmV3VHlwZU5hbWU/OiBzdHJpbmcpIHtcclxuICAgICAgICBjb25zdCBjbG9uZTogRmxvd09iamVjdERhdGEgPSBGbG93T2JqZWN0RGF0YS5uZXdJbnN0YW5jZShuZXdUeXBlTmFtZSB8fCB0aGlzLkRldmVsb3Blck5hbWUpO1xyXG4gICAgICAgIE9iamVjdC5rZXlzKHRoaXMucHJvcGVydGllcykuZm9yRWFjaCgoa2V5OiBzdHJpbmcpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgbmV3UHJvcDogRmxvd09iamVjdERhdGFQcm9wZXJ0eSA9IHRoaXMucHJvcGVydGllc1trZXldLmNsb25lKCk7XHJcbiAgICAgICAgICAgIGNsb25lLnByb3BlcnRpZXNba2V5XSA9IG5ld1Byb3A7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIGNsb25lO1xyXG4gICAgfVxyXG5cclxuICAgIGlPYmplY3REYXRhKCkge1xyXG5cclxuICAgICAgICBjb25zdCBwcm9wczogSUZsb3dPYmplY3REYXRhUHJvcGVydHlbXSA9IFtdO1xyXG5cclxuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyh0aGlzLnByb3BlcnRpZXMpKSB7XHJcbiAgICAgICAgICAgIHByb3BzLnB1c2godGhpcy5wcm9wZXJ0aWVzW2tleV0uaUZsb3dPYmplY3REYXRhUHJvcGVydHkoKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBvYmplY3REYXRhOiBhbnkgPSB7XHJcbiAgICAgICAgICAgIGRldmVsb3Blck5hbWU6IHRoaXMuZGV2ZWxvcGVyTmFtZSxcclxuICAgICAgICAgICAgZXh0ZXJuYWxJZCA6IHRoaXMuZXh0ZXJuYWxJZCxcclxuICAgICAgICAgICAgaW50ZXJuYWxJZCA6IHRoaXMuaW50ZXJuYWxJZCxcclxuICAgICAgICAgICAgaXNTZWxlY3RlZCA6IHRoaXMuaXNTZWxlY3RlZCxcclxuICAgICAgICAgICAgb3JkZXIgOiB0aGlzLm9yZGVyLFxyXG4gICAgICAgICAgICBwcm9wZXJ0aWVzOiBwcm9wcyxcclxuICAgICAgICAgICAgdHlwZUVsZW1lbnRJZDogdGhpcy5UeXBlRWxlbWVudElkXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG9iamVjdERhdGE7XHJcbiAgICB9XHJcblxyXG4gICAgaUZsb3dPYmplY3REYXRhQXJyYXkoKTogSUZsb3dPYmplY3REYXRhW10ge1xyXG4gICAgICAgIGNvbnN0IG91dHB1dDogSUZsb3dPYmplY3REYXRhW10gPSBbXTtcclxuICAgICAgICBvdXRwdXQucHVzaCh0aGlzLmlPYmplY3REYXRhKCkpO1xyXG4gICAgICAgIHJldHVybiBvdXRwdXQ7XHJcbiAgICB9XHJcblxyXG59XHJcbiIsIm1vZHVsZS5leHBvcnRzID0gUmVhY3Q7IiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgJy4vRXZlbnRNYW5hZ2VyJztcclxuaW1wb3J0IHsgRmxvd0F0dHJpYnV0ZSB9IGZyb20gJy4vRmxvd0F0dHJpYnV0ZSc7XHJcbmltcG9ydCB7IEZsb3dEaXNwbGF5Q29sdW1uIH0gZnJvbSAnLi9GbG93RGlzcGxheUNvbHVtbic7XHJcbmltcG9ydCB7IEZsb3dGaWVsZCwgSUZsb3dGaWVsZCwgZUNvbnRlbnRUeXBlIH0gZnJvbSAnLi9GbG93RmllbGQnO1xyXG5pbXBvcnQgeyBGbG93T2JqZWN0RGF0YSwgSUZsb3dPYmplY3REYXRhfSBmcm9tICcuL0Zsb3dPYmplY3REYXRhJztcclxuaW1wb3J0IHsgRmxvd09iamVjdERhdGFBcnJheSB9IGZyb20gJy4vRmxvd09iamVjdERhdGFBcnJheSc7XHJcbmltcG9ydCB7IEZsb3dPdXRjb21lLCBJRmxvd091dGNvbWUgfSBmcm9tICcuL0Zsb3dPdXRjb21lJztcclxuLy9pbXBvcnQgeyBJQ29tcG9uZW50UHJvcHMsIElNYW55d2hvLCBJT2JqZWN0RGF0YSB9IGZyb20gJy4vaW50ZXJmYWNlcyc7XHJcbi8vaW1wb3J0IHsgSUNvbXBvbmVudFZhbHVlIH0gZnJvbSAnLi9pbnRlcmZhY2VzL3NlcnZpY2VzL3N0YXRlJztcclxuLy9pbXBvcnQge3Rocm90dGxlfSBmcm9tICdsb2Rhc2gnO1xyXG52YXIgdGhyb3R0bGUgPSByZXF1aXJlKCdsb2Rhc2gudGhyb3R0bGUnKTtcclxuXHJcblxyXG5kZWNsYXJlIGNvbnN0IG1hbnl3aG86IGFueTtcclxuLy9kZWNsYXJlIGNvbnN0ICQ6IEpRdWVyeVN0YXRpYztcclxuXHJcbmludGVyZmFjZSBJRmxvd1N0YXRlVmFsdWUge1xyXG4gICAgY29udGVudFR5cGU6IHN0cmluZztcclxuICAgIGNvbnRlbnRWYWx1ZTogc3RyaW5nO1xyXG4gICAgZGV2ZWxvcGVyTmFtZTogc3RyaW5nO1xyXG4gICAgb2JqZWN0RGF0YTogYW55W107XHJcbiAgICB0eXBlRWxlbWVudERldmVsb3Blck5hbWU6IHN0cmluZztcclxuICAgIHR5cGVFbGVtZW50SWQ6IHN0cmluZztcclxuICAgIHR5cGVFbGVtZW50UHJvcGVydHlEZXZlbG9wZXJOYW1lOiBzdHJpbmc7XHJcbiAgICB0eXBlRWxlbWVudFByb3BlcnR5SWQ6IHN0cmluZztcclxuICAgIHZhbHVlRWxlbWVudElkOiBzdHJpbmc7XHJcbn1cclxuXHJcbmludGVyZmFjZSBJRmxvd1VzZXIge1xyXG4gICAgZGlyZWN0b3J5SWQ6IHN0cmluZztcclxuICAgIGRpcmVjdG9yeU5hbWU6IHN0cmluZztcclxuICAgIGVtYWlsOiBzdHJpbmc7XHJcbiAgICBmaXJzdE5hbWU6IHN0cmluZztcclxuICAgIGdyb3VwSWQ6IHN0cmluZztcclxuICAgIGdyb3VwTmFtZTogc3RyaW5nO1xyXG4gICAgaWQ6IHN0cmluZztcclxuICAgIGlwQWRkcmVzczogc3RyaW5nO1xyXG4gICAgbGFuZ3VhZ2U6IHN0cmluZztcclxuICAgIGxhc3ROYW1lOiBzdHJpbmc7XHJcbiAgICBsb2NhdGlvbjogc3RyaW5nO1xyXG4gICAgcm9sZUlkOiBzdHJpbmc7XHJcbiAgICByb2xlTmFtZTogc3RyaW5nO1xyXG4gICAgc3RhdHVzOiBzdHJpbmc7XHJcbiAgICB1c2VyTmFtZTogc3RyaW5nO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgSUZsb3dNb2RlbCB7XHJcbiAgICBjb250ZW50VHlwZTogc3RyaW5nO1xyXG4gICAgZGF0YVNvdXJjZTogRmxvd09iamVjdERhdGFBcnJheTtcclxuICAgIGRldmVsb3Blck5hbWU6IHN0cmluZztcclxuICAgIGVuYWJsZWQ6IGJvb2xlYW47XHJcbiAgICBoZWlnaHQ6IG51bWJlcjtcclxuICAgIGhlbHBJbmZvOiBzdHJpbmc7XHJcbiAgICBoaW50SW5mbzogc3RyaW5nO1xyXG4gICAgam9pblVyaTogc3RyaW5nO1xyXG4gICAgbGFiZWw6IHN0cmluZztcclxuICAgIG1heFNpemU6IG51bWJlcjtcclxuICAgIG11bHRpU2VsZWN0OiBib29sZWFuO1xyXG4gICAgcmVhZE9ubHk6IGJvb2xlYW47XHJcbiAgICByZXF1aXJlZDogYm9vbGVhbjtcclxuICAgIHNpemU6IG51bWJlcjtcclxuICAgIHZhbGlkYXRpb25NZXNzYWdlOiBzdHJpbmc7XHJcbiAgICB2aXNpYmxlOiBib29sZWFuO1xyXG4gICAgd2lkdGg6IG51bWJlcjtcclxuICAgIGRpc3BsYXlDb2x1bW5zOiBGbG93RGlzcGxheUNvbHVtbltdO1xyXG59XHJcblxyXG4vKlxyXG5pZiAoIShtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyKSB7XHJcbiAgICAobWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlciA9IHt9O1xyXG4gICAgKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIuYmVmb3JlU2VuZExpc3RlbmVycyA9IHt9O1xyXG4gICAgKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIuZG9uZUxpc3RlbmVycyA9IHt9O1xyXG4gICAgKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIuZmFpbExpc3RlbmVycyA9IHt9O1xyXG4gICAgKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIub3V0Y29tZUJlaW5nVHJpZ2dlcmVkO1xyXG5cclxuICAgIChtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLmJlZm9yZVNlbmQgPSAoeGhyOiBYTUxIdHRwUmVxdWVzdCwgcmVxdWVzdDogYW55KSA9PiB7XHJcbiAgICAgICAgLy8obWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlci5iZWZvcmVTZW5kTGlzdGVuZXJzLmZvckVhY2goKGxpc3RlbmVyOiBhbnkpID0+IGxpc3RlbmVyKHhociwgcmVxdWVzdCkpO1xyXG4gICAgICAgIGZvcihjb25zdCBrZXkgaW4gKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIuYmVmb3JlU2VuZExpc3RlbmVycyApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAobWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlci5iZWZvcmVTZW5kTGlzdGVuZXJzW2tleV0oeGhyLCByZXF1ZXN0KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIChtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLmRvbmUgPSAoeGhyOiBYTUxIdHRwUmVxdWVzdCwgcmVxdWVzdDogYW55KSA9PiB7XHJcbiAgICAgICAgLy8obWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlci5kb25lTGlzdGVuZXJzLmZvckVhY2goKGxpc3RlbmVyOiBhbnkpID0+IGxpc3RlbmVyKHhociwgcmVxdWVzdCkpO1xyXG4gICAgICAgIGZvcihjb25zdCBrZXkgaW4gKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIuZG9uZUxpc3RlbmVycyApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAobWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlci5kb25lTGlzdGVuZXJzW2tleV0oeGhyLCByZXF1ZXN0KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIChtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLmZhaWwgPSAoeGhyOiBYTUxIdHRwUmVxdWVzdCwgcmVxdWVzdDogYW55KSA9PiB7XHJcbiAgICAgICAgLy8obWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlci5mYWlsTGlzdGVuZXJzLmZvckVhY2goKGxpc3RlbmVyOiBhbnkpID0+IGxpc3RlbmVyKHhociwgcmVxdWVzdCkpO1xyXG4gICAgICAgIGZvcihjb25zdCBrZXkgaW4gKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIuZmFpbExpc3RlbmVycyApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAobWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlci5mYWlsTGlzdGVuZXJzW2tleV0oeGhyLCByZXF1ZXN0KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIChtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLmFkZEJlZm9yZVNlbmRMaXN0ZW5lciA9IChoYW5kbGVyOiAoeGhyOiBYTUxIdHRwUmVxdWVzdCwgcmVxdWVzdDogYW55KSA9PiB2b2lkLCBjb21wb25lbnRJZDogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIuYmVmb3JlU2VuZExpc3RlbmVyc1tjb21wb25lbnRJZF0gPSBoYW5kbGVyO1xyXG4gICAgfTtcclxuXHJcbiAgICAobWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlci5yZW1vdmVCZWZvcmVTZW5kTGlzdGVuZXIgPSAoY29tcG9uZW50SWQ6IHN0cmluZykgPT4ge1xyXG4gICAgICAgIGRlbGV0ZSAobWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlci5iZWZvcmVTZW5kTGlzdGVuZXJzW2NvbXBvbmVudElkXTtcclxuICAgIH07XHJcblxyXG4gICAgKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIuYWRkRG9uZUxpc3RlbmVyID0gKGhhbmRsZXI6ICh4aHI6IFhNTEh0dHBSZXF1ZXN0LCByZXF1ZXN0OiBhbnkpID0+IHZvaWQsIGNvbXBvbmVudElkOiBzdHJpbmcpID0+IHtcclxuICAgICAgICAobWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlci5kb25lTGlzdGVuZXJzW2NvbXBvbmVudElkXSA9IGhhbmRsZXI7XHJcbiAgICB9O1xyXG5cclxuICAgIChtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLnJlbW92ZURvbmVMaXN0ZW5lciA9IChjb21wb25lbnRJZDogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgZGVsZXRlIChtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLmRvbmVMaXN0ZW5lcnNbY29tcG9uZW50SWRdO1xyXG4gICAgfTtcclxuXHJcbiAgICAobWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlci5hZGRGYWlsTGlzdGVuZXIgPSAoaGFuZGxlcjogKHhocjogWE1MSHR0cFJlcXVlc3QsIHJlcXVlc3Q6IGFueSkgPT4gdm9pZCwgY29tcG9uZW50SWQ6IHN0cmluZykgPT4ge1xyXG4gICAgICAgIChtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLmZhaWxMaXN0ZW5lcnNbY29tcG9uZW50SWRdID0gaGFuZGxlcjtcclxuICAgIH07XHJcblxyXG4gICAgKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIucmVtb3ZlRmFpbExpc3RlbmVyID0gKGNvbXBvbmVudElkOiBzdHJpbmcpID0+IHtcclxuICAgICAgICBkZWxldGUgKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIuZmFpbExpc3RlbmVyc1tjb21wb25lbnRJZF07XHJcbiAgICB9O1xyXG5cclxuICAgIG1hbnl3aG8uc2V0dGluZ3MuaW5pdGlhbGl6ZShudWxsLCB7XHJcbiAgICAgICAgaW52b2tlOiB7XHJcbiAgICAgICAgICAgIGJlZm9yZVNlbmQ6IChtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLmJlZm9yZVNlbmQsXHJcbiAgICAgICAgICAgIGRvbmU6IChtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLmRvbmUsXHJcbiAgICAgICAgICAgIGZhaWw6IChtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLmZhaWwsXHJcbiAgICAgICAgfSxcclxuICAgIH0pO1xyXG59XHJcbiovXHJcblxyXG5leHBvcnQgZW51bSBlTG9hZGluZ1N0YXRlIHtcclxuICAgIHJlYWR5PTAsXHJcbiAgICBsb2FkaW5nPTEsXHJcbiAgICBzYXZpbmc9MixcclxuICAgIG1vdmluZz0zLFxyXG4gICAgaW5pdGl0aWFsaXppbmc9NCxcclxuICAgIGluaXRpdGlhbGl6ZWQ9NSxcclxuICAgIG1vdW50aW5nPTYsXHJcbiAgICBtb3VudGVkPTdcclxufVxyXG5cclxuLy9leHBvcnQgdHlwZSBlTG9hZGluZ1N0YXRlID0gXCJyZWFkeVwiIHwgXCJsb2FkaW5nXCIgfCBcInNhdmluZ1wiIHwgXCJtb3ZpbmdcIiB8IFwiaW5pdGl0aWFsaXppbmdcIiB8IFwiaW5pdGl0aWFsaXplZFwiIHwgXCJtb3VudGluZ1wiIHwgXCJtb3VudGVkXCI7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIEZsb3dCYXNlQ29tcG9uZW50IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PGFueSwgYW55LCBhbnk+IHtcclxuXHJcbiAgICB1cmw6IHN0cmluZztcclxuICAgIHVzZXJ1cmw6IHN0cmluZztcclxuICAgIHZhbHVldXJsOiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIFVzZXI/OiBJRmxvd1VzZXI7XHJcbiAgICBwcml2YXRlIFRlbmFudElkOiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIFN0YXRlSWQ6IHN0cmluZztcclxuICAgIHByaXZhdGUgRmxvd0tleTogc3RyaW5nO1xyXG4gICAgcHJpdmF0ZSBDb21wb25lbnRJZDogc3RyaW5nO1xyXG4gICAgcHJpdmF0ZSBQYXJlbnRJZD86IHN0cmluZztcclxuICAgIHByaXZhdGUgRmllbGRzOiB7W2tleTogc3RyaW5nXTogRmxvd0ZpZWxkfSA9IHt9O1xyXG4gICAgcHJpdmF0ZSBMb2FkaW5nU3RhdGU6IGVMb2FkaW5nU3RhdGU7XHJcbiAgICBwcml2YXRlIEF0dHJpYnV0ZXM6IHtba2V5OiBzdHJpbmddOiBGbG93QXR0cmlidXRlfSA9IHt9O1xyXG4gICAgcHJpdmF0ZSBPdXRjb21lczoge1trZXk6IHN0cmluZ106IEZsb3dPdXRjb21lfSA9IHt9O1xyXG4gICAgcHJpdmF0ZSBNb2RlbD86IElGbG93TW9kZWw7XHJcbiAgICBwcml2YXRlIElzRGVzaWduVGltZTogYm9vbGVhbjtcclxuXHJcbiAgICBnZXQgdGVuYW50SWQoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5UZW5hbnRJZDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgc3RhdGVJZCgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLlN0YXRlSWQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGZsb3dLZXkoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5GbG93S2V5O1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBjb21wb25lbnRJZCgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLkNvbXBvbmVudElkO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBwYXJlbnRJZCgpOiBzdHJpbmcgfCB1bmRlZmluZWQge1xyXG4gICAgICAgIHJldHVybiB0aGlzLlBhcmVudElkO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBpc1JlYWR5KCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGlmKHRoaXMuTG9hZGluZ1N0YXRlID09PSBlTG9hZGluZ1N0YXRlLnJlYWR5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgbG9hZGluZ1N0YXRlKCk6IGVMb2FkaW5nU3RhdGUge1xyXG4gICAgICAgIHJldHVybiB0aGlzLkxvYWRpbmdTdGF0ZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgb3V0Y29tZXMoKToge1trZXk6IHN0cmluZ106IEZsb3dPdXRjb21lfSB8IHVuZGVmaW5lZCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuT3V0Y29tZXM7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGF0dHJpYnV0ZXMoKToge1trZXk6IHN0cmluZ106IEZsb3dBdHRyaWJ1dGV9IHwgdW5kZWZpbmVkIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5BdHRyaWJ1dGVzO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBmaWVsZHMoKToge1trZXk6IHN0cmluZ106IEZsb3dGaWVsZH0gfCB1bmRlZmluZWQge1xyXG4gICAgICAgIHJldHVybiB0aGlzLkZpZWxkcztcclxuICAgIH1cclxuXHJcbiAgICBnZXQgbW9kZWwoKTogSUZsb3dNb2RlbCB8IHVuZGVmaW5lZCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuTW9kZWw7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHVzZXIoKTogSUZsb3dVc2VyIHwgdW5kZWZpbmVkIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5Vc2VyO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBqb2luVVJJKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5sb2NhdGlvbi5ocmVmO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBpc0Rlc2lnblRpbWUoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuSXNEZXNpZ25UaW1lO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lOiBzdHJpbmcsIGRlZmF1bHRWYWx1ZT86IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICAgICAgaWYgKHRoaXMuYXR0cmlidXRlc1thdHRyaWJ1dGVOYW1lXSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hdHRyaWJ1dGVzW2F0dHJpYnV0ZU5hbWVdLnZhbHVlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkZWZhdWx0VmFsdWUgfHwgJyc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBhbnkpIHtcclxuICAgICAgICBzdXBlcihwcm9wcyk7XHJcblxyXG4gICAgICAgIHRoaXMuRmllbGRzID0ge307XHJcbiAgICAgICAgdGhpcy5Mb2FkaW5nU3RhdGUgPSBlTG9hZGluZ1N0YXRlLmluaXRpdGlhbGl6aW5nO1xyXG4gICAgICAgIHRoaXMubG9hZFZhbHVlcyA9IHRoaXMubG9hZFZhbHVlcy5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuZG9udExvYWRWYWx1ZXMgPSB0aGlzLmRvbnRMb2FkVmFsdWVzLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVWYWx1ZXMgPSB0aGlzLnVwZGF0ZVZhbHVlcy5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMudHJpZ2dlck91dGNvbWUgPSB0aGlzLnRyaWdnZXJPdXRjb21lLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5Db21wb25lbnRJZCA9IHRoaXMucHJvcHMuaWQ7XHJcbiAgICAgICAgdGhpcy5QYXJlbnRJZCA9IHRoaXMucHJvcHMucGFyZW50SWQ7XHJcbiAgICAgICAgdGhpcy5GbG93S2V5ID0gdGhpcy5wcm9wcy5mbG93S2V5O1xyXG4gICAgICAgIHRoaXMuQXR0cmlidXRlcyA9IHt9O1xyXG4gICAgICAgIHRoaXMubG9hZE1vZGVsID0gdGhpcy5sb2FkTW9kZWwuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLmxvYWRBdHRyaWJ1dGVzID0gdGhpcy5sb2FkQXR0cmlidXRlcy5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMubG9hZE91dGNvbWVzID0gdGhpcy5sb2FkT3V0Y29tZXMuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLnJlY2VpdmVNZXNzYWdlID0gdGhpcy5yZWNlaXZlTWVzc2FnZS5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuZ2V0U3RhdGVWYWx1ZSA9IHRoaXMuZ2V0U3RhdGVWYWx1ZS5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGVWYWx1ZSA9IHRoaXMuc2V0U3RhdGVWYWx1ZS5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuZ2V0U3RhdGVWYWx1ZVR5cGUgPSB0aGlzLmdldFN0YXRlVmFsdWVUeXBlLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5zZW5kQ29sbGFib3JhdGlvbk1lc3NhZ2UgPSB0aGlzLnNlbmRDb2xsYWJvcmF0aW9uTWVzc2FnZS5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMub25CZWZvcmVTZW5kID0gdGhpcy5vbkJlZm9yZVNlbmQuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLm9uRG9uZSA9IHRoaXMub25Eb25lLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5jYWxjdWxhdGVWYWx1ZSA9IHRoaXMuY2FsY3VsYXRlVmFsdWUuYmluZCh0aGlzKTtcclxuXHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCB0aGlzLnJlY2VpdmVNZXNzYWdlLCBmYWxzZSk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZE1vZGVsKCk7XHJcbiAgICAgICAgdGhpcy5sb2FkQXR0cmlidXRlcygpO1xyXG4gICAgICAgIHRoaXMubG9hZE91dGNvbWVzKCk7XHJcblxyXG4gICAgICAgIGNvbnN0IGJhc2VVcmwgPSBtYW55d2hvLnNldHRpbmdzLmdsb2JhbCgncGxhdGZvcm0udXJpJykgfHwgd2luZG93LmxvY2F0aW9uLm9yaWdpbiB8fCAnaHR0cHM6Ly9mbG93Lm1hbnl3aG8uY29tJztcclxuICAgICAgICB0aGlzLlN0YXRlSWQgPSBtYW55d2hvLnV0aWxzLmV4dHJhY3RTdGF0ZUlkKHRoaXMucHJvcHMuZmxvd0tleSk7XHJcbiAgICAgICAgdGhpcy5UZW5hbnRJZCA9IG1hbnl3aG8udXRpbHMuZXh0cmFjdFRlbmFudElkKHRoaXMucHJvcHMuZmxvd0tleSk7XHJcblxyXG4gICAgICAgIHRoaXMudXJsID0gYCR7YmFzZVVybH0vYXBpL3J1bi8xL3N0YXRlLyR7dGhpcy5TdGF0ZUlkfS92YWx1ZXNgO1xyXG4gICAgICAgIHRoaXMudXNlcnVybCA9IGAke2Jhc2VVcmx9L2FwaS9ydW4vMS9zdGF0ZS8ke3RoaXMuU3RhdGVJZH0vdmFsdWVzLzAzZGM0MWRkLTFjNmItNGIzMy1iZjYxLWNiZDFkMDc3OGZmZmA7XHJcbiAgICAgICAgdGhpcy52YWx1ZXVybCA9IGAke2Jhc2VVcmx9L2FwaS9ydW4vMS9zdGF0ZS8ke3RoaXMuU3RhdGVJZH0vdmFsdWVzL25hbWVgO1xyXG5cclxuICAgICAgICB0aGlzLkxvYWRpbmdTdGF0ZSA9IGVMb2FkaW5nU3RhdGUuaW5pdGl0aWFsaXplZDtcclxuICAgIH1cclxuXHJcbiAgICBvbkJlZm9yZVNlbmQoeGhyOiBYTUxIdHRwUmVxdWVzdCwgcmVxdWVzdDogYW55KSB7XHJcbiAgICAgICAgaWYocmVxdWVzdClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IG9jOiBGbG93T3V0Y29tZSA9IHRoaXMuZ2V0T3V0Y29tZUJ5SWQocmVxdWVzdC5tYXBFbGVtZW50SW52b2tlUmVxdWVzdC5zZWxlY3RlZE91dGNvbWVJZCk7XHJcbiAgICAgICAgICAgIGNvbnN0IG9jdDogRmxvd091dGNvbWUgPSAobWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlci5vdXRjb21lQmVpbmdUcmlnZ2VyZWQ7XHJcbiAgICAgICAgICAgIGlmKG9jKXtcclxuICAgICAgICAgICAgICAgIGlmKCFvY3QgfHwgb2N0LmlkICE9PSBvYy5pZClcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAobWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlci5vdXRjb21lQmVpbmdUcmlnZ2VyZWQgPSBvYztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIub3V0Y29tZUJlaW5nVHJpZ2dlcmVkID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8vIHRoaXMgdGFrZXMgYSBzdHJpbmcgY29udGFpbmluZyBlaXRoZXIgYSBsaXRlcmFsIHZhbHVlIG9yIHRoZSBuYW1lIG9mIGEgZmllbGQgc3Vycm91bmRlZCB3aXRoIHt7Li59fVxyXG4gICAgLy8gaWYgaXQncyBsaXRlcmFsIGl0IGp1c3QgcmV0dXJucyBvdGhlcndpc2UgaXQgZ2V0cyB0aGUgdmFsdWUuXHJcbiAgICAvLyBpdCBjYW4gZ28gZG93biBsZXZlbHMgbGlrZSB2YWwuYXR0cmlidXRlLnN1YnZhbCBldGNcclxuICAgIC8vIE5PVEU6IHRoZXJlJ3MgYSBnb29kIGNoYW5jZSB0aW1pbmcgd2lzZSB0aGF0IHRoZXJlIGFyZSBubyBmaWVsZHMgeWV0XHJcbiAgICAvLyBzbyB3ZSBqdXN0IHJldHVybiB2YWx1ZSBpZiBhbnkgZXJyb3JzIGFyZSBlbmNvdW50ZXJlZCBsaWtlIHZhbCA9PT0gbnVsbFxyXG4gICAgYXN5bmMgY2FsY3VsYXRlVmFsdWUoIHZhbHVlOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xyXG4gICAgICAgIC8vIGlzIGl0IHJlcGxhY2VhYmxlPyAgc3RhcnRzIGFuZCBlbmRzIHdpdGgge3t9fVxyXG4gICAgICAgIGlmICh2YWx1ZS5zdGFydHNXaXRoKCd7eycpICYmIHZhbHVlLmVuZHNXaXRoKCd9fScpKSB7XHJcbiAgICAgICAgICAgIC8vIHZhbHVlIHBvaW50cyB0byBhIGZpZWxkLCBnZXQgaXQncyB2YWx1ZVxyXG4gICAgICAgICAgICBsZXQgc3RyaXBwZWQ6IHN0cmluZyA9IHZhbHVlLnJlcGxhY2UoJ3t7JywgJycpO1xyXG4gICAgICAgICAgICBzdHJpcHBlZCA9IHN0cmlwcGVkLnJlcGxhY2UoJ319JywgJycpO1xyXG5cclxuICAgICAgICAgICAgbGV0IHZhbDogYW55O1xyXG4gICAgICAgICAgICBsZXQgcmVzdWx0OiBzdHJpbmcgPSAnJztcclxuICAgICAgICAgICAgLy8gaXQgY291bGQgYmUgYSBzdWIgZmllbGQgd2l0aCBwYXJlbnQuY2hpbGRcclxuICAgICAgICAgICAgY29uc3Qgc3RyaXBwZWRCaXRzOiBzdHJpbmdbXSA9IHN0cmlwcGVkLnNwbGl0KCcuJyk7XHJcblxyXG4gICAgICAgICAgICAvLyBsb29wIG92ZXIgYml0c1xyXG4gICAgICAgICAgICBmb3IgKGxldCBwb3MgPSAwIDsgcG9zIDwgc3RyaXBwZWRCaXRzLmxlbmd0aCA7IHBvcysrKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBwb3MgMCB3aWxsIHNldCB2YWwgZm9yIGFueSBjaGlsZCBlbGVtZW50c1xyXG4gICAgICAgICAgICAgICAgaWYgKHBvcyA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKCF0aGlzLmZpZWxkc1tzdHJpcHBlZEJpdHNbcG9zXV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5sb2FkVmFsdWUoc3RyaXBwZWRCaXRzW3Bvc10pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB2YWwgPSB0aGlzLmZpZWxkc1tzdHJpcHBlZEJpdHNbcG9zXV07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF2YWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1RoZSBWYWx1ZSBbJyArIHN0cmlwcGVkQml0c1twb3NdICsgJ10gd2FzIG5vdCBmb3VuZCwgaGF2ZSB5b3UgaW5jbHVkZWQgaXQgaW4geW91ciBmbG93Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWwuQ29udGVudFR5cGUgIT09IGVDb250ZW50VHlwZS5Db250ZW50T2JqZWN0ICYmIHZhbC5Db250ZW50VHlwZSAhPT0gZUNvbnRlbnRUeXBlLkNvbnRlbnRMaXN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHZhbC52YWx1ZSBhcyBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGRpZCBiaXRzIDAgZ2V0IGEgdmFsP1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZWxlID0gKHZhbC52YWx1ZSBhcyBGbG93T2JqZWN0RGF0YSkucHJvcGVydGllc1tzdHJpcHBlZEJpdHNbcG9zXV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGUuY29udGVudFR5cGUgPT09IGVDb250ZW50VHlwZS5Db250ZW50T2JqZWN0IHx8IGVsZS5jb250ZW50VHlwZSA9PT0gZUNvbnRlbnRUeXBlLkNvbnRlbnRMaXN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsID0gKHZhbC52YWx1ZSBhcyBGbG93T2JqZWN0RGF0YSkucHJvcGVydGllc1tzdHJpcHBlZEJpdHNbcG9zXV0udmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9ICh2YWwudmFsdWUgYXMgRmxvd09iamVjdERhdGEpLnByb3BlcnRpZXNbc3RyaXBwZWRCaXRzW3Bvc11dLnZhbHVlIGFzIHN0cmluZztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvbkRvbmUoeGhyOiBYTUxIdHRwUmVxdWVzdCwgcmVxdWVzdDogYW55KSB7XHJcbiAgICAgICAgaWYoKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIub3V0Y29tZUJlaW5nVHJpZ2dlcmVkICYmIChtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLm91dGNvbWVCZWluZ1RyaWdnZXJlZC5hdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBjb25zdCBvdXRjb21lOiBGbG93T3V0Y29tZSA9IChtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLm91dGNvbWVCZWluZ1RyaWdnZXJlZDtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKChtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLm91dGNvbWVCZWluZ1RyaWdnZXJlZC5hdHRyaWJ1dGVzKS5mb3JFYWNoKGFzeW5jIChrZXk6IHN0cmluZykgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYXR0cjogRmxvd0F0dHJpYnV0ZSA9IChtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLm91dGNvbWVCZWluZ1RyaWdnZXJlZC5hdHRyaWJ1dGVzW2tleV07XHJcbiAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0VXJsOiBGbG93QXR0cmlidXRlO1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoKGF0dHIubmFtZS50b0xvd2VyQ2FzZSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImF1dG9jbG9zZVwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihhdHRyLnZhbHVlLnRvTG93ZXJDYXNlKCkgPT09IFwidHJ1ZVwiKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYXV0b29wZW5cIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldFVybCA9IG91dGNvbWUuYXR0cmlidXRlcy5BdXRvT3BlblVybCB8fCB1bmRlZmluZWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYodGFyZ2V0VXJsICYmIHRhcmdldFVybC52YWx1ZS5sZW5ndGggPiAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB1cmw6IHN0cmluZyA9IGF3YWl0IHRoaXMuY2FsY3VsYXRlVmFsdWUodGFyZ2V0VXJsLnZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgd25kID0gd2luZG93Lm9wZW4odXJsLCBcIl9ibGFua1wiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydChcIk5vICdBdXRvT3BlblVybCcgc3BlY2lmaWVkIGluIHRoZSBvdXRjb21lJ3MgYXR0cmlidXRlc1wiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYXV0b25hdlwiOlxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJhdXRvbW92ZVwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0VXJsID0gb3V0Y29tZS5hdHRyaWJ1dGVzLkF1dG9OYXZVcmwgfHwgdW5kZWZpbmVkO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHRhcmdldFVybCAmJiB0YXJnZXRVcmwudmFsdWUubGVuZ3RoID4gMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdXJsOiBzdHJpbmcgPSBhd2FpdCB0aGlzLmNhbGN1bGF0ZVZhbHVlKHRhcmdldFVybC52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHduZCA9IHdpbmRvdy5vcGVuKHVybCwgXCJfYmxhbmtcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCJObyAnQXV0b05hdlVybCcgc3BlY2lmaWVkIGluIHRoZSBvdXRjb21lJ3MgYXR0cmlidXRlc1wiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYXV0b3ByaW50XCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cucHJpbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgICAgICAvL3R1cm4gb2YgbW92aW5nIGZsYWdcclxuICAgICAgICB0aGlzLkxvYWRpbmdTdGF0ZSA9IGVMb2FkaW5nU3RhdGUucmVhZHk7XHJcbiAgICAgICAgKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIub3V0Y29tZUJlaW5nVHJpZ2dlcmVkID0gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBhc3luYyBjb21wb25lbnREaWRNb3VudCgpOiBQcm9taXNlPHZvaWQ+IHtcclxuXHJcbiAgICAgICAgdGhpcy5Mb2FkaW5nU3RhdGUgPSBlTG9hZGluZ1N0YXRlLm1vdW50aW5nO1xyXG4gICAgICAgIC8vYWRkIG91dGNvbWUgbWFuYWdlciBzdHVmZlxyXG4gICAgICAgIChtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLmFkZERvbmVMaXN0ZW5lcih0aGlzLm9uRG9uZSx0aGlzLmNvbXBvbmVudElkICsgXCJfY29yZVwiKTtcclxuICAgICAgICAobWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlci5hZGRCZWZvcmVTZW5kTGlzdGVuZXIodGhpcy5vbkJlZm9yZVNlbmQsdGhpcy5jb21wb25lbnRJZCArIFwiX2NvcmVcIik7XHJcblxyXG4gICAgICAgIC8vIHByZXNlcnZlIHN0YXRlXHJcbiAgICAgICAgY29uc3QgZmxvd01vZGVsID0gbWFueXdoby5tb2RlbC5nZXRDb21wb25lbnQodGhpcy5Db21wb25lbnRJZCwgdGhpcy5GbG93S2V5KTtcclxuICAgICAgICBjb25zdCBmbG93U3RhdGUgPSBtYW55d2hvLnN0YXRlLmdldENvbXBvbmVudCh0aGlzLmNvbXBvbmVudElkLCB0aGlzLmZsb3dLZXkpIHx8IHt9O1xyXG5cclxuICAgICAgICBzd2l0Y2ggKGZsb3dNb2RlbC5jb250ZW50VHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlICdDb250ZW50T2JqZWN0JzpcclxuICAgICAgICAgICAgICAgIGxldCBvYmplY3REYXRhOiBhbnk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZmxvd1N0YXRlLm9iamVjdERhdGEgJiYgZmxvd1N0YXRlLm9iamVjdERhdGEubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG9iamVjdERhdGEgPSBmbG93U3RhdGUub2JqZWN0RGF0YTtcclxuICAgICAgICAgICAgICAgICAgICBvYmplY3REYXRhID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShvYmplY3REYXRhKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zZXRTdGF0ZVZhbHVlKG5ldyBGbG93T2JqZWN0RGF0YShvYmplY3REYXRhKSx0cnVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICBvYmplY3REYXRhID0gZmxvd01vZGVsLm9iamVjdERhdGE7XHJcbiAgICAgICAgICAgICAgICAvL31cclxuXHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vbWFueXdoby5zdGF0ZS5zZXRDb21wb25lbnQodGhpcy5jb21wb25lbnRJZCwgbmV3U3RhdGUsIHRoaXMuZmxvd0tleSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgJ0NvbnRlbnRMaXN0JzpcclxuICAgICAgICAgICAgICAgIGxldCBsaXN0RGF0YTogYW55O1xyXG4gICAgICAgICAgICAgICAgaWYgKGZsb3dTdGF0ZS5vYmplY3REYXRhICYmIGZsb3dTdGF0ZS5vYmplY3REYXRhLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBsaXN0RGF0YSA9IGZsb3dTdGF0ZS5vYmplY3REYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgIGxpc3REYXRhID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShsaXN0RGF0YSkpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnNldFN0YXRlVmFsdWUobmV3IEZsb3dPYmplY3REYXRhQXJyYXkobGlzdERhdGEpLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvL2Vsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgbGlzdERhdGEgPSBmbG93TW9kZWwub2JqZWN0RGF0YVxyXG4gICAgICAgICAgICAgICAgLy99XHJcblxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAvL21hbnl3aG8uc3RhdGUuc2V0Q29tcG9uZW50KHRoaXMuY29tcG9uZW50SWQsIG5ld1N0YXRlLCB0aGlzLmZsb3dLZXksIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zZXRTdGF0ZVZhbHVlKGZsb3dNb2RlbC5jb250ZW50VmFsdWUsdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAvL2Zsb3dTdGF0ZS5jb250ZW50VmFsdWUgPSBmbG93TW9kZWwuY29udGVudFZhbHVlO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLkxvYWRpbmdTdGF0ZSA9IGVMb2FkaW5nU3RhdGUubW91bnRlZDtcclxuICAgICAgICBtYW55d2hvLnV0aWxzLnJlbW92ZUxvYWRpbmdJbmRpY2F0b3IoJ2xvYWRlcicpO1xyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgY29tcG9uZW50V2lsbFVubW91bnQoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIucmVtb3ZlQmVmb3JlU2VuZExpc3RlbmVyKHRoaXMuY29tcG9uZW50SWQgKyBcIl9jb3JlXCIpO1xyXG4gICAgICAgIChtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLnJlbW92ZURvbmVMaXN0ZW5lcih0aGlzLmNvbXBvbmVudElkICsgXCJfY29yZVwiKTtcclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgbG9hZE91dGNvbWUob3V0Y29tZUlkOiBzdHJpbmcpIDogRmxvd091dGNvbWV7XHJcbiAgICAgICAgaWYob3V0Y29tZUlkKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG91dGNvbWUgPSBtYW55d2hvLm1vZGVsLmdldE91dGNvbWUob3V0Y29tZUlkLCB0aGlzLnByb3BzLmZsb3dLZXkpO1xyXG4gICAgICAgICAgICBpZihvdXRjb21lKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLk91dGNvbWVzW291dGNvbWUuZGV2ZWxvcGVyTmFtZV0gPSBuZXcgRmxvd091dGNvbWUob3V0Y29tZSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5PdXRjb21lc1tvdXRjb21lLmRldmVsb3Blck5hbWVdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGxvYWRPdXRjb21lcygpIHtcclxuXHJcbiAgICAgICAgdGhpcy5PdXRjb21lcyA9IHt9O1xyXG5cclxuICAgICAgICAvLyBhZGQgdGhlIG91dGNvbWVzIGZyb20gdGhpcyBjb21wb25lbnRcclxuICAgICAgICBsZXQgb3V0cyA9IG1hbnl3aG8ubW9kZWwuZ2V0T3V0Y29tZXModGhpcy5wcm9wcy5pZCwgdGhpcy5wcm9wcy5mbG93S2V5KTtcclxuICAgICAgICBmb3IgKGNvbnN0IG91dGNvbWUgb2Ygb3V0cykge1xyXG4gICAgICAgICAgICB0aGlzLk91dGNvbWVzW291dGNvbWUuZGV2ZWxvcGVyTmFtZV0gPSBuZXcgRmxvd091dGNvbWUob3V0Y29tZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGFuZCB0aGUgb25lcyBmcm9tIHRoZSBwYXJlbnQgcGFnZVxyXG4gICAgICAgIG91dHMgPSBtYW55d2hvLm1vZGVsLmdldE91dGNvbWVzKCcnLCB0aGlzLnByb3BzLmZsb3dLZXkpO1xyXG4gICAgICAgIGZvciAoY29uc3Qgb3V0Y29tZSBvZiBvdXRzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuT3V0Y29tZXNbb3V0Y29tZS5kZXZlbG9wZXJOYW1lXSA9IG5ldyBGbG93T3V0Y29tZShvdXRjb21lKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0T3V0Y29tZUJ5SWQob3V0Y29tZUlkOiBzdHJpbmcpOiBGbG93T3V0Y29tZSB8IHVuZGVmaW5lZCB7XHJcbiAgICAgICAgbGV0IG9jO1xyXG4gICAgICAgIE9iamVjdC5rZXlzKHRoaXMub3V0Y29tZXMpLmZvckVhY2goKGtleTogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgICAgIGlmKHRoaXMub3V0Y29tZXNba2V5XS5pZCA9PT0gb3V0Y29tZUlkKSB7XHJcbiAgICAgICAgICAgICAgICBvYyA9IHRoaXMub3V0Y29tZXNba2V5XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmKCFvYyl7XHJcbiAgICAgICAgICAgIG9jID0gdGhpcy5sb2FkT3V0Y29tZShvdXRjb21lSWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gb2M7XHJcbiAgICB9XHJcblxyXG4gICAgbG9hZEF0dHJpYnV0ZXMoKSB7XHJcbiAgICAgICAgY29uc3QgbW9kZWwgPSBtYW55d2hvLm1vZGVsLmdldENvbXBvbmVudCh0aGlzLkNvbXBvbmVudElkLCB0aGlzLkZsb3dLZXkpO1xyXG4gICAgICAgIC8vIGFkZCB0aGUgYXR0cmlidXRlc1xyXG4gICAgICAgIGNvbnN0IGF0dHJzID0gbW9kZWwuYXR0cmlidXRlcztcclxuICAgICAgICBpZiAoYXR0cnMpIHtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMoYXR0cnMpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkF0dHJpYnV0ZXNba2V5XSA9IG5ldyBGbG93QXR0cmlidXRlKGtleSwgYXR0cnNba2V5XSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgbG9hZE1vZGVsKCkge1xyXG4gICAgICAgIGNvbnN0IG1vZGVsID0gbWFueXdoby5tb2RlbC5nZXRDb21wb25lbnQodGhpcy5Db21wb25lbnRJZCwgdGhpcy5GbG93S2V5KTtcclxuICAgICAgICBpZiAobW9kZWwpIHtcclxuICAgICAgICAgICAgdGhpcy5Nb2RlbCA9IHtcclxuICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBtb2RlbC5jb250ZW50VHlwZSxcclxuICAgICAgICAgICAgICAgIGRhdGFTb3VyY2U6ICBuZXcgRmxvd09iamVjdERhdGFBcnJheShbXSksXHJcbiAgICAgICAgICAgICAgICBkZXZlbG9wZXJOYW1lOiBtb2RlbC5kZXZlbG9wZXJOYW1lLFxyXG4gICAgICAgICAgICAgICAgZGlzcGxheUNvbHVtbnM6IFtdLFxyXG4gICAgICAgICAgICAgICAgZW5hYmxlZDogIG1vZGVsLmlzRW5hYmxlZCxcclxuICAgICAgICAgICAgICAgIGhlaWdodDogIG1vZGVsLmhlaWdodCxcclxuICAgICAgICAgICAgICAgIGhlbHBJbmZvOiAgbW9kZWwuaGVscEluZm8sXHJcbiAgICAgICAgICAgICAgICBoaW50SW5mbzogIG1vZGVsLmhpbnRWYWx1ZSxcclxuICAgICAgICAgICAgICAgIGpvaW5Vcmk6IHRoaXMuam9pblVSSSxcclxuICAgICAgICAgICAgICAgIGxhYmVsOiAgbW9kZWwubGFiZWwsXHJcbiAgICAgICAgICAgICAgICBtYXhTaXplOiAgbW9kZWwubWF4U2l6ZSxcclxuICAgICAgICAgICAgICAgIG11bHRpU2VsZWN0OiAgbW9kZWwuaXNNdWx0aVNlbGVjdCxcclxuICAgICAgICAgICAgICAgIHJlYWRPbmx5OiAgIW1vZGVsLmlzRWRpdGFibGUsXHJcbiAgICAgICAgICAgICAgICByZXF1aXJlZDogIG1vZGVsLmlzUmVxdWlyZWQsXHJcbiAgICAgICAgICAgICAgICBzaXplOiAgbW9kZWwuc2l6ZSxcclxuICAgICAgICAgICAgICAgIHZhbGlkYXRpb25NZXNzYWdlOiAgbW9kZWwudmFsaWRhdGlvbk1lc3NhZ2UsXHJcbiAgICAgICAgICAgICAgICB2aXNpYmxlOiAgbW9kZWwuaXNWaXNpYmxlLFxyXG4gICAgICAgICAgICAgICAgd2lkdGg6IG1vZGVsLndpZHRoLFxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy8gZ2V0IHRoZSBkYXRhc291cmNlIHZhbHVlIG5hbWVcclxuICAgICAgICAgICAgY29uc3QgZHMgPSBtb2RlbC5vYmplY3REYXRhO1xyXG4gICAgICAgICAgICBpZiAoZHMpIHtcclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgb2Qgb2YgZHMpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLk1vZGVsLmRhdGFTb3VyY2UuYWRkSXRlbShuZXcgRmxvd09iamVjdERhdGEoW29kXSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCBjb2xzID0gbW9kZWwuY29sdW1ucztcclxuICAgICAgICAgICAgaWYgKGNvbHMpIHtcclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgY29sIG9mIGNvbHMpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLk1vZGVsLmRpc3BsYXlDb2x1bW5zLnB1c2gobmV3IEZsb3dEaXNwbGF5Q29sdW1uKGNvbCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGxvYWRWYWx1ZSh2YWx1ZU5hbWU6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIHRoaXMuTG9hZGluZ1N0YXRlID0gZUxvYWRpbmdTdGF0ZS5sb2FkaW5nO1xyXG5cclxuXHJcbiAgICAgICAgY29uc3QgdmFsdWU6IGFueSA9IG1hbnl3aG8uY29ubmVjdGlvbi5yZXF1ZXN0KHRoaXMsIFwiXCIsIHRoaXMudmFsdWV1cmwgKyBcIi9cIiArIHZhbHVlTmFtZSAsICdHRVQnLCB0aGlzLlRlbmFudElkLCB0aGlzLlN0YXRlSWQsIG1hbnl3aG8uc3RhdGUuZ2V0QXV0aGVudGljYXRpb25Ub2tlbih0aGlzLkZsb3dLZXkpLCB7fSk7XHJcbiAgICAgICAgaWYodmFsdWUpIHtcclxuICAgICAgICAgICAgdGhpcy5GaWVsZHNbdmFsdWUuZGV2ZWxvcGVyTmFtZV0gPSBuZXcgRmxvd0ZpZWxkKHZhbHVlKTsgXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLkxvYWRpbmdTdGF0ZSA9IGVMb2FkaW5nU3RhdGUucmVhZHk7XHJcblxyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBnZXRSZXN1bHRCb2R5VGV4dChyZXNwb25zZTogYW55KSA6IFByb21pc2U8c3RyaW5nPiB7XHJcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnRleHQoKVxyXG4gICAgICAgIC50aGVuKCh0ZXh0IDogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgICAgIGlmKHRleHQuc3RhcnRzV2l0aChcIlxcXCJcIikpIHtcclxuICAgICAgICAgICAgICAgIHRleHQgPSB0ZXh0LnN1YnN0cigxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZih0ZXh0LmVuZHNXaXRoKFwiXFxcIlwiKSkge1xyXG4gICAgICAgICAgICAgICAgdGV4dCA9IHRleHQuc3Vic3RyKDAsIHRleHQubGVuZ3RoLTEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0ZXh0O1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgXHJcbiAgICBhc3luYyBjYWxsUmVxdWVzdCh1cmw6IHN0cmluZywgbWV0aG9kOiBzdHJpbmcsIGRhdGE6IGFueSwgYXV0aGVudGljYXRpb25Ub2tlbjogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcclxuICAgICAgICBjb25zdCByZXN1bHRzOiBhbnkgPSBbXTtcclxuICAgICAgICBjb25zdCByZXF1ZXN0OiBSZXF1ZXN0SW5pdCA9IHt9O1xyXG5cclxuICAgICAgICByZXF1ZXN0Lm1ldGhvZCA9IG1ldGhvZDsgIFxyXG4gICAgICAgIHJlcXVlc3QuaGVhZGVycyA9IHtcclxuICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgICAgICAgICAgIFwiQXV0aG9yaXphdGlvblwiOiBhdXRoZW50aWNhdGlvblRva2VuLFxyXG4gICAgICAgICAgICBcIk1hbnlXaG9UZW5hbnRcIjogdGhpcy50ZW5hbnRJZFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmVxdWVzdC5jcmVkZW50aWFscz0gXCJzYW1lLW9yaWdpblwiO1xyXG5cclxuICAgICAgICBpZihtZXRob2QgPT09IFwiUE9TVFwiIHx8IG1ldGhvZCA9PT0gXCJQVVRcIikge1xyXG4gICAgICAgICAgICByZXF1ZXN0LmJvZHkgPSBkYXRhO1xyXG4gICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgYXdhaXQgZmV0Y2godXJsLCByZXF1ZXN0KVxyXG4gICAgICAgIC50aGVuKGFzeW5jIChyZXNwb25zZTogYW55KSA9PiB7XHJcbiAgICAgICAgICAgIGlmKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBqc29uID0gYXdhaXQgdGhpcy5nZXRSZXN1bHRCb2R5VGV4dChyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIEpTT04ucGFyc2UoanNvbikuZm9yRWFjaCgodmFsdWUgOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2godmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfSk7O1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTG9hZGVkIFZhbHVlc1wiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy9lcnJvclxyXG4gICAgICAgICAgICAgICAgY29uc3QgZXJyb3JUZXh0ID0gYXdhaXQgdGhpcy5nZXRSZXN1bHRCb2R5VGV4dChyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNhbid0IGxvYWQgdmFsdWVzIC0gXCIgKyBlcnJvclRleHQpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBjYWxsUmVxdWVzdE9sZCggdXJsOiBzdHJpbmcsIG1ldGhvZDogc3RyaW5nLCBkYXRhOiBhbnkpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgICAgIGxldCBvdXRwdXQ6IGFueTtcclxuICAgICAgICBjb25zdCB4aHIgPSBhd2FpdCBtYW55d2hvLmNvbm5lY3Rpb24ucmVxdWVzdCh0aGlzLCBudWxsLCB1cmwgLCBtZXRob2QsIHRoaXMuVGVuYW50SWQsIHRoaXMuU3RhdGVJZCwgbWFueXdoby5zdGF0ZS5nZXRBdXRoZW50aWNhdGlvblRva2VuKHRoaXMuRmxvd0tleSksIG51bGwpXHJcblxyXG4gICAgICAgIHJldHVybiB4aHI7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgbG9hZFZhbHVlcygpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICB0aGlzLkxvYWRpbmdTdGF0ZSA9IGVMb2FkaW5nU3RhdGUubG9hZGluZztcclxuICAgICAgICB0aGlzLkZpZWxkcyA9IHt9XHJcbiAgICAgICAgY29uc3QgdmFsdWVzOiBhbnkgPSBhd2FpdCB0aGlzLmNhbGxSZXF1ZXN0T2xkKHRoaXMudXJsLCdHRVQnLHt9KTtcclxuXHJcbiAgICAgICAgKCh2YWx1ZXMgYXMgQXJyYXk8SUZsb3dTdGF0ZVZhbHVlPikgfHwgW10pLm1hcCgodmFsdWU6IElGbG93U3RhdGVWYWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICBpZih2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5GaWVsZHNbdmFsdWUuZGV2ZWxvcGVyTmFtZV0gPSBuZXcgRmxvd0ZpZWxkKHZhbHVlKTsgXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgdXNlcnZhbCA9IGF3YWl0IHRoaXMuY2FsbFJlcXVlc3RPbGQodGhpcy51c2VydXJsLCdHRVQnLHt9KTtcclxuICAgICAgICAvL21hbnl3aG8uY29ubmVjdGlvbi5yZXF1ZXN0KHRoaXMsIFwiXCIsIHRoaXMudXNlcnVybCAsICdHRVQnLCB0aGlzLlRlbmFudElkLCB0aGlzLlN0YXRlSWQsIG1hbnl3aG8uc3RhdGUuZ2V0QXV0aGVudGljYXRpb25Ub2tlbih0aGlzLkZsb3dLZXkpLCB7fSk7XHJcbiAgICAgICAgaWYodXNlcnZhbCkge1xyXG4gICAgICAgICAgICBjb25zdCB1ID0gbmV3IEZsb3dGaWVsZCh1c2VydmFsKTtcclxuICAgICAgICAgICAgY29uc3QgcHJvcHMgPSAodS52YWx1ZSBhcyBGbG93T2JqZWN0RGF0YSkucHJvcGVydGllcztcclxuICAgIFxyXG4gICAgICAgICAgICB0aGlzLlVzZXIgPSB7XHJcbiAgICAgICAgICAgICAgICBkaXJlY3RvcnlJZDogcHJvcHNbJ0RpcmVjdG9yeSBJZCddLnZhbHVlIGFzIHN0cmluZyxcclxuICAgICAgICAgICAgICAgIGRpcmVjdG9yeU5hbWU6IHByb3BzWydEaXJlY3RvcnkgTmFtZSddLnZhbHVlIGFzIHN0cmluZyxcclxuICAgICAgICAgICAgICAgIGVtYWlsOiBwcm9wc1snRW1haWwnXS52YWx1ZSBhcyBzdHJpbmcgfHwgJ21hcmsnLFxyXG4gICAgICAgICAgICAgICAgZmlyc3ROYW1lOiBwcm9wc1snRmlyc3QgTmFtZSddLnZhbHVlIGFzIHN0cmluZyxcclxuICAgICAgICAgICAgICAgIGdyb3VwSWQ6IHByb3BzWydQcmltYXJ5IEdyb3VwIElkJ10udmFsdWUgYXMgc3RyaW5nLFxyXG4gICAgICAgICAgICAgICAgZ3JvdXBOYW1lOiBwcm9wc1snUHJpbWFyeSBHcm91cCBOYW1lJ10udmFsdWUgYXMgc3RyaW5nLFxyXG4gICAgICAgICAgICAgICAgaWQ6IHByb3BzWydVc2VyIElEJ10udmFsdWUgYXMgc3RyaW5nLFxyXG4gICAgICAgICAgICAgICAgaXBBZGRyZXNzOiBwcm9wc1snSVAgQWRkcmVzcyddLnZhbHVlIGFzIHN0cmluZyxcclxuICAgICAgICAgICAgICAgIGxhbmd1YWdlOiBwcm9wc1snTGFuZ3VhZ2UnXS52YWx1ZSBhcyBzdHJpbmcsXHJcbiAgICAgICAgICAgICAgICBsYXN0TmFtZTogcHJvcHNbJ0xhc3QgTmFtZSddLnZhbHVlIGFzIHN0cmluZyxcclxuICAgICAgICAgICAgICAgIGxvY2F0aW9uOiBwcm9wc1snTG9jYXRpb24nXS52YWx1ZSBhcyBzdHJpbmcsXHJcbiAgICAgICAgICAgICAgICByb2xlSWQ6IHByb3BzWydSb2xlIElkJ10udmFsdWUgYXMgc3RyaW5nLFxyXG4gICAgICAgICAgICAgICAgcm9sZU5hbWU6IHByb3BzWydSb2xlIE5hbWUnXS52YWx1ZSBhcyBzdHJpbmcsXHJcbiAgICAgICAgICAgICAgICBzdGF0dXM6IHByb3BzWydTdGF0dXMnXS52YWx1ZSBhcyBzdHJpbmcsXHJcbiAgICAgICAgICAgICAgICB1c2VyTmFtZTogcHJvcHNbJ1VzZXJuYW1lJ10udmFsdWUgYXMgc3RyaW5nLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuXHJcbiAgICAgICAgdGhpcy5Mb2FkaW5nU3RhdGUgPSBlTG9hZGluZ1N0YXRlLnJlYWR5O1xyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBkb250TG9hZFZhbHVlcygpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICB0aGlzLkxvYWRpbmdTdGF0ZSA9IGVMb2FkaW5nU3RhdGUucmVhZHk7XHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFN0YXRlVmFsdWUoKTogc3RyaW5nIHwgYm9vbGVhbiB8IG51bWJlciB8IERhdGUgfCBGbG93T2JqZWN0RGF0YSB8IEZsb3dPYmplY3REYXRhQXJyYXkge1xyXG4gICAgICAgIGNvbnN0IGZsb3dTdGF0ZSA9IG1hbnl3aG8uc3RhdGUuZ2V0Q29tcG9uZW50KHRoaXMuY29tcG9uZW50SWQsIHRoaXMuZmxvd0tleSkgfHwge307XHJcbiAgICAgICAgY29uc3QgZmxvd01vZGVsID0gbWFueXdoby5tb2RlbC5nZXRDb21wb25lbnQodGhpcy5Db21wb25lbnRJZCwgdGhpcy5GbG93S2V5KTtcclxuICAgICAgICBzd2l0Y2ggKGZsb3dNb2RlbC5jb250ZW50VHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlICdDb250ZW50T2JqZWN0JzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRmxvd09iamVjdERhdGEoZmxvd1N0YXRlLm9iamVjdERhdGEgJiYgZmxvd1N0YXRlLm9iamVjdERhdGFbMF0/IGZsb3dTdGF0ZS5vYmplY3REYXRhWzBdIDogZmxvd01vZGVsLm9iamVjdERhdGFbMF0pO1xyXG5cclxuICAgICAgICAgICAgY2FzZSAnQ29udGVudExpc3QnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBGbG93T2JqZWN0RGF0YUFycmF5KGZsb3dTdGF0ZS5vYmplY3REYXRhPyBmbG93U3RhdGUub2JqZWN0RGF0YSA6IGZsb3dNb2RlbC5vYmplY3REYXRhKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBmbG93U3RhdGUuY29udGVudFZhbHVlPyBmbG93U3RhdGUuY29udGVudFZhbHVlIDogXCJcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXRTdGF0ZVZhbHVlVHlwZSgpOiBzdHJpbmcgfCBib29sZWFuIHwgbnVtYmVyIHwgRGF0ZSB8IEZsb3dPYmplY3REYXRhIHwgRmxvd09iamVjdERhdGFBcnJheSB7XHJcbiAgICAgICAgY29uc3QgZmxvd1N0YXRlID0gbWFueXdoby5zdGF0ZS5nZXRDb21wb25lbnQodGhpcy5jb21wb25lbnRJZCwgdGhpcy5mbG93S2V5KSB8fCB7fTtcclxuICAgICAgICBjb25zdCBmbG93TW9kZWwgPSBtYW55d2hvLm1vZGVsLmdldENvbXBvbmVudCh0aGlzLkNvbXBvbmVudElkLCB0aGlzLkZsb3dLZXkpO1xyXG4gICAgICAgIHN3aXRjaCAoZmxvd01vZGVsLmNvbnRlbnRUeXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ0NvbnRlbnRPYmplY3QnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBGbG93T2JqZWN0RGF0YShmbG93U3RhdGUub2JqZWN0RGF0YSAmJiBmbG93U3RhdGUub2JqZWN0RGF0YVswXT8gZmxvd1N0YXRlLm9iamVjdERhdGFbMF0gOiBmbG93TW9kZWwub2JqZWN0RGF0YVswXSk7XHJcblxyXG4gICAgICAgICAgICBjYXNlICdDb250ZW50TGlzdCc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEZsb3dPYmplY3REYXRhQXJyYXkoZmxvd1N0YXRlLm9iamVjdERhdGE/IGZsb3dTdGF0ZS5vYmplY3REYXRhIDogZmxvd01vZGVsLm9iamVjdERhdGEpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZsb3dTdGF0ZS5jb250ZW50VmFsdWU/IGZsb3dTdGF0ZS5jb250ZW50VmFsdWUgOiBcIlwiIDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgYXN5bmMgc2V0U3RhdGVWYWx1ZSh2YWx1ZTogc3RyaW5nIHwgYm9vbGVhbiB8IG51bWJlciB8IERhdGUgfCBGbG93T2JqZWN0RGF0YSB8IEZsb3dPYmplY3REYXRhQXJyYXksIGlnbm9yZVN0YXRlPzogYm9vbGVhbik6IFByb21pc2U8dm9pZD4ge1xyXG5cclxuICAgICAgICBpZih0aGlzLkxvYWRpbmdTdGF0ZSA9PT0gZUxvYWRpbmdTdGF0ZS5tb3VudGluZyB8fCB0aGlzLkxvYWRpbmdTdGF0ZSA9PT0gZUxvYWRpbmdTdGF0ZS5yZWFkeSkge1xyXG4gICAgICAgICAgICBsZXQgb2xkU3RhdGU6IGVMb2FkaW5nU3RhdGUgPSB0aGlzLmxvYWRpbmdTdGF0ZTtcclxuICAgICAgICAgICAgdGhpcy5Mb2FkaW5nU3RhdGUgPSBlTG9hZGluZ1N0YXRlLnNhdmluZztcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGZsb3dNb2RlbCA9IG1hbnl3aG8ubW9kZWwuZ2V0Q29tcG9uZW50KHRoaXMuQ29tcG9uZW50SWQsIHRoaXMuRmxvd0tleSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGZsb3dTdGF0ZSA9IG1hbnl3aG8uc3RhdGUuZ2V0Q29tcG9uZW50KHRoaXMuY29tcG9uZW50SWQsIHRoaXMuZmxvd0tleSkgfHwge307XHJcbiAgICAgICAgICAgIGxldCBuZXdTdGF0ZTogYW55O1xyXG5cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHN3aXRjaCAoZmxvd01vZGVsLmNvbnRlbnRUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdDb250ZW50T2JqZWN0JzpcclxuICAgICAgICAgICAgICAgICAgICBsZXQgb2JqZWN0RGF0YTogYW55ID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICBpZih2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3REYXRhID0gKHZhbHVlIGFzIEZsb3dPYmplY3REYXRhKS5pRmxvd09iamVjdERhdGFBcnJheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3REYXRhID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShvYmplY3REYXRhKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIG5ld1N0YXRlID0geyBcIm9iamVjdERhdGFcIjogb2JqZWN0RGF0YSB9O1xyXG4gICAgICAgICAgICAgICAgICAgIC8vbmV3U3RhdGUgPSB7IG9iamVjdERhdGEgfTtcclxuICAgICAgICAgICAgICAgICAgICBtYW55d2hvLnN0YXRlLnNldENvbXBvbmVudCh0aGlzLmNvbXBvbmVudElkLCBuZXdTdGF0ZSwgdGhpcy5mbG93S2V5LCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlICdDb250ZW50TGlzdCc6XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG9iamVjdERhdGFBcnJheTogYW55ID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICBpZih2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3REYXRhQXJyYXkgPSAodmFsdWUgYXMgRmxvd09iamVjdERhdGFBcnJheSkuaUZsb3dPYmplY3REYXRhQXJyYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0RGF0YUFycmF5ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShvYmplY3REYXRhQXJyYXkpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3U3RhdGUgPSB7IFwib2JqZWN0RGF0YVwiOiBvYmplY3REYXRhQXJyYXkgfTtcclxuICAgICAgICAgICAgICAgICAgICBtYW55d2hvLnN0YXRlLnNldENvbXBvbmVudCh0aGlzLmNvbXBvbmVudElkLCBuZXdTdGF0ZSwgdGhpcy5mbG93S2V5LCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlICdDb250ZW50RGF0ZSc6XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3U3RhdGUgPSB7IFwiY29udGVudFZhbHVlXCI6ICh2YWx1ZSBhcyBEYXRlKS50b0lTT1N0cmluZygpIH07XHJcbiAgICAgICAgICAgICAgICAgICAgbWFueXdoby5zdGF0ZS5zZXRDb21wb25lbnQodGhpcy5jb21wb25lbnRJZCwgbmV3U3RhdGUsIHRoaXMuZmxvd0tleSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9mbG93U3RhdGUuY29udGVudFZhbHVlID0gKHZhbHVlIGFzIERhdGUpLnRvSVNPU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBuZXdTdGF0ZSA9IHsgXCJjb250ZW50VmFsdWVcIjogdmFsdWUgfTtcclxuICAgICAgICAgICAgICAgICAgICBtYW55d2hvLnN0YXRlLnNldENvbXBvbmVudCh0aGlzLmNvbXBvbmVudElkLCBuZXdTdGF0ZSwgdGhpcy5mbG93S2V5LCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAvL2Zsb3dTdGF0ZS5jb250ZW50VmFsdWUgPSB2YWx1ZSBhcyBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLkxvYWRpbmdTdGF0ZSA9IG9sZFN0YXRlO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgXHJcblxyXG4gICAgICAgICAgICAvL21hbnl3aG8uY29tcG9uZW50LmhhbmRsZUV2ZW50KHRoaXMsbWFueXdoby5tb2RlbC5nZXRDb21wb25lbnQodGhpcy5Db21wb25lbnRJZCx0aGlzLkZsb3dLZXkpLHRoaXMuRmxvd0tleSxudWxsKTtcclxuICAgICAgICAgICAgLy9hd2FpdCBtYW55d2hvLmVuZ2luZS5zeW5jKHRoaXMuZmxvd0tleSk7XHJcblxyXG4gICAgICAgICAgICBpZihtYW55d2hvLmNvbGxhYm9yYXRpb24uaXNJbml0aWFsaXplZCh0aGlzLmZsb3dLZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAvL21hbnl3aG8uY29sbGFib3JhdGlvbi5zeW5jKHRoaXMuZmxvd0tleSk7XHJcbiAgICAgICAgICAgICAgICAvL3VwZGF0ZUZpZWxkcy5mb3JFYWNoKChmaWVsZDogSUZsb3dGaWVsZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgbWFueXdoby5jb2xsYWJvcmF0aW9uLnB1c2godGhpcy5Db21wb25lbnRJZCx7XCJtZXNzYWdlXCI6IHtcImFjdGlvblwiOlwiUkVGUkVTSF9GSUVMRFwiLFwiZmllbGROYW1lXCI6IGZpZWxkLmRldmVsb3Blck5hbWUgfX0sdGhpcy5mbG93S2V5KTtcclxuICAgICAgICAgICAgICAgIC8vfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL21hbnl3aG8uY29tcG9uZW50LmhhbmRsZUV2ZW50KHRoaXMsbWFueXdoby5tb2RlbC5nZXRDb21wb25lbnQodGhpcy5jb21wb25lbnRJZCwgdGhpcy5mbG93S2V5KSx0aGlzLkZsb3dLZXksIHRoaXMuZXZlbnRIYW5kbGVkKTtcclxuICAgICAgICAgLy9tYW55d2hvLmVuZ2luZS5zeW5jKHRoaXMuZmxvd0tleSk7XHJcbiAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcclxuICAgIH1cclxuXHJcbiAgICBldmVudEhhbmRsZWQoYT86IGFueSwgYj86IGFueSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwicGluZ1wiKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyB1cGRhdGVWYWx1ZXModmFsdWVzOiBGbG93RmllbGRbXSB8IEZsb3dGaWVsZCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIHRoaXMuTG9hZGluZ1N0YXRlID0gZUxvYWRpbmdTdGF0ZS5zYXZpbmc7XHJcbiAgICAgICAgLy90aGlzLmZvcmNlVXBkYXRlKCk7XHJcblxyXG4gICAgICAgIGNvbnN0IHVwZGF0ZUZpZWxkczogSUZsb3dGaWVsZFtdID0gW107XHJcblxyXG4gICAgICAgIGlmKHZhbHVlcy5jb25zdHJ1Y3Rvci5uYW1lID09PSBGbG93RmllbGQubmFtZSkge1xyXG4gICAgICAgICAgICB1cGRhdGVGaWVsZHMucHVzaCgodmFsdWVzIGFzIEZsb3dGaWVsZCkuaUZsb3dGaWVsZCgpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBmaWVsZCBvZiAodmFsdWVzIGFzIEFycmF5PEZsb3dGaWVsZD4pKSB7XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVGaWVsZHMucHVzaChmaWVsZC5pRmxvd0ZpZWxkKCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG5cclxuICAgICAgICBhd2FpdCBtYW55d2hvLmNvbm5lY3Rpb24ucmVxdWVzdCh0aGlzLCBudWxsLCB0aGlzLnVybCAsICdQT1NUJywgdGhpcy5UZW5hbnRJZCwgdGhpcy5TdGF0ZUlkLCBtYW55d2hvLnN0YXRlLmdldEF1dGhlbnRpY2F0aW9uVG9rZW4odGhpcy5GbG93S2V5KSwgdXBkYXRlRmllbGRzKTtcclxuICAgICAgICAvL21hbnl3aG8uY29tcG9uZW50LmhhbmRsZUV2ZW50KHRoaXMsbWFueXdoby5tb2RlbC5nZXRDb21wb25lbnQodGhpcy5Db21wb25lbnRJZCx0aGlzLkZsb3dLZXkpLHRoaXMuRmxvd0tleSxudWxsKTtcclxuICAgICAgICAvL2F3YWl0IG1hbnl3aG8uZW5naW5lLnN5bmModGhpcy5mbG93S2V5KTtcclxuXHJcbiAgICAgICAgaWYobWFueXdoby5jb2xsYWJvcmF0aW9uLmlzSW5pdGlhbGl6ZWQodGhpcy5mbG93S2V5KSkge1xyXG4gICAgICAgICAgICAvL21hbnl3aG8uY29sbGFib3JhdGlvbi5zeW5jKHRoaXMuZmxvd0tleSk7XHJcbiAgICAgICAgICAgIHVwZGF0ZUZpZWxkcy5mb3JFYWNoKChmaWVsZDogSUZsb3dGaWVsZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbWFueXdoby5jb2xsYWJvcmF0aW9uLnB1c2godGhpcy5Db21wb25lbnRJZCx7XCJtZXNzYWdlXCI6IHtcImFjdGlvblwiOlwiUkVGUkVTSF9GSUVMRFwiLFwiZmllbGROYW1lXCI6IGZpZWxkLmRldmVsb3Blck5hbWUgfX0sdGhpcy5mbG93S2V5KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuTG9hZGluZ1N0YXRlID0gZUxvYWRpbmdTdGF0ZS5yZWFkeTtcclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy9zZW5kcyBhIGNvbGxhYm9yYXRpb24gbWVzc2FnZSBidXQgbGltaXRlZCB0byAxIGNhbGwgZXZlcnkgMTAwbXNcclxuICAgIHNlbmRDb2xsYWJvcmF0aW9uTWVzc2FnZSA9IHRocm90dGxlKHRoaXMuX3NlbmRDb2xsYWJvcmF0aW9uTWVzc2FnZSwgMTAwLCBudWxsKTtcclxuICAgIF9zZW5kQ29sbGFib3JhdGlvbk1lc3NhZ2UobWVzc2FnZTogYW55KXtcclxuICAgICAgICBpZihtYW55d2hvLmNvbGxhYm9yYXRpb24uaXNJbml0aWFsaXplZCh0aGlzLmZsb3dLZXkpKSB7XHJcbiAgICAgICAgICAgIC8vbWFueXdoby5jb2xsYWJvcmF0aW9uLnN5bmModGhpcy5mbG93S2V5KTtcclxuICAgICAgICAgICAgbWFueXdoby5jb2xsYWJvcmF0aW9uLnB1c2godGhpcy5Db21wb25lbnRJZCx7XCJtZXNzYWdlXCI6IG1lc3NhZ2V9LHRoaXMuZmxvd0tleSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgXHJcblxyXG4gICAgXHJcbiAgICAvL3RyaWdnZXJzIHRoZSBzcGVjaWZpZWQgb3V0Y29tZSwgb3B0aW9uYWxseSBwYXNzZXMgYSBkYXRhIG9iamVjdCBcclxuICAgIGFzeW5jIHRyaWdnZXJPdXRjb21lKG91dGNvbWVOYW1lOiBzdHJpbmcsIGRhdGE/OiBJRmxvd09iamVjdERhdGFbXSk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIHRoaXMuTG9hZGluZ1N0YXRlID0gZUxvYWRpbmdTdGF0ZS5tb3Zpbmc7XHJcbiAgICAgICAgLy90aGlzLmZvcmNlVXBkYXRlKCk7XHJcblxyXG4gICAgICAgIGlmICghZGF0YSkge1xyXG4gICAgICAgICAgICBkYXRhID0gW107XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgb2M6IGFueTtcclxuICAgICAgICBpZiAodGhpcy5vdXRjb21lc1tvdXRjb21lTmFtZV0pIHtcclxuICAgICAgICAgICAgb2MgPSB0aGlzLm91dGNvbWVzW291dGNvbWVOYW1lXS5pRmxvd091dGNvbWUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChvYykge1xyXG4gICAgICAgICAgICBhd2FpdCBtYW55d2hvLmNvbXBvbmVudC5vbk91dGNvbWUob2MsIGRhdGEsIHRoaXMuRmxvd0tleSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5sb2coJ0NvdWxkIG5vdCBmaW5kIG91dGNvbWUgJyArIG91dGNvbWVOYW1lKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vdHJpZ2dlcnMgdGhlIHNwZWNpZmllZCBvdXRjb21lLCBvcHRpb25hbGx5IHBhc3NlcyBhIGRhdGEgb2JqZWN0IFxyXG4gICAgYXN5bmMgbW92ZVRvKGZsb3dFbGVtZW50SWQ6IHN0cmluZywgZGF0YT86IElGbG93T2JqZWN0RGF0YVtdKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgdGhpcy5Mb2FkaW5nU3RhdGUgPSBlTG9hZGluZ1N0YXRlLm1vdmluZztcclxuICAgICAgICAvL3RoaXMuZm9yY2VVcGRhdGUoKTtcclxuXHJcbiAgICAgICAgaWYgKCFkYXRhKSB7XHJcbiAgICAgICAgICAgIGRhdGEgPSBbXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLypcclxuICAgICAgICBsZXQgb2M6IGFueTtcclxuICAgICAgICBpZiAodGhpcy5vdXRjb21lc1tvdXRjb21lTmFtZV0pIHtcclxuICAgICAgICAgICAgb2MgPSB0aGlzLm91dGNvbWVzW291dGNvbWVOYW1lXS5pRmxvd091dGNvbWUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChvYykge1xyXG4gICAgICAgICAgICBhd2FpdCBtYW55d2hvLmNvbXBvbmVudC5vbk91dGNvbWUob2MsIGRhdGEsIHRoaXMuRmxvd0tleSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5sb2coJ0NvdWxkIG5vdCBmaW5kIG91dGNvbWUgJyArIG91dGNvbWVOYW1lKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgKi9cclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgbG9nKG1lc3NhZ2U6IHN0cmluZykge1xyXG4gICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgY29uc3QgdGltZSA9IFsoJzAnICsgbm93LmdldEhvdXJzKCkpLnNsaWNlKC0yKSwgKCcwJyArIG5vdy5nZXRNaW51dGVzKCkpLnNsaWNlKC0yKSxcclxuICAgICAgICAgICAgKCcwJyArIG5vdy5nZXRTZWNvbmRzKCkpLnNsaWNlKC0yKV07XHJcbiAgICAgICAgY29uc3QgdGltZXN0YW1wID0gJ1snICsgdGltZS5qb2luKCc6JykgKyAnXSAnO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHRpbWVzdGFtcCArIG1lc3NhZ2UpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vaGVscGVyIHRvIHNpbGVudGx5IGxhdW5jaCBhIGZsb3dcclxuICAgIGFzeW5jIGxhdW5jaEZsb3dTaWxlbnQodGVuYW50OiBzdHJpbmcsIGZsb3dJZDogc3RyaW5nLCBwbGF5ZXI6IHN0cmluZywgb2JqZWN0RGF0YT86IEZsb3dPYmplY3REYXRhQXJyYXkpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICBjb25zdCBiYXNlVXJsID0gbWFueXdoby5zZXR0aW5ncy5nbG9iYWwoJ3BsYXRmb3JtLnVyaScpIHx8ICdodHRwczovL2Zsb3cubWFueXdoby5jb20nO1xyXG4gICAgICAgIGNvbnN0IHVybCA9IGAke2Jhc2VVcmx9L2FwaS9ydW4vMS9zdGF0ZWA7XHJcblxyXG4gICAgICAgIGNvbnN0IGRhdGE6IGFueSA9IHt9O1xyXG4gICAgICAgIGRhdGEuaWQgPSBmbG93SWQ7XHJcbiAgICAgICAgZGF0YS5kZXZlbG9wZXJOYW1lID0gbnVsbDtcclxuICAgICAgICBkYXRhLmlucHV0cyA9IG9iamVjdERhdGEgPyBvYmplY3REYXRhLmlGbG93T2JqZWN0RGF0YUFycmF5KCkgOiBudWxsO1xyXG4gICAgICAgIG1hbnl3aG8uY29ubmVjdGlvbi5yZXF1ZXN0KHRoaXMsIFwiXCIsIHVybCAsICdQT1NUJywgdGhpcy5UZW5hbnRJZCwgXCJcIiwgbWFueXdoby5zdGF0ZS5nZXRBdXRoZW50aWNhdGlvblRva2VuKHRoaXMuRmxvd0tleSksIGRhdGEpO1xyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcclxuICAgIH1cclxuXHJcbiAgICAvL2hlbHBlciB0byBvcGVuIGEgc3BlY2lmaWMgZmxvdyBpbiBhIG5ldyB0YWJcclxuICAgIGFzeW5jIGxhdW5jaEZsb3dUYWIodGVuYW50OiBzdHJpbmcsIGZsb3dJZDogc3RyaW5nLCBwbGF5ZXI6IHN0cmluZywgb2JqZWN0RGF0YT86IEZsb3dPYmplY3REYXRhQXJyYXkpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICBjb25zdCBiYXNlVXJsID0gbWFueXdoby5zZXR0aW5ncy5nbG9iYWwoJ3BsYXRmb3JtLnVyaScpIHx8ICdodHRwczovL2Zsb3cuYm9vbWkuY29tJztcclxuICAgICAgICBjb25zdCB1cmwgPSBiYXNlVXJsICsgJy8nICsgdGVuYW50ICsgJy9wbGF5LycgKyBwbGF5ZXIgKyAnP2Zsb3ctaWQ9JyArIGZsb3dJZDtcclxuXHJcbiAgICAgICAgd2luZG93Lm9wZW4odXJsLCAnX25ldycpO1xyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcclxuICAgIH1cclxuXHJcbiAgICAvL3RoaXMgd2lsbCBnZXQgdHJpZ2dlcmVkIGJ5IHRoZSBjb2xsYWJvcmF0aW9uIGVuZ2luZVxyXG4gICAgYXN5bmMgY29tcG9uZW50RGlkVXBkYXRlKCk6IFByb21pc2U8YW55PiB7XHJcbiAgICAgICAgY29uc3Qgc3RhdGU6IGFueSA9IG1hbnl3aG8uc3RhdGUuZ2V0Q29tcG9uZW50KHRoaXMuY29tcG9uZW50SWQsIHRoaXMuZmxvd0tleSkgYXMgYW55O1xyXG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBzdGF0ZS5tZXNzYWdlO1xyXG4gICAgICAgIHRoaXMubG9hZE1vZGVsKCk7XHJcblxyXG4gICAgICAgIGlmKG1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgbWFueXdoby5zdGF0ZS5zZXRDb21wb25lbnQodGhpcy5jb21wb25lbnRJZCx7XCJtZXNzYWdlXCI6IHt9fSBhcyBhbnksIHRoaXMuZmxvd0tleSwgZmFsc2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyYmIHN0YXRlLm1lc3NhZ2UuYWN0aW9uID09PSBcIlJFTE9BRFZBTFVFU1wiXHJcbiAgICAgICAgaWYobWVzc2FnZSAmJiBtZXNzYWdlLmFjdGlvbiApIHtcclxuICAgICAgICAgICAgc3dpdGNoIChtZXNzYWdlLmFjdGlvbi50b1VwcGVyQ2FzZSgpKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdSRUZSRVNIX0ZJRUxEUyc6XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5sb2FkVmFsdWVzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGNhc2UgJ1JFRlJFU0hfRklFTEQnOlxyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMubG9hZFZhbHVlKG1lc3NhZ2UuZmllbGROYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrOyBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcclxuICAgfVxyXG5cclxuICAgLy90aGlzIGlzIHVzZWQgYnkgb3RoZXIgY29tcG9uZW50cyB3aG8gbWlnaHQgd2FudCB0byBzZW5kIGluIGEgZ2VuZXJpYyB3aW5kb3cgbWVzc2FnZVxyXG4gICAvL25vdGhpbmcgdG8gZG8gd2l0aCBjb2xsYWJvcmF0aW9uXHJcbiAgICBhc3luYyByZWNlaXZlTWVzc2FnZShtZXNzYWdlOiBhbnkpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICBpZiAobWVzc2FnZS5kYXRhKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1zZzogYW55ID0gbWVzc2FnZS5kYXRhO1xyXG4gICAgICAgICAgICBpZiAobXNnLmFjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChtc2cuYWN0aW9uLnRvVXBwZXJDYXNlKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdPVVRDT01FJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy50cmlnZ2VyT3V0Y29tZShtc2cuZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ1JFRlJFU0hfRklFTERTJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMubG9hZFZhbHVlcygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnUkVGUkVTSF9GSUVMRCc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMubG9hZFZhbHVlKG1zZy5maWVsZE5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5oYW5kbGVNZXNzYWdlKG1zZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBoYW5kbGVNZXNzYWdlKG1zZzogYW55KTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xyXG4gICAgfVxyXG5cclxufVxyXG4iLCJpbXBvcnQgeyBzdHJpbmcgfSBmcm9tICdwcm9wLXR5cGVzJztcclxuaW1wb3J0IHsgZUNvbnRlbnRUeXBlIH0gZnJvbSAnLi9GbG93RmllbGQnO1xyXG5pbXBvcnQgeyBGbG93T2JqZWN0RGF0YSAsIElGbG93T2JqZWN0RGF0YX0gZnJvbSAnLi9GbG93T2JqZWN0RGF0YSc7XHJcbmltcG9ydCB7IEZsb3dPYmplY3REYXRhUHJvcGVydHkgfSBmcm9tICcuL0Zsb3dPYmplY3REYXRhUHJvcGVydHknO1xyXG5cclxuZXhwb3J0IGVudW0gZVNvcnRPcmRlciB7XHJcbiAgICBhc2NlbmRpbmcsXHJcbiAgICBkZXNjZW5kaW5nLFxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgRmxvd09iamVjdERhdGFBcnJheSB7XHJcblxyXG4gICAgcHJpdmF0ZSBJdGVtczogRmxvd09iamVjdERhdGFbXTtcclxuXHJcbiAgICBnZXQgaXRlbXMoKTogRmxvd09iamVjdERhdGFbXSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuSXRlbXM7XHJcbiAgICB9XHJcblxyXG4gICAgc29ydChvcmRlcjogZVNvcnRPcmRlciwgZmllbGROYW1lPzogc3RyaW5nKTogRmxvd09iamVjdERhdGFbXSB7XHJcblxyXG4gICAgICAgIGlmIChvcmRlciA9PT0gZVNvcnRPcmRlci5hc2NlbmRpbmcpIHtcclxuICAgICAgICAgICAgaWYgKGZpZWxkTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuSXRlbXMuc29ydCgoYSwgYikgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBsZXQgdmFsQTogYW55O1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB2YWxCOiBhbnk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChhLnByb3BlcnRpZXNbZmllbGROYW1lXS5jb250ZW50VHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICBlQ29udGVudFR5cGUuQ29udGVudE51bWJlcjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbEEgPSBwYXJzZUZsb2F0KGEucHJvcGVydGllc1tmaWVsZE5hbWVdLnZhbHVlIGFzIHN0cmluZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxCID0gcGFyc2VGbG9hdChiLnByb3BlcnRpZXNbZmllbGROYW1lXS52YWx1ZSBhcyBzdHJpbmcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICBlQ29udGVudFR5cGUuQ29udGVudERhdGVUaW1lOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsQSA9IG5ldyBEYXRlKGEucHJvcGVydGllc1tmaWVsZE5hbWVdLnZhbHVlIGFzIHN0cmluZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxCID0gbmV3IERhdGUoYi5wcm9wZXJ0aWVzW2ZpZWxkTmFtZV0udmFsdWUgYXMgc3RyaW5nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbEEgPSBhLnByb3BlcnRpZXNbZmllbGROYW1lXS52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbEIgPSBiLnByb3BlcnRpZXNbZmllbGROYW1lXS52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIHZhbEEgPCB2YWxCOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSB2YWxBID4gdmFsQjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAxO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5JdGVtcy5zb3J0KChhLCBiKSA9PiBhLm9yZGVyIC0gYi5vcmRlcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoZmllbGROYW1lKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5JdGVtcy5zb3J0KChhLCBiKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoYSAmJiBiICYmIGEucHJvcGVydGllcyAmJiBiLnByb3BlcnRpZXMgJiYgYS5wcm9wZXJ0aWVzW2ZpZWxkTmFtZV0gJiYgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGIucHJvcGVydGllc1tmaWVsZE5hbWVdICYmIGEucHJvcGVydGllc1tmaWVsZE5hbWVdLnZhbHVlICYmIGIucHJvcGVydGllc1tmaWVsZE5hbWVdLnZhbHVlKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoYS5wcm9wZXJ0aWVzW2ZpZWxkTmFtZV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgYS5wcm9wZXJ0aWVzW2ZpZWxkTmFtZV0udmFsdWUgPCBiLnByb3BlcnRpZXNbZmllbGROYW1lXS52YWx1ZTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgYS5wcm9wZXJ0aWVzW2ZpZWxkTmFtZV0udmFsdWUgPiBiLnByb3BlcnRpZXNbZmllbGROYW1lXS52YWx1ZTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLkl0ZW1zLnNvcnQoKGEsIGIpID0+IGEub3JkZXIgLSBiLm9yZGVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb25zdHJ1Y3RvcihhcnJheT86IElGbG93T2JqZWN0RGF0YVtdKSB7XHJcbiAgICAgICAgdGhpcy5JdGVtcyA9IFtdO1xyXG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBhcnJheSB8fCBbXSkge1xyXG4gICAgICAgICAgICB0aGlzLkl0ZW1zLnB1c2gobmV3IEZsb3dPYmplY3REYXRhKFtpdGVtXSkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgYWRkSXRlbShpdGVtOiBGbG93T2JqZWN0RGF0YSkge1xyXG4gICAgICAgIHRoaXMuSXRlbXMucHVzaChpdGVtKTtcclxuICAgIH1cclxuXHJcbiAgICBjbGVhckl0ZW1zKCkge1xyXG4gICAgICAgIHRoaXMuSXRlbXMgPSBbXTtcclxuICAgIH1cclxuXHJcbiAgICBjbG9uZSgpIDogRmxvd09iamVjdERhdGFBcnJheSB7XHJcbiAgICAgICAgY29uc3QgY2xvbmU6IEZsb3dPYmplY3REYXRhQXJyYXkgPSBuZXcgRmxvd09iamVjdERhdGFBcnJheSgpO1xyXG5cclxuICAgICAgICB0aGlzLml0ZW1zLmZvckVhY2goKG9iajogRmxvd09iamVjdERhdGEpID0+IHtcclxuICAgICAgICAgICAgY2xvbmUuYWRkSXRlbShvYmouY2xvbmUoKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIGNsb25lO1xyXG4gICAgfVxyXG5cclxuICAgIGlGbG93T2JqZWN0RGF0YUFycmF5KCk6IElGbG93T2JqZWN0RGF0YVtdIHtcclxuICAgICAgICBjb25zdCBvdXRwdXQ6IElGbG93T2JqZWN0RGF0YVtdID0gW107XHJcbiAgICAgICAgZm9yIChjb25zdCBvZCBvZiB0aGlzLkl0ZW1zKSB7XHJcbiAgICAgICAgICAgIG91dHB1dC5wdXNoKG9kLmlPYmplY3REYXRhKCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gb3V0cHV0O1xyXG4gICAgfVxyXG5cclxuICAgIGdldEl0ZW1XaXRoUHJvcGVydHlOYW1lKGZpbmRQcm9wZXJ0eTogc3RyaW5nLCB3aXRoVmFsdWU6IGFueSwgcmV0dXJuUHJvcGVydHk6IHN0cmluZyk6IEZsb3dPYmplY3REYXRhUHJvcGVydHkgfCBhbnkge1xyXG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiB0aGlzLkl0ZW1zKSB7XHJcbiAgICAgICAgICAgIGlmIChpdGVtLnByb3BlcnRpZXNbZmluZFByb3BlcnR5XSAmJiBpdGVtLnByb3BlcnRpZXNbZmluZFByb3BlcnR5XS52YWx1ZSAgIT0gdW5kZWZpbmVkKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IHZhbHVlID0gaXRlbS5wcm9wZXJ0aWVzW2ZpbmRQcm9wZXJ0eV0udmFsdWU7XHJcbiAgICAgICAgICAgICAgICBsZXQgY29tcGFyZVRvID0gd2l0aFZhbHVlO1xyXG5cclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoaXRlbS5wcm9wZXJ0aWVzW2ZpbmRQcm9wZXJ0eV0uY29udGVudFR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIGVDb250ZW50VHlwZS5Db250ZW50U3RyaW5nOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9ICh2YWx1ZSBhcyBzdHJpbmcpLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBhcmVUbyA9IGNvbXBhcmVUby50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBlQ29udGVudFR5cGUuQ29udGVudE51bWJlcjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcGFyZVRvID0gcGFyc2VGbG9hdChjb21wYXJlVG8udG9Mb3dlckNhc2UoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjYXNlIGVDb250ZW50VHlwZS5Db250ZW50Qm9vbGVhbjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcGFyZVRvID0gbmV3IFN0cmluZyhjb21wYXJlVG8pLnRvTG93ZXJDYXNlKCkgPT09ICd0cnVlJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAgPT09IGNvbXBhcmVUbykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpdGVtLnByb3BlcnRpZXNbcmV0dXJuUHJvcGVydHldO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEl0ZW1XaXRoUHJvcGVydHlWYWx1ZShmaW5kUHJvcGVydHk6IHN0cmluZywgd2l0aFZhbHVlOiBhbnkpOiBGbG93T2JqZWN0RGF0YSB8IHVuZGVmaW5lZCB7XHJcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIHRoaXMuSXRlbXMpIHtcclxuICAgICAgICAgICAgaWYgKGl0ZW0ucHJvcGVydGllc1tmaW5kUHJvcGVydHldICYmIGl0ZW0ucHJvcGVydGllc1tmaW5kUHJvcGVydHldLnZhbHVlICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB2YWx1ZSA9IGl0ZW0ucHJvcGVydGllc1tmaW5kUHJvcGVydHldLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjb21wYXJlVG8gPSB3aXRoVmFsdWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoaXRlbS5wcm9wZXJ0aWVzW2ZpbmRQcm9wZXJ0eV0uY29udGVudFR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBlQ29udGVudFR5cGUuQ29udGVudFN0cmluZzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gKHZhbHVlIGFzIHN0cmluZykudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBhcmVUbyA9IG5ldyBTdHJpbmcoY29tcGFyZVRvKS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGVDb250ZW50VHlwZS5Db250ZW50TnVtYmVyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBhcmVUbyA9IHBhcnNlRmxvYXQobmV3IFN0cmluZyhjb21wYXJlVG8pLnRvTG93ZXJDYXNlKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGVDb250ZW50VHlwZS5Db250ZW50Qm9vbGVhbjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wYXJlVG8gPSBuZXcgU3RyaW5nKGNvbXBhcmVUbykudG9Mb3dlckNhc2UoKSA9PT0gJ3RydWUnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IGNvbXBhcmVUbykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldEluZGV4T2ZJdGVtV2l0aFByb3BlcnR5VmFsdWUoZmluZFByb3BlcnR5OiBzdHJpbmcsIHdpdGhWYWx1ZTogYW55KTogbnVtYmVyIHtcclxuICAgICAgICBmb3IgKGxldCBwb3M6IG51bWJlciA9IDA7IHBvcyA8IHRoaXMuaXRlbXMubGVuZ3RoOyBwb3MrKykge1xyXG4gICAgICAgICAgICBjb25zdCBpdGVtID0gdGhpcy5pdGVtc1twb3NdO1xyXG4gICAgICAgICAgICBpZiAoaXRlbS5wcm9wZXJ0aWVzW2ZpbmRQcm9wZXJ0eV0gJiYgaXRlbS5wcm9wZXJ0aWVzW2ZpbmRQcm9wZXJ0eV0udmFsdWUgICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB2YWx1ZSA9IGl0ZW0ucHJvcGVydGllc1tmaW5kUHJvcGVydHldLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjb21wYXJlVG8gPSB3aXRoVmFsdWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoaXRlbS5wcm9wZXJ0aWVzW2ZpbmRQcm9wZXJ0eV0uY29udGVudFR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBlQ29udGVudFR5cGUuQ29udGVudFN0cmluZzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gKHZhbHVlIGFzIHN0cmluZykudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBhcmVUbyA9IGNvbXBhcmVUby50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGVDb250ZW50VHlwZS5Db250ZW50TnVtYmVyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBhcmVUbyA9IHBhcnNlRmxvYXQobmV3IFN0cmluZyhjb21wYXJlVG8pLnRvTG93ZXJDYXNlKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGVDb250ZW50VHlwZS5Db250ZW50Qm9vbGVhbjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wYXJlVG8gPSBuZXcgU3RyaW5nKGNvbXBhcmVUbykudG9Mb3dlckNhc2UoKSA9PT0gJ3RydWUnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IGNvbXBhcmVUbykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcG9zO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbW92ZUl0ZW1XaXRoUHJvcGVydHlWYWx1ZShmaW5kUHJvcGVydHk6IHN0cmluZywgd2l0aFZhbHVlOiBhbnkpOiBudW1iZXIge1xyXG4gICAgICAgIGxldCBtb2RpZmllZENvdW50OiBudW1iZXIgPSAwO1xyXG4gICAgICAgIGZvciAobGV0IHBvczogbnVtYmVyID0gMDsgcG9zIDwgdGhpcy5pdGVtcy5sZW5ndGg7IHBvcysrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLml0ZW1zW3Bvc107XHJcbiAgICAgICAgICAgIGlmIChpdGVtLnByb3BlcnRpZXNbZmluZFByb3BlcnR5XSAmJiBpdGVtLnByb3BlcnRpZXNbZmluZFByb3BlcnR5XS52YWx1ZSAhPSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdmFsdWUgPSBpdGVtLnByb3BlcnRpZXNbZmluZFByb3BlcnR5XS52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgY29tcGFyZVRvID0gd2l0aFZhbHVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGl0ZW0ucHJvcGVydGllc1tmaW5kUHJvcGVydHldLmNvbnRlbnRUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZUNvbnRlbnRUeXBlLkNvbnRlbnRTdHJpbmc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9ICh2YWx1ZSBhcyBzdHJpbmcpLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wYXJlVG8gPSBjb21wYXJlVG8udG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBlQ29udGVudFR5cGUuQ29udGVudE51bWJlcjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wYXJlVG8gPSBwYXJzZUZsb2F0KG5ldyBTdHJpbmcoY29tcGFyZVRvKS50b0xvd2VyQ2FzZSgpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBlQ29udGVudFR5cGUuQ29udGVudEJvb2xlYW46XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGFyZVRvID0gbmV3IFN0cmluZyhjb21wYXJlVG8pLnRvTG93ZXJDYXNlKCkgPT09ICd0cnVlJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBjb21wYXJlVG8pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pdGVtcy5zcGxpY2UocG9zLDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RpZmllZENvdW50Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbW9kaWZpZWRDb3VudDtcclxuICAgIH1cclxuXHJcbiAgICByZW1vdmVJdGVtQXRJbmRleChpbmRleDogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgICAgICBsZXQgbW9kaWZpZWRDb3VudDogbnVtYmVyID0gMDtcclxuICAgICAgICBpZih0aGlzLml0ZW1zW2luZGV4XSkge1xyXG4gICAgICAgICAgICB0aGlzLml0ZW1zLnNwbGljZShpbmRleCwxKTtcclxuICAgICAgICAgICAgbW9kaWZpZWRDb3VudD1pbmRleDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG1vZGlmaWVkQ291bnQ7XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0IGNsYXNzIEZsb3dBdHRyaWJ1dGUge1xyXG5cclxuICAgIHByaXZhdGUgTmFtZTogc3RyaW5nO1xyXG4gICAgcHJpdmF0ZSBWYWx1ZTogc3RyaW5nO1xyXG5cclxuICAgIGdldCBuYW1lKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuTmFtZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgdmFsdWUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5WYWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdHJ1Y3RvcihuYW1lOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLk5hbWUgPSBuYW1lO1xyXG4gICAgICAgIHRoaXMuVmFsdWUgPSB2YWx1ZTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBGbG93QmFzZUNvbXBvbmVudCB9IGZyb20gJy4vRmxvd0Jhc2VDb21wb25lbnQnO1xyXG4vL2ltcG9ydCB7ICBJTWFueXdobyB9IGZyb20gJy4vaW50ZXJmYWNlcyc7XHJcblxyXG5kZWNsYXJlIGNvbnN0IG1hbnl3aG86IGFueTtcclxuXHJcbmV4cG9ydCBjbGFzcyBGbG93Q29tcG9uZW50IGV4dGVuZHMgRmxvd0Jhc2VDb21wb25lbnQge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBhbnkpIHtcclxuICAgICAgICBzdXBlcihwcm9wcyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gdGhlIEZsb3dQYWdlIGF1dG9tYXRpY2FsbHkgZ2V0cyB2YWx1ZXNcclxuICAgIGFzeW5jIGNvbXBvbmVudERpZE1vdW50KCkge1xyXG4gICAgICAgIGF3YWl0IHN1cGVyLmNvbXBvbmVudERpZE1vdW50KCk7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5kb250TG9hZFZhbHVlcygpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcclxuICAgICAgICBhd2FpdCBzdXBlci5jb21wb25lbnREaWRVcGRhdGUoKTtcclxuICAgIH1cclxufVxyXG4iLCJleHBvcnQgKiBmcm9tICcuL2ZpbGUtZG93bmxvYWRlcic7XG5leHBvcnQgKiBmcm9tICcuL2ZpbGUtZG93bmxvYWRlci1jb21wbGV4JztcbiIsIlxyXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCAnLi9maWxlLWRvd25sb2FkZXIuY3NzJztcclxuaW1wb3J0IHsgZUxvYWRpbmdTdGF0ZSB9IGZyb20gJy9PcGVyYXRpb25hbCBEYXRhL0Zsb3cgVUkgQ3VzdG9tIENvbXBvbmVudHMvMjAxOSBWZXJzaW9uL0Zsb3dDb21wb25lbnRNb2RlbC9zcmMvRmxvd0Jhc2VDb21wb25lbnQnO1xyXG5pbXBvcnQge0Zsb3dDb21wb25lbnR9IGZyb20gJy9PcGVyYXRpb25hbCBEYXRhL0Zsb3cgVUkgQ3VzdG9tIENvbXBvbmVudHMvMjAxOSBWZXJzaW9uL0Zsb3dDb21wb25lbnRNb2RlbC9zcmMvRmxvd0NvbXBvbmVudCc7XHJcbmRlY2xhcmUgY29uc3QgbWFueXdobzogYW55O1xyXG5cclxuY2xhc3MgRmlsZURvd25sb2FkZXIgZXh0ZW5kcyBGbG93Q29tcG9uZW50IHtcclxuXHJcbiAgICBhc3luYyBjb21wb25lbnREaWRNb3VudCgpIHtcclxuICAgICAgICBhd2FpdCBzdXBlci5jb21wb25lbnREaWRNb3VudCgpO1xyXG4gICAgICAgIHRoaXMuZm9yY2VVcGRhdGUoKTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoKSB7XHJcblxyXG4gICAgIGlmICh0aGlzLmxvYWRpbmdTdGF0ZSAhPT0gZUxvYWRpbmdTdGF0ZS5yZWFkeSkge1xyXG4gICAgICAgICAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJmaWxlLWJveFwiLz47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICBjb25zdCBkYXRhVXJpOiBzdHJpbmcgPSAnZGF0YTpiaW5hcnkvb2N0ZXQtc3RyZWFtO2Jhc2U2NCwnICsgdGhpcy5nZXRTdGF0ZVZhbHVlKCkgYXMgc3RyaW5nO1xyXG5cclxuICAgICBjb25zdCBjYXB0aW9uOiBzdHJpbmcgPSB0aGlzLmdldEF0dHJpYnV0ZSgndGl0bGUnLFwiRmlsZSBEb3dubG9hZGVyXCIpO1xyXG4gICAgIGNvbnN0IGljb246IHN0cmluZyA9IHRoaXMuZ2V0QXR0cmlidXRlKCdpY29uJywnZW52ZWxvcGUnKTtcclxuICAgICBjb25zdCBjbGFzc05hbWU6IHN0cmluZyA9ICdnbHlwaGljb24gZ2x5cGhpY29uLScgKyBpY29uICsgJyBpY29uLWJ1dHRvbic7XHJcbiAgICAgY29uc3QgaWNvblNpemU6IG51bWJlciA9IHBhcnNlSW50KHRoaXMuZ2V0QXR0cmlidXRlKCdwb2ludFNpemUnLCAnMjQnKSk7XHJcbiAgICAgY29uc3Qgb3V0Y29tZTogc3RyaW5nID0gdGhpcy5nZXRBdHRyaWJ1dGUoJ29uQ2xpY2tPdXRjb21lJywgJycpO1xyXG4gICAgIGNvbnN0IGljb25TdHlsZTogUmVhY3QuQ1NTUHJvcGVydGllcyA9IHsgZm9udFNpemU6IGljb25TaXplICsgJ3B0JyB9O1xyXG5cclxuICAgICByZXR1cm4gKFxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmlsZS1ib3hcIiA+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmlsZS1ib3gtYm9keVwiPlxyXG4gICAgICAgICAgICAgICAgPGEgXHJcbiAgICAgICAgICAgICAgICAgICAgZG93bmxvYWQ9XCJmaWxlXCIgXHJcbiAgICAgICAgICAgICAgICAgICAgaHJlZj17ZGF0YVVyaX1cclxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXthc3luYyAoZTogYW55KSA9PiB7aWYob3V0Y29tZS5sZW5ndGggPiAwKSB7YXdhaXQgdGhpcy50cmlnZ2VyT3V0Y29tZShvdXRjb21lKX19fVxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17Y2xhc3NOYW1lfSBzdHlsZT17aWNvblN0eWxlfSB0aXRsZT17Y2FwdGlvbn0vPlxyXG4gICAgICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxubWFueXdoby5jb21wb25lbnQucmVnaXN0ZXIoJ0ZpbGVEb3dubG9hZGVyJywgRmlsZURvd25sb2FkZXIpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgRmlsZURvd25sb2FkZXI7XHJcbiIsImRlY2xhcmUgY29uc3QgbWFueXdobzogYW55O1xyXG5cclxuaWYgKCEobWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlcikge1xyXG4gICAgKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIgPSB7fTtcclxuICAgIChtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLmJlZm9yZVNlbmRMaXN0ZW5lcnMgPSB7fTtcclxuICAgIChtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLmRvbmVMaXN0ZW5lcnMgPSB7fTtcclxuICAgIChtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLmZhaWxMaXN0ZW5lcnMgPSB7fTtcclxuICAgIChtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLm91dGNvbWVCZWluZ1RyaWdnZXJlZDtcclxuXHJcbiAgICAobWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlci5iZWZvcmVTZW5kID0gKHhocjogWE1MSHR0cFJlcXVlc3QsIHJlcXVlc3Q6IGFueSkgPT4ge1xyXG4gICAgICAgIC8vKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIuYmVmb3JlU2VuZExpc3RlbmVycy5mb3JFYWNoKChsaXN0ZW5lcjogYW55KSA9PiBsaXN0ZW5lcih4aHIsIHJlcXVlc3QpKTtcclxuICAgICAgICBmb3IoY29uc3Qga2V5IGluIChtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLmJlZm9yZVNlbmRMaXN0ZW5lcnMgKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIuYmVmb3JlU2VuZExpc3RlbmVyc1trZXldKHhociwgcmVxdWVzdCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAobWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlci5kb25lID0gKHhocjogWE1MSHR0cFJlcXVlc3QsIHJlcXVlc3Q6IGFueSkgPT4ge1xyXG4gICAgICAgIC8vKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIuZG9uZUxpc3RlbmVycy5mb3JFYWNoKChsaXN0ZW5lcjogYW55KSA9PiBsaXN0ZW5lcih4aHIsIHJlcXVlc3QpKTtcclxuICAgICAgICBmb3IoY29uc3Qga2V5IGluIChtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLmRvbmVMaXN0ZW5lcnMgKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIuZG9uZUxpc3RlbmVyc1trZXldKHhociwgcmVxdWVzdCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAobWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlci5mYWlsID0gKHhocjogWE1MSHR0cFJlcXVlc3QsIHJlcXVlc3Q6IGFueSkgPT4ge1xyXG4gICAgICAgIC8vKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIuZmFpbExpc3RlbmVycy5mb3JFYWNoKChsaXN0ZW5lcjogYW55KSA9PiBsaXN0ZW5lcih4aHIsIHJlcXVlc3QpKTtcclxuICAgICAgICBmb3IoY29uc3Qga2V5IGluIChtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLmZhaWxMaXN0ZW5lcnMgKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIuZmFpbExpc3RlbmVyc1trZXldKHhociwgcmVxdWVzdCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAobWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlci5hZGRCZWZvcmVTZW5kTGlzdGVuZXIgPSAoaGFuZGxlcjogKHhocjogWE1MSHR0cFJlcXVlc3QsIHJlcXVlc3Q6IGFueSkgPT4gdm9pZCwgY29tcG9uZW50SWQ6IHN0cmluZykgPT4ge1xyXG4gICAgICAgIChtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLmJlZm9yZVNlbmRMaXN0ZW5lcnNbY29tcG9uZW50SWRdID0gaGFuZGxlcjtcclxuICAgIH07XHJcblxyXG4gICAgKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIucmVtb3ZlQmVmb3JlU2VuZExpc3RlbmVyID0gKGNvbXBvbmVudElkOiBzdHJpbmcpID0+IHtcclxuICAgICAgICBkZWxldGUgKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIuYmVmb3JlU2VuZExpc3RlbmVyc1tjb21wb25lbnRJZF07XHJcbiAgICB9O1xyXG5cclxuICAgIChtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLmFkZERvbmVMaXN0ZW5lciA9IChoYW5kbGVyOiAoeGhyOiBYTUxIdHRwUmVxdWVzdCwgcmVxdWVzdDogYW55KSA9PiB2b2lkLCBjb21wb25lbnRJZDogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIuZG9uZUxpc3RlbmVyc1tjb21wb25lbnRJZF0gPSBoYW5kbGVyO1xyXG4gICAgfTtcclxuXHJcbiAgICAobWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlci5yZW1vdmVEb25lTGlzdGVuZXIgPSAoY29tcG9uZW50SWQ6IHN0cmluZykgPT4ge1xyXG4gICAgICAgIGRlbGV0ZSAobWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlci5kb25lTGlzdGVuZXJzW2NvbXBvbmVudElkXTtcclxuICAgIH07XHJcblxyXG4gICAgKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIuYWRkRmFpbExpc3RlbmVyID0gKGhhbmRsZXI6ICh4aHI6IFhNTEh0dHBSZXF1ZXN0LCByZXF1ZXN0OiBhbnkpID0+IHZvaWQsIGNvbXBvbmVudElkOiBzdHJpbmcpID0+IHtcclxuICAgICAgICAobWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlci5mYWlsTGlzdGVuZXJzW2NvbXBvbmVudElkXSA9IGhhbmRsZXI7XHJcbiAgICB9O1xyXG5cclxuICAgIChtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLnJlbW92ZUZhaWxMaXN0ZW5lciA9IChjb21wb25lbnRJZDogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgZGVsZXRlIChtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLmZhaWxMaXN0ZW5lcnNbY29tcG9uZW50SWRdO1xyXG4gICAgfTtcclxuXHJcbiAgICBtYW55d2hvLnNldHRpbmdzLmluaXRpYWxpemUobnVsbCwge1xyXG4gICAgICAgIGludm9rZToge1xyXG4gICAgICAgICAgICBiZWZvcmVTZW5kOiAobWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlci5iZWZvcmVTZW5kLFxyXG4gICAgICAgICAgICBkb25lOiAobWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlci5kb25lLFxyXG4gICAgICAgICAgICBmYWlsOiAobWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlci5mYWlsLFxyXG4gICAgICAgIH0sXHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0e307IiwiaW1wb3J0IHsgZUNvbnRlbnRUeXBlIH0gZnJvbSBcIi4vRmxvd0ZpZWxkXCI7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElGbG93RGlzcGxheUNvbHVtbiB7XHJcblxyXG4gICAgY29tcG9uZW50VHlwZTogc3RyaW5nO1xyXG4gICAgY29udGVudEZvcm1hdDogc3RyaW5nO1xyXG4gICAgY29udGVudFR5cGU6IHN0cmluZztcclxuICAgIGRldmVsb3Blck5hbWU6IHN0cmluZztcclxuICAgIGlzRGlzcGxheVZhbHVlOiBib29sZWFuO1xyXG4gICAgaXNFZGl0YWJsZTogYm9vbGVhbjtcclxuICAgIGxhYmVsOiBzdHJpbmc7XHJcbiAgICBvcmRlcjogbnVtYmVyO1xyXG4gICAgdHlwZUVsZW1lbnRQcm9wZXJ0eUlkOiBzdHJpbmc7XHJcbiAgICB0eXBlRWxlbWVtdFByb3BlcnR5VG9EaXNwbGF5SWQ6IHN0cmluZztcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEZsb3dEaXNwbGF5Q29sdW1uIHtcclxuICAgIHByaXZhdGUgQ29tcG9uZW50VHlwZTogc3RyaW5nO1xyXG4gICAgcHJpdmF0ZSBDb250ZW50Rm9ybWF0OiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIENvbnRlbnRUeXBlOiBlQ29udGVudFR5cGU7XHJcbiAgICBwcml2YXRlIERldmVsb3Blck5hbWU6IHN0cmluZztcclxuICAgIHByaXZhdGUgVmlzaWJsZTogYm9vbGVhbjtcclxuICAgIHByaXZhdGUgUmVhZE9ubHk6IGJvb2xlYW47XHJcbiAgICBwcml2YXRlIExhYmVsOiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIERpc3BsYXlPcmRlcjogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBUeXBlRWxlbWVudFByb3BlcnR5SWQ6IHN0cmluZztcclxuICAgIHByaXZhdGUgVHlwZUVsZW1lbXRQcm9wZXJ0eVRvRGlzcGxheUlkOiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIENvbHVtbjogSUZsb3dEaXNwbGF5Q29sdW1uO1xyXG5cclxuICAgIGdldCBjb21wb25lbnRUeXBlKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuQ29tcG9uZW50VHlwZTtcclxuICAgIH1cclxuICAgIGdldCBjb250ZW50Rm9ybWF0KCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuQ29udGVudEZvcm1hdDtcclxuICAgIH1cclxuICAgIGdldCBjb250ZW50VHlwZSgpOiBlQ29udGVudFR5cGUge1xyXG4gICAgICAgIHJldHVybiB0aGlzLkNvbnRlbnRUeXBlO1xyXG4gICAgfVxyXG4gICAgZ2V0IGRldmVsb3Blck5hbWUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5EZXZlbG9wZXJOYW1lO1xyXG4gICAgfVxyXG4gICAgZ2V0IHZpc2libGUoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuVmlzaWJsZTtcclxuICAgIH1cclxuICAgIGdldCByZWFkT25seSgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5SZWFkT25seTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgbGFiZWwoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5MYWJlbDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgZGlzcGxheU9yZGVyKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuRGlzcGxheU9yZGVyO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCB0eXBlRWxlbWVudFByb3BlcnR5SWQoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5UeXBlRWxlbWVudFByb3BlcnR5SWQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHR5cGVFbGVtZW10UHJvcGVydHlUb0Rpc3BsYXlJZCgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLlR5cGVFbGVtZW10UHJvcGVydHlUb0Rpc3BsYXlJZDtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihjb2x1bW46IElGbG93RGlzcGxheUNvbHVtbikge1xyXG4gICAgICAgIHRoaXMuQ29sdW1uID0gY29sdW1uO1xyXG4gICAgICAgIHRoaXMuQ29tcG9uZW50VHlwZSA9IGNvbHVtbi5jb21wb25lbnRUeXBlO1xyXG4gICAgICAgIHRoaXMuQ29udGVudEZvcm1hdCA9IGNvbHVtbi5jb250ZW50Rm9ybWF0O1xyXG4gICAgICAgIHRoaXMuQ29udGVudFR5cGUgPSBlQ29udGVudFR5cGVbY29sdW1uLmNvbnRlbnRUeXBlIGFzIGtleW9mIHR5cGVvZiBlQ29udGVudFR5cGVdO1xyXG4gICAgICAgIHRoaXMuRGV2ZWxvcGVyTmFtZSA9IGNvbHVtbi5kZXZlbG9wZXJOYW1lO1xyXG4gICAgICAgIHRoaXMuRGlzcGxheU9yZGVyID0gY29sdW1uLm9yZGVyO1xyXG4gICAgICAgIHRoaXMuTGFiZWwgPSBjb2x1bW4ubGFiZWw7XHJcbiAgICAgICAgdGhpcy5SZWFkT25seSA9ICFjb2x1bW4uaXNFZGl0YWJsZTtcclxuICAgICAgICB0aGlzLlR5cGVFbGVtZW10UHJvcGVydHlUb0Rpc3BsYXlJZCA9IGNvbHVtbi50eXBlRWxlbWVtdFByb3BlcnR5VG9EaXNwbGF5SWQ7XHJcbiAgICAgICAgdGhpcy5UeXBlRWxlbWVudFByb3BlcnR5SWQgPSBjb2x1bW4udHlwZUVsZW1lbnRQcm9wZXJ0eUlkO1xyXG4gICAgICAgIHRoaXMuVmlzaWJsZSA9IGNvbHVtbi5pc0Rpc3BsYXlWYWx1ZTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgaUZsb3dEaXNwbGF5Q29sdW1uKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLkNvbHVtbjtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBlQ29udGVudFR5cGUgfSBmcm9tICcuL0Zsb3dGaWVsZCc7XHJcbmltcG9ydCB7IEZsb3dPYmplY3REYXRhLCBJRmxvd09iamVjdERhdGEgfSBmcm9tICcuL0Zsb3dPYmplY3REYXRhJztcclxuaW1wb3J0IHsgRmxvd09iamVjdERhdGFBcnJheSB9IGZyb20gJy4vRmxvd09iamVjdERhdGFBcnJheSc7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElGbG93T2JqZWN0RGF0YVByb3BlcnR5IHtcclxuICAgIGNvbnRlbnRGb3JtYXQ6IHN0cmluZyB8IG51bGw7XHJcbiAgICBjb250ZW50VHlwZTogc3RyaW5nO1xyXG4gICAgY29udGVudFZhbHVlOiBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuIHwgbnVsbDtcclxuICAgIGRldmVsb3Blck5hbWU6IHN0cmluZztcclxuICAgIG9iamVjdERhdGE6IElGbG93T2JqZWN0RGF0YVtdIHwgbnVsbDtcclxuICAgIHR5cGVFbGVtZW50SWQ6IHN0cmluZyB8IG51bGw7XHJcbiAgICB0eXBlRWxlbWVudFByb3BlcnR5SWQ6IHN0cmluZztcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEZsb3dPYmplY3REYXRhUHJvcGVydHkge1xyXG5cclxuICAgIHN0YXRpYyBuZXdJbnN0YW5jZShkZXZlbG9wZXJOYW1lOiBzdHJpbmcsIGNvbnRlbnRUeXBlOiBlQ29udGVudFR5cGUsIHZhbHVlOiBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuIHwgRmxvd09iamVjdERhdGEgfCBGbG93T2JqZWN0RGF0YUFycmF5KSB7XHJcblxyXG4gICAgICAgIGxldCBjdjogc3RyaW5nID1cIlwiO1xyXG4gICAgICAgIGxldCBvYmpkOiBJRmxvd09iamVjdERhdGFbXSA9IFtdO1xyXG5cclxuICAgICAgICBzd2l0Y2ggKGNvbnRlbnRUeXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgZUNvbnRlbnRUeXBlLkNvbnRlbnRPYmplY3Q6XHJcbiAgICAgICAgICAgICAgICBjb25zdCBvZDogRmxvd09iamVjdERhdGEgPSB2YWx1ZSBhcyBGbG93T2JqZWN0RGF0YTtcclxuICAgICAgICAgICAgICAgIG9iamQucHVzaChvZC5pT2JqZWN0RGF0YSgpKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBlQ29udGVudFR5cGUuQ29udGVudExpc3Q6XHJcbiAgICAgICAgICAgICAgICBjb25zdCBvZGE6IEZsb3dPYmplY3REYXRhQXJyYXkgPSB2YWx1ZSBhcyBGbG93T2JqZWN0RGF0YUFycmF5O1xyXG4gICAgICAgICAgICAgICAgb2JqZCA9IG9kYS5pRmxvd09iamVjdERhdGFBcnJheSgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgY3YgPSB2YWx1ZSBhcyBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgZGF0YTogSUZsb3dPYmplY3REYXRhUHJvcGVydHkgPSB7XHJcbiAgICAgICAgICAgIGNvbnRlbnRGb3JtYXQ6IFwiXCIsXHJcbiAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBlQ29udGVudFR5cGVbY29udGVudFR5cGVdLFxyXG4gICAgICAgICAgICBjb250ZW50VmFsdWU6IGN2LFxyXG4gICAgICAgICAgICBkZXZlbG9wZXJOYW1lLFxyXG4gICAgICAgICAgICBvYmplY3REYXRhOiBvYmpkLFxyXG4gICAgICAgICAgICB0eXBlRWxlbWVudElkOiBcIlwiLFxyXG4gICAgICAgICAgICB0eXBlRWxlbWVudFByb3BlcnR5SWQ6IFwiXCIsXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gbmV3IHRoaXMoZGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBDb250ZW50Rm9ybWF0OiBzdHJpbmcgPSBcIlwiO1xyXG4gICAgcHJpdmF0ZSBDb250ZW50VHlwZTogZUNvbnRlbnRUeXBlID0gZUNvbnRlbnRUeXBlLnVua25vd247XHJcbiAgICBwcml2YXRlIERldmVsb3Blck5hbWU6IHN0cmluZyA9IFwiXCI7XHJcbiAgICBwcml2YXRlIFR5cGVFbGVtZW50SWQ6IHN0cmluZyA9IFwiXCI7XHJcbiAgICBwcml2YXRlIFR5cGVFbGVtZW50UHJvcGVydHlJZDogc3RyaW5nPSBcIlwiO1xyXG4gICAgcHJpdmF0ZSBWYWx1ZTogc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbiB8IEZsb3dPYmplY3REYXRhIHwgRmxvd09iamVjdERhdGFBcnJheSB8IHVuZGVmaW5lZDtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wZXJ0eTogSUZsb3dPYmplY3REYXRhUHJvcGVydHkgfCB1bmRlZmluZWQpIHtcclxuICAgICAgICBpZihwcm9wZXJ0eSkge1xyXG4gICAgICAgICAgICB0aGlzLkRldmVsb3Blck5hbWUgPSBwcm9wZXJ0eS5kZXZlbG9wZXJOYW1lO1xyXG4gICAgICAgICAgICB0aGlzLkNvbnRlbnRUeXBlID0gZUNvbnRlbnRUeXBlW3Byb3BlcnR5LmNvbnRlbnRUeXBlIGFzIGtleW9mIHR5cGVvZiBlQ29udGVudFR5cGVdO1xyXG4gICAgICAgICAgICB0aGlzLkNvbnRlbnRGb3JtYXQgPSBwcm9wZXJ0eS5jb250ZW50Rm9ybWF0PyBwcm9wZXJ0eS5jb250ZW50Rm9ybWF0IDogXCJcIjtcclxuICAgICAgICAgICAgdGhpcy5UeXBlRWxlbWVudElkID0gcHJvcGVydHkudHlwZUVsZW1lbnRJZD8gcHJvcGVydHkudHlwZUVsZW1lbnRJZCA6IFwiXCI7XHJcbiAgICAgICAgICAgIHRoaXMuVHlwZUVsZW1lbnRQcm9wZXJ0eUlkID0gcHJvcGVydHkudHlwZUVsZW1lbnRQcm9wZXJ0eUlkO1xyXG5cclxuICAgICAgICAgICAgc3dpdGNoICh0aGlzLkNvbnRlbnRUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIGVDb250ZW50VHlwZS5Db250ZW50T2JqZWN0OlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuVmFsdWUgPSBwcm9wZXJ0eS5vYmplY3REYXRhID8gbmV3IEZsb3dPYmplY3REYXRhKHByb3BlcnR5Lm9iamVjdERhdGEpIDogdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgZUNvbnRlbnRUeXBlLkNvbnRlbnRMaXN0OlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmFsdWUgPSBwcm9wZXJ0eS5vYmplY3REYXRhID8gbmV3IEZsb3dPYmplY3REYXRhQXJyYXkocHJvcGVydHkub2JqZWN0RGF0YSkgOiBuZXcgRmxvd09iamVjdERhdGFBcnJheShbXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnZhbHVlID0gcHJvcGVydHkuY29udGVudFZhbHVlPyBwcm9wZXJ0eS5jb250ZW50VmFsdWUgOiBcIlwiIDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgY29udGVudEZvcm1hdCgpOiBzdHJpbmcge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5Db250ZW50Rm9ybWF0O1xyXG4gICAgICAgIH1cclxuICAgIHNldCBjb250ZW50Rm9ybWF0KGNvbnRlbnRGb3JtYXQ6IHN0cmluZykge1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRlbnRGb3JtYXQgPSBjb250ZW50Rm9ybWF0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICBnZXQgY29udGVudFR5cGUoKTogZUNvbnRlbnRUeXBlIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5Db250ZW50VHlwZTtcclxuICAgICAgICB9XHJcbiAgICBzZXQgY29udGVudFR5cGUoY29udGVudFR5cGU6IGVDb250ZW50VHlwZSkge1xyXG4gICAgICAgIHRoaXMuQ29udGVudFR5cGUgPSBjb250ZW50VHlwZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgZ2V0IGRldmVsb3Blck5hbWUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5EZXZlbG9wZXJOYW1lO1xyXG4gICAgICAgIH1cclxuICAgIHNldCBkZXZlbG9wZXJOYW1lKGRldmVsb3Blck5hbWU6IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMuRGV2ZWxvcGVyTmFtZSA9IGRldmVsb3Blck5hbWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIGdldCB0eXBlRWxlbWVudElkKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuVHlwZUVsZW1lbnRJZDtcclxuICAgICAgICB9XHJcbiAgICBzZXQgdHlwZUVsZW1lbnRJZCh0eXBlRWxlbWVudElkOiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLlR5cGVFbGVtZW50SWQgPSB0eXBlRWxlbWVudElkO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICBnZXQgdHlwZUVsZW1lbnRQcm9wZXJ0eUlkKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuVHlwZUVsZW1lbnRQcm9wZXJ0eUlkO1xyXG4gICAgICAgIH1cclxuICAgIHNldCB0eXBlRWxlbWVudFByb3BlcnR5SWQodHlwZUVsZW1lbnRQcm9wZXJ0eUlkOiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLlR5cGVFbGVtZW50UHJvcGVydHlJZCA9IHR5cGVFbGVtZW50UHJvcGVydHlJZDtcclxuICAgICAgICB9XHJcblxyXG4gICAgZ2V0IHZhbHVlKCk6IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCBGbG93T2JqZWN0RGF0YSB8IEZsb3dPYmplY3REYXRhQXJyYXkgfCB1bmRlZmluZWQge1xyXG4gICAgICAgIHN3aXRjaCAodGhpcy5jb250ZW50VHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIGVDb250ZW50VHlwZS5Db250ZW50TnVtYmVyOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQodGhpcy5WYWx1ZSA/IHRoaXMuVmFsdWUgYXMgc3RyaW5nIDogJzAnKTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgZUNvbnRlbnRUeXBlLkNvbnRlbnRCb29sZWFuOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBTdHJpbmcodGhpcy5WYWx1ZSkudG9Mb3dlckNhc2UoKSA9PT0gJ3RydWUnO1xyXG5cclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLlZhbHVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgc2V0IHZhbHVlKHZhbHVlOiBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuIHwgRmxvd09iamVjdERhdGEgfCBGbG93T2JqZWN0RGF0YUFycmF5IHwgdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgdGhpcy5WYWx1ZSA9IHZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIGNsb25lKCkgOiBGbG93T2JqZWN0RGF0YVByb3BlcnR5IHtcclxuXHJcbiAgICAgICAgbGV0IHZhbHVlOiBhbnk7XHJcbiAgICAgICAgc3dpdGNoKHRoaXMuY29udGVudFR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBlQ29udGVudFR5cGUuQ29udGVudExpc3Q6IFxyXG4gICAgICAgICAgICAgICAgdmFsdWUgPSBuZXcgRmxvd09iamVjdERhdGFBcnJheSgpO1xyXG4gICAgICAgICAgICAgICAgKHRoaXMudmFsdWUgYXMgRmxvd09iamVjdERhdGFBcnJheSkuaXRlbXMuZm9yRWFjaCgoaXRlbTogRmxvd09iamVjdERhdGEpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAodmFsdWUgYXMgRmxvd09iamVjdERhdGFBcnJheSkuYWRkSXRlbShpdGVtLmNsb25lKGl0ZW0uZGV2ZWxvcGVyTmFtZSkpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBlQ29udGVudFR5cGUuQ29udGVudE9iamVjdDpcclxuICAgICAgICAgICAgICAgIHZhbHVlPSh0aGlzLnZhbHVlIGFzIEZsb3dPYmplY3REYXRhKS5jbG9uZSgodGhpcy52YWx1ZSBhcyBGbG93T2JqZWN0RGF0YSkuZGV2ZWxvcGVyTmFtZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHRoaXMudmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGNsb25lOiBGbG93T2JqZWN0RGF0YVByb3BlcnR5ID0gRmxvd09iamVjdERhdGFQcm9wZXJ0eS5uZXdJbnN0YW5jZSh0aGlzLmRldmVsb3Blck5hbWUsIHRoaXMuY29udGVudFR5cGUsIHZhbHVlKTtcclxuICAgICAgICByZXR1cm4gY2xvbmU7XHJcbiAgICB9XHJcblxyXG4gICAgaUZsb3dPYmplY3REYXRhUHJvcGVydHkoKTogSUZsb3dPYmplY3REYXRhUHJvcGVydHkge1xyXG5cclxuICAgICAgICBsZXQgY29udGVudFZhbHVlOiBzdHJpbmcgPSBcIlwiO1xyXG4gICAgICAgIGxldCBvYmplY3REYXRhOiBJRmxvd09iamVjdERhdGFbXSA9IFtdO1xyXG5cclxuICAgICAgICBzd2l0Y2ggKHRoaXMuQ29udGVudFR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBlQ29udGVudFR5cGUuQ29udGVudE9iamVjdDpcclxuICAgICAgICAgICAgICAgIGNvbnN0IG9kOiBGbG93T2JqZWN0RGF0YSA9IHRoaXMuVmFsdWUgYXMgRmxvd09iamVjdERhdGE7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gaWYgaXQgaGFzIG5vIGRldmVsb3Blck5hbWUgdGhlbiBza2lwIGl0XHJcbiAgICAgICAgICAgICAgICBpZiAob2QgJiYgb2QuZGV2ZWxvcGVyTmFtZSAmJiBvZC5kZXZlbG9wZXJOYW1lLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBvYmplY3REYXRhLnB1c2gob2QuaU9iamVjdERhdGEoKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgZUNvbnRlbnRUeXBlLkNvbnRlbnRMaXN0OlxyXG4gICAgICAgICAgICAgICAgY29uc3Qgb2RhOiBGbG93T2JqZWN0RGF0YUFycmF5ID0gdGhpcy5WYWx1ZSBhcyBGbG93T2JqZWN0RGF0YUFycmF5O1xyXG4gICAgICAgICAgICAgICAgb2JqZWN0RGF0YSA9IG9kYS5pRmxvd09iamVjdERhdGFBcnJheSgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgY29udGVudFZhbHVlID0gdGhpcy5WYWx1ZSBhcyBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IG91dHB1dDogSUZsb3dPYmplY3REYXRhUHJvcGVydHkgPSB7XHJcbiAgICAgICAgICAgIGNvbnRlbnRGb3JtYXQ6IHRoaXMuQ29udGVudEZvcm1hdCxcclxuICAgICAgICAgICAgY29udGVudFR5cGU6IGVDb250ZW50VHlwZVt0aGlzLkNvbnRlbnRUeXBlXSxcclxuICAgICAgICAgICAgY29udGVudFZhbHVlLFxyXG4gICAgICAgICAgICBkZXZlbG9wZXJOYW1lOiB0aGlzLkRldmVsb3Blck5hbWUsXHJcbiAgICAgICAgICAgIG9iamVjdERhdGEsXHJcbiAgICAgICAgICAgIHR5cGVFbGVtZW50SWQ6IHRoaXMuVHlwZUVsZW1lbnRJZCxcclxuICAgICAgICAgICAgdHlwZUVsZW1lbnRQcm9wZXJ0eUlkOiB0aGlzLlR5cGVFbGVtZW50UHJvcGVydHlJZCxcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBvdXRwdXQ7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGdldCBkaXNwbGF5U3RyaW5nKCk6IHN0cmluZyB7XHJcbiAgICAgICAgbGV0IGxhYmVsOiBzdHJpbmcgPSAnJztcclxuICAgIFxyXG4gICAgICAgIGlmICh0aGlzLlZhbHVlKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5Db250ZW50VHlwZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBlQ29udGVudFR5cGUuQ29udGVudFN0cmluZzpcclxuICAgICAgICAgICAgICAgIGNhc2UgZUNvbnRlbnRUeXBlLkNvbnRlbnROdW1iZXI6XHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWwgPSB0aGlzLlZhbHVlIGFzIHN0cmluZztcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgY2FzZSBlQ29udGVudFR5cGUuQ29udGVudEJvb2xlYW46XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuVmFsdWUgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWwgPSAnVHJ1ZSc7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWwgPSAnRmFsc2UnO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgY2FzZSBlQ29udGVudFR5cGUuQ29udGVudERhdGVUaW1lOlxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGQ6IG51bWJlciA9IERhdGUucGFyc2UodGhpcy5WYWx1ZSBhcyBzdHJpbmcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNOYU4oZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZHQ6IERhdGUgPSBuZXcgRGF0ZShkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxhYmVsLmxlbmd0aCA8PSAxMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGR0LnRvTG9jYWxlRGF0ZVN0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGR0LnRvTG9jYWxlU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWwgPSBlQ29udGVudFR5cGVbdGhpcy5Db250ZW50VHlwZV07XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBsYWJlbCA9ICdVbmRlZmluZWQnO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbGFiZWw7XHJcbiAgICB9XHJcblxyXG59XHJcbiIsImltcG9ydCB7Rmxvd0F0dHJpYnV0ZX0gZnJvbSAnLi9GbG93QXR0cmlidXRlJztcclxuXHJcbmV4cG9ydCBlbnVtIGVQYWdlQWN0aW9uQmluZGluZ1R5cGUge1xyXG4gICAgU2F2ZSA9ICdTQVZFJyxcclxuICAgIFBhcnRpYWxTYXZlID0gJ1BBUlRJQUxfU0FWRScsXHJcbiAgICBOb1NhdmUgPSAnTk9fU0FWRScsXHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIGVQYWdlQWN0aW9uVHlwZSB7XHJcbiAgICBOZXcgPSAnTkVXJyxcclxuICAgIFF1ZXJ5ID0gJ1FVRVJZJyxcclxuICAgIEluc2VydCA9ICdJTlNFUlQnLFxyXG4gICAgVXBkYXRlID0gJ1VQREFURScsXHJcbiAgICBVcHNlcnQgPSAnVVBTRVJUJyxcclxuICAgIERlbGV0ZSA9ICdERUxFVEUnLFxyXG4gICAgUmVtb3ZlID0gJ1JFTU9WRScsXHJcbiAgICBBZGQgPSAnQUREJyxcclxuICAgIEVkaXQgPSAnRURJVCcsXHJcbiAgICBOZXh0ID0gJ05FWFQnLFxyXG4gICAgQmFjayA9ICdCQUNLJyxcclxuICAgIERvbmUgPSAnRE9ORScsXHJcbiAgICBTYXZlID0gJ1NBVkUnLFxyXG4gICAgQ2FuY2VsID0gJ0NBTkNFTCcsXHJcbiAgICBBcHBseSA9ICdBUFBMWScsXHJcbiAgICBJbXBvcnQgPSAnSU1QT1JUJyxcclxuICAgIENsb3NlID0gJ0NMT1NFJyxcclxuICAgIE9wZW4gPSAnT1BFTicsXHJcbiAgICBTdWJtaXQgPSAnU1VCTUlUJyxcclxuICAgIEVzY2FsYXRlID0gJ0VTQ0FMQVRFJyxcclxuICAgIFJlamVjdCA9ICdSRUpFQ1QnLFxyXG4gICAgRGVsZWdhdGUgPSAnREVMRUdBVEUnLFxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElGbG93T3V0Y29tZSB7XHJcbiAgICBhdHRyaWJ1dGVzOiBhbnk7XHJcbiAgICBkZXZlbG9wZXJOYW1lOiBzdHJpbmc7XHJcbiAgICBpZDogc3RyaW5nO1xyXG4gICAgaXNCdWxrQWN0aW9uOiBib29sZWFuO1xyXG4gICAgaXNPdXQ6IGJvb2xlYW47XHJcbiAgICBsYWJlbDogc3RyaW5nO1xyXG4gICAgb3JkZXI6IG51bWJlcjtcclxuICAgIHBhZ2VBY3Rpb25CaW5kaW5nVHlwZTogZVBhZ2VBY3Rpb25CaW5kaW5nVHlwZTtcclxuICAgIHBhZ2VBY3Rpb25UeXBlOiBlUGFnZUFjdGlvblR5cGU7XHJcbiAgICBwYWdlT2JqZWN0QmluZGluZ0lkOiBzdHJpbmc7XHJcbn1cclxuZXhwb3J0IGNsYXNzIEZsb3dPdXRjb21lIHtcclxuICAgIHByaXZhdGUgQXR0cmlidXRlczoge1trZXk6IHN0cmluZ106IEZsb3dBdHRyaWJ1dGV9O1xyXG4gICAgcHJpdmF0ZSBEZXZlbG9wZXJOYW1lOiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIElkOiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIElzQnVsa0FjdGlvbjogYm9vbGVhbjtcclxuICAgIHByaXZhdGUgSXNPdXQ6IGJvb2xlYW47XHJcbiAgICBwcml2YXRlIExhYmVsOiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIE9yZGVyOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIFBhZ2VBY3Rpb25CaW5kaW5nVHlwZTogZVBhZ2VBY3Rpb25CaW5kaW5nVHlwZTtcclxuICAgIHByaXZhdGUgUGFnZUFjdGlvblR5cGU6IGVQYWdlQWN0aW9uVHlwZTtcclxuICAgIHByaXZhdGUgUGFnZU9iamVjdEJpbmRpbmdJZDogc3RyaW5nO1xyXG4gICAgcHJpdmF0ZSBPdXRjb21lOiBJRmxvd091dGNvbWU7XHJcblxyXG4gICAgZ2V0IGRldmVsb3Blck5hbWUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5EZXZlbG9wZXJOYW1lO1xyXG4gICAgfVxyXG4gICAgZ2V0IGlkKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuSWQ7XHJcbiAgICB9XHJcbiAgICBnZXQgaXNCdWxrQWN0aW9uKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLklzQnVsa0FjdGlvbjtcclxuICAgIH1cclxuICAgIGdldCBpc091dCgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5Jc091dDtcclxuICAgIH1cclxuICAgIGdldCBsYWJlbCgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLkxhYmVsO1xyXG4gICAgfVxyXG4gICAgZ2V0IG9yZGVyKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuT3JkZXI7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHBhZ2VBY3Rpb25CaW5kaW5nVHlwZSgpOiBlUGFnZUFjdGlvbkJpbmRpbmdUeXBlIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5QYWdlQWN0aW9uQmluZGluZ1R5cGU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHBhZ2VBY3Rpb25UeXBlKCk6IGVQYWdlQWN0aW9uVHlwZSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuUGFnZUFjdGlvblR5cGU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHBhZ2VPYmplY3RCaW5kaW5nSWQoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5QYWdlT2JqZWN0QmluZGluZ0lkO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBhdHRyaWJ1dGVzKCk6IHtba2V5OiBzdHJpbmddOiBGbG93QXR0cmlidXRlfSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuQXR0cmlidXRlcztcclxuICAgIH1cclxuXHJcbiAgICBjb25zdHJ1Y3RvcihvdXRjb21lOiBJRmxvd091dGNvbWUpIHtcclxuICAgICAgICB0aGlzLkRldmVsb3Blck5hbWUgPSBvdXRjb21lLmRldmVsb3Blck5hbWU7XHJcbiAgICAgICAgdGhpcy5JZCA9IG91dGNvbWUuaWQ7XHJcbiAgICAgICAgdGhpcy5Jc0J1bGtBY3Rpb24gPSBvdXRjb21lLmlzQnVsa0FjdGlvbjtcclxuICAgICAgICB0aGlzLklzT3V0ID0gb3V0Y29tZS5pc091dDtcclxuICAgICAgICB0aGlzLkxhYmVsID0gb3V0Y29tZS5sYWJlbDtcclxuICAgICAgICB0aGlzLk9yZGVyID0gb3V0Y29tZS5vcmRlcjtcclxuICAgICAgICB0aGlzLlBhZ2VBY3Rpb25CaW5kaW5nVHlwZSA9IG91dGNvbWUucGFnZUFjdGlvbkJpbmRpbmdUeXBlO1xyXG4gICAgICAgIHRoaXMuUGFnZUFjdGlvblR5cGUgPSBvdXRjb21lLnBhZ2VBY3Rpb25UeXBlO1xyXG4gICAgICAgIHRoaXMuUGFnZU9iamVjdEJpbmRpbmdJZCA9IG91dGNvbWUucGFnZU9iamVjdEJpbmRpbmdJZDtcclxuICAgICAgICB0aGlzLkF0dHJpYnV0ZXMgPSB7fTtcclxuICAgICAgICBpZiAob3V0Y29tZS5hdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKG91dGNvbWUuYXR0cmlidXRlcykpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuQXR0cmlidXRlc1trZXldID0gbmV3IEZsb3dBdHRyaWJ1dGUoa2V5LCBvdXRjb21lLmF0dHJpYnV0ZXNba2V5XSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuT3V0Y29tZSA9IG91dGNvbWU7XHJcbiAgICB9XHJcblxyXG4gICAgaUZsb3dPdXRjb21lKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLk91dGNvbWU7XHJcbiAgICB9XHJcbn1cclxuIiwiLyoqXG4gKiBsb2Rhc2ggKEN1c3RvbSBCdWlsZCkgPGh0dHBzOi8vbG9kYXNoLmNvbS8+XG4gKiBCdWlsZDogYGxvZGFzaCBtb2R1bGFyaXplIGV4cG9ydHM9XCJucG1cIiAtbyAuL2BcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzIDxodHRwczovL2pxdWVyeS5vcmcvPlxuICogUmVsZWFzZWQgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICogQmFzZWQgb24gVW5kZXJzY29yZS5qcyAxLjguMyA8aHR0cDovL3VuZGVyc2NvcmVqcy5vcmcvTElDRU5TRT5cbiAqIENvcHlyaWdodCBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuICovXG5cbi8qKiBVc2VkIGFzIHRoZSBgVHlwZUVycm9yYCBtZXNzYWdlIGZvciBcIkZ1bmN0aW9uc1wiIG1ldGhvZHMuICovXG52YXIgRlVOQ19FUlJPUl9URVhUID0gJ0V4cGVjdGVkIGEgZnVuY3Rpb24nO1xuXG4vKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cbnZhciBOQU4gPSAwIC8gMDtcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIHN5bWJvbFRhZyA9ICdbb2JqZWN0IFN5bWJvbF0nO1xuXG4vKiogVXNlZCB0byBtYXRjaCBsZWFkaW5nIGFuZCB0cmFpbGluZyB3aGl0ZXNwYWNlLiAqL1xudmFyIHJlVHJpbSA9IC9eXFxzK3xcXHMrJC9nO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgYmFkIHNpZ25lZCBoZXhhZGVjaW1hbCBzdHJpbmcgdmFsdWVzLiAqL1xudmFyIHJlSXNCYWRIZXggPSAvXlstK10weFswLTlhLWZdKyQvaTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGJpbmFyeSBzdHJpbmcgdmFsdWVzLiAqL1xudmFyIHJlSXNCaW5hcnkgPSAvXjBiWzAxXSskL2k7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBvY3RhbCBzdHJpbmcgdmFsdWVzLiAqL1xudmFyIHJlSXNPY3RhbCA9IC9eMG9bMC03XSskL2k7XG5cbi8qKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyB3aXRob3V0IGEgZGVwZW5kZW5jeSBvbiBgcm9vdGAuICovXG52YXIgZnJlZVBhcnNlSW50ID0gcGFyc2VJbnQ7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZ2xvYmFsYCBmcm9tIE5vZGUuanMuICovXG52YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsICYmIGdsb2JhbC5PYmplY3QgPT09IE9iamVjdCAmJiBnbG9iYWw7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgc2VsZmAuICovXG52YXIgZnJlZVNlbGYgPSB0eXBlb2Ygc2VsZiA9PSAnb2JqZWN0JyAmJiBzZWxmICYmIHNlbGYuT2JqZWN0ID09PSBPYmplY3QgJiYgc2VsZjtcblxuLyoqIFVzZWQgYXMgYSByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbCBvYmplY3QuICovXG52YXIgcm9vdCA9IGZyZWVHbG9iYWwgfHwgZnJlZVNlbGYgfHwgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAqIG9mIHZhbHVlcy5cbiAqL1xudmFyIG9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cbnZhciBuYXRpdmVNYXggPSBNYXRoLm1heCxcbiAgICBuYXRpdmVNaW4gPSBNYXRoLm1pbjtcblxuLyoqXG4gKiBHZXRzIHRoZSB0aW1lc3RhbXAgb2YgdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdGhhdCBoYXZlIGVsYXBzZWQgc2luY2VcbiAqIHRoZSBVbml4IGVwb2NoICgxIEphbnVhcnkgMTk3MCAwMDowMDowMCBVVEMpLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMi40LjBcbiAqIEBjYXRlZ29yeSBEYXRlXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSB0aW1lc3RhbXAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uZGVmZXIoZnVuY3Rpb24oc3RhbXApIHtcbiAqICAgY29uc29sZS5sb2coXy5ub3coKSAtIHN0YW1wKTtcbiAqIH0sIF8ubm93KCkpO1xuICogLy8gPT4gTG9ncyB0aGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBpdCB0b29rIGZvciB0aGUgZGVmZXJyZWQgaW52b2NhdGlvbi5cbiAqL1xudmFyIG5vdyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gcm9vdC5EYXRlLm5vdygpO1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgZGVib3VuY2VkIGZ1bmN0aW9uIHRoYXQgZGVsYXlzIGludm9raW5nIGBmdW5jYCB1bnRpbCBhZnRlciBgd2FpdGBcbiAqIG1pbGxpc2Vjb25kcyBoYXZlIGVsYXBzZWQgc2luY2UgdGhlIGxhc3QgdGltZSB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uIHdhc1xuICogaW52b2tlZC4gVGhlIGRlYm91bmNlZCBmdW5jdGlvbiBjb21lcyB3aXRoIGEgYGNhbmNlbGAgbWV0aG9kIHRvIGNhbmNlbFxuICogZGVsYXllZCBgZnVuY2AgaW52b2NhdGlvbnMgYW5kIGEgYGZsdXNoYCBtZXRob2QgdG8gaW1tZWRpYXRlbHkgaW52b2tlIHRoZW0uXG4gKiBQcm92aWRlIGBvcHRpb25zYCB0byBpbmRpY2F0ZSB3aGV0aGVyIGBmdW5jYCBzaG91bGQgYmUgaW52b2tlZCBvbiB0aGVcbiAqIGxlYWRpbmcgYW5kL29yIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIGB3YWl0YCB0aW1lb3V0LiBUaGUgYGZ1bmNgIGlzIGludm9rZWRcbiAqIHdpdGggdGhlIGxhc3QgYXJndW1lbnRzIHByb3ZpZGVkIHRvIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb24uIFN1YnNlcXVlbnRcbiAqIGNhbGxzIHRvIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gcmV0dXJuIHRoZSByZXN1bHQgb2YgdGhlIGxhc3QgYGZ1bmNgXG4gKiBpbnZvY2F0aW9uLlxuICpcbiAqICoqTm90ZToqKiBJZiBgbGVhZGluZ2AgYW5kIGB0cmFpbGluZ2Agb3B0aW9ucyBhcmUgYHRydWVgLCBgZnVuY2AgaXNcbiAqIGludm9rZWQgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQgb25seSBpZiB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uXG4gKiBpcyBpbnZva2VkIG1vcmUgdGhhbiBvbmNlIGR1cmluZyB0aGUgYHdhaXRgIHRpbWVvdXQuXG4gKlxuICogSWYgYHdhaXRgIGlzIGAwYCBhbmQgYGxlYWRpbmdgIGlzIGBmYWxzZWAsIGBmdW5jYCBpbnZvY2F0aW9uIGlzIGRlZmVycmVkXG4gKiB1bnRpbCB0byB0aGUgbmV4dCB0aWNrLCBzaW1pbGFyIHRvIGBzZXRUaW1lb3V0YCB3aXRoIGEgdGltZW91dCBvZiBgMGAuXG4gKlxuICogU2VlIFtEYXZpZCBDb3JiYWNobydzIGFydGljbGVdKGh0dHBzOi8vY3NzLXRyaWNrcy5jb20vZGVib3VuY2luZy10aHJvdHRsaW5nLWV4cGxhaW5lZC1leGFtcGxlcy8pXG4gKiBmb3IgZGV0YWlscyBvdmVyIHRoZSBkaWZmZXJlbmNlcyBiZXR3ZWVuIGBfLmRlYm91bmNlYCBhbmQgYF8udGhyb3R0bGVgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZGVib3VuY2UuXG4gKiBAcGFyYW0ge251bWJlcn0gW3dhaXQ9MF0gVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gZGVsYXkuXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIFRoZSBvcHRpb25zIG9iamVjdC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMubGVhZGluZz1mYWxzZV1cbiAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSBsZWFkaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWF4V2FpdF1cbiAqICBUaGUgbWF4aW11bSB0aW1lIGBmdW5jYCBpcyBhbGxvd2VkIHRvIGJlIGRlbGF5ZWQgYmVmb3JlIGl0J3MgaW52b2tlZC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudHJhaWxpbmc9dHJ1ZV1cbiAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZGVib3VuY2VkIGZ1bmN0aW9uLlxuICogQGV4YW1wbGVcbiAqXG4gKiAvLyBBdm9pZCBjb3N0bHkgY2FsY3VsYXRpb25zIHdoaWxlIHRoZSB3aW5kb3cgc2l6ZSBpcyBpbiBmbHV4LlxuICogalF1ZXJ5KHdpbmRvdykub24oJ3Jlc2l6ZScsIF8uZGVib3VuY2UoY2FsY3VsYXRlTGF5b3V0LCAxNTApKTtcbiAqXG4gKiAvLyBJbnZva2UgYHNlbmRNYWlsYCB3aGVuIGNsaWNrZWQsIGRlYm91bmNpbmcgc3Vic2VxdWVudCBjYWxscy5cbiAqIGpRdWVyeShlbGVtZW50KS5vbignY2xpY2snLCBfLmRlYm91bmNlKHNlbmRNYWlsLCAzMDAsIHtcbiAqICAgJ2xlYWRpbmcnOiB0cnVlLFxuICogICAndHJhaWxpbmcnOiBmYWxzZVxuICogfSkpO1xuICpcbiAqIC8vIEVuc3VyZSBgYmF0Y2hMb2dgIGlzIGludm9rZWQgb25jZSBhZnRlciAxIHNlY29uZCBvZiBkZWJvdW5jZWQgY2FsbHMuXG4gKiB2YXIgZGVib3VuY2VkID0gXy5kZWJvdW5jZShiYXRjaExvZywgMjUwLCB7ICdtYXhXYWl0JzogMTAwMCB9KTtcbiAqIHZhciBzb3VyY2UgPSBuZXcgRXZlbnRTb3VyY2UoJy9zdHJlYW0nKTtcbiAqIGpRdWVyeShzb3VyY2UpLm9uKCdtZXNzYWdlJywgZGVib3VuY2VkKTtcbiAqXG4gKiAvLyBDYW5jZWwgdGhlIHRyYWlsaW5nIGRlYm91bmNlZCBpbnZvY2F0aW9uLlxuICogalF1ZXJ5KHdpbmRvdykub24oJ3BvcHN0YXRlJywgZGVib3VuY2VkLmNhbmNlbCk7XG4gKi9cbmZ1bmN0aW9uIGRlYm91bmNlKGZ1bmMsIHdhaXQsIG9wdGlvbnMpIHtcbiAgdmFyIGxhc3RBcmdzLFxuICAgICAgbGFzdFRoaXMsXG4gICAgICBtYXhXYWl0LFxuICAgICAgcmVzdWx0LFxuICAgICAgdGltZXJJZCxcbiAgICAgIGxhc3RDYWxsVGltZSxcbiAgICAgIGxhc3RJbnZva2VUaW1lID0gMCxcbiAgICAgIGxlYWRpbmcgPSBmYWxzZSxcbiAgICAgIG1heGluZyA9IGZhbHNlLFxuICAgICAgdHJhaWxpbmcgPSB0cnVlO1xuXG4gIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICB9XG4gIHdhaXQgPSB0b051bWJlcih3YWl0KSB8fCAwO1xuICBpZiAoaXNPYmplY3Qob3B0aW9ucykpIHtcbiAgICBsZWFkaW5nID0gISFvcHRpb25zLmxlYWRpbmc7XG4gICAgbWF4aW5nID0gJ21heFdhaXQnIGluIG9wdGlvbnM7XG4gICAgbWF4V2FpdCA9IG1heGluZyA/IG5hdGl2ZU1heCh0b051bWJlcihvcHRpb25zLm1heFdhaXQpIHx8IDAsIHdhaXQpIDogbWF4V2FpdDtcbiAgICB0cmFpbGluZyA9ICd0cmFpbGluZycgaW4gb3B0aW9ucyA/ICEhb3B0aW9ucy50cmFpbGluZyA6IHRyYWlsaW5nO1xuICB9XG5cbiAgZnVuY3Rpb24gaW52b2tlRnVuYyh0aW1lKSB7XG4gICAgdmFyIGFyZ3MgPSBsYXN0QXJncyxcbiAgICAgICAgdGhpc0FyZyA9IGxhc3RUaGlzO1xuXG4gICAgbGFzdEFyZ3MgPSBsYXN0VGhpcyA9IHVuZGVmaW5lZDtcbiAgICBsYXN0SW52b2tlVGltZSA9IHRpbWU7XG4gICAgcmVzdWx0ID0gZnVuYy5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgZnVuY3Rpb24gbGVhZGluZ0VkZ2UodGltZSkge1xuICAgIC8vIFJlc2V0IGFueSBgbWF4V2FpdGAgdGltZXIuXG4gICAgbGFzdEludm9rZVRpbWUgPSB0aW1lO1xuICAgIC8vIFN0YXJ0IHRoZSB0aW1lciBmb3IgdGhlIHRyYWlsaW5nIGVkZ2UuXG4gICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCB3YWl0KTtcbiAgICAvLyBJbnZva2UgdGhlIGxlYWRpbmcgZWRnZS5cbiAgICByZXR1cm4gbGVhZGluZyA/IGludm9rZUZ1bmModGltZSkgOiByZXN1bHQ7XG4gIH1cblxuICBmdW5jdGlvbiByZW1haW5pbmdXYWl0KHRpbWUpIHtcbiAgICB2YXIgdGltZVNpbmNlTGFzdENhbGwgPSB0aW1lIC0gbGFzdENhbGxUaW1lLFxuICAgICAgICB0aW1lU2luY2VMYXN0SW52b2tlID0gdGltZSAtIGxhc3RJbnZva2VUaW1lLFxuICAgICAgICByZXN1bHQgPSB3YWl0IC0gdGltZVNpbmNlTGFzdENhbGw7XG5cbiAgICByZXR1cm4gbWF4aW5nID8gbmF0aXZlTWluKHJlc3VsdCwgbWF4V2FpdCAtIHRpbWVTaW5jZUxhc3RJbnZva2UpIDogcmVzdWx0O1xuICB9XG5cbiAgZnVuY3Rpb24gc2hvdWxkSW52b2tlKHRpbWUpIHtcbiAgICB2YXIgdGltZVNpbmNlTGFzdENhbGwgPSB0aW1lIC0gbGFzdENhbGxUaW1lLFxuICAgICAgICB0aW1lU2luY2VMYXN0SW52b2tlID0gdGltZSAtIGxhc3RJbnZva2VUaW1lO1xuXG4gICAgLy8gRWl0aGVyIHRoaXMgaXMgdGhlIGZpcnN0IGNhbGwsIGFjdGl2aXR5IGhhcyBzdG9wcGVkIGFuZCB3ZSdyZSBhdCB0aGVcbiAgICAvLyB0cmFpbGluZyBlZGdlLCB0aGUgc3lzdGVtIHRpbWUgaGFzIGdvbmUgYmFja3dhcmRzIGFuZCB3ZSdyZSB0cmVhdGluZ1xuICAgIC8vIGl0IGFzIHRoZSB0cmFpbGluZyBlZGdlLCBvciB3ZSd2ZSBoaXQgdGhlIGBtYXhXYWl0YCBsaW1pdC5cbiAgICByZXR1cm4gKGxhc3RDYWxsVGltZSA9PT0gdW5kZWZpbmVkIHx8ICh0aW1lU2luY2VMYXN0Q2FsbCA+PSB3YWl0KSB8fFxuICAgICAgKHRpbWVTaW5jZUxhc3RDYWxsIDwgMCkgfHwgKG1heGluZyAmJiB0aW1lU2luY2VMYXN0SW52b2tlID49IG1heFdhaXQpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRpbWVyRXhwaXJlZCgpIHtcbiAgICB2YXIgdGltZSA9IG5vdygpO1xuICAgIGlmIChzaG91bGRJbnZva2UodGltZSkpIHtcbiAgICAgIHJldHVybiB0cmFpbGluZ0VkZ2UodGltZSk7XG4gICAgfVxuICAgIC8vIFJlc3RhcnQgdGhlIHRpbWVyLlxuICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgcmVtYWluaW5nV2FpdCh0aW1lKSk7XG4gIH1cblxuICBmdW5jdGlvbiB0cmFpbGluZ0VkZ2UodGltZSkge1xuICAgIHRpbWVySWQgPSB1bmRlZmluZWQ7XG5cbiAgICAvLyBPbmx5IGludm9rZSBpZiB3ZSBoYXZlIGBsYXN0QXJnc2Agd2hpY2ggbWVhbnMgYGZ1bmNgIGhhcyBiZWVuXG4gICAgLy8gZGVib3VuY2VkIGF0IGxlYXN0IG9uY2UuXG4gICAgaWYgKHRyYWlsaW5nICYmIGxhc3RBcmdzKSB7XG4gICAgICByZXR1cm4gaW52b2tlRnVuYyh0aW1lKTtcbiAgICB9XG4gICAgbGFzdEFyZ3MgPSBsYXN0VGhpcyA9IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgZnVuY3Rpb24gY2FuY2VsKCkge1xuICAgIGlmICh0aW1lcklkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lcklkKTtcbiAgICB9XG4gICAgbGFzdEludm9rZVRpbWUgPSAwO1xuICAgIGxhc3RBcmdzID0gbGFzdENhbGxUaW1lID0gbGFzdFRoaXMgPSB0aW1lcklkID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgZnVuY3Rpb24gZmx1c2goKSB7XG4gICAgcmV0dXJuIHRpbWVySWQgPT09IHVuZGVmaW5lZCA/IHJlc3VsdCA6IHRyYWlsaW5nRWRnZShub3coKSk7XG4gIH1cblxuICBmdW5jdGlvbiBkZWJvdW5jZWQoKSB7XG4gICAgdmFyIHRpbWUgPSBub3coKSxcbiAgICAgICAgaXNJbnZva2luZyA9IHNob3VsZEludm9rZSh0aW1lKTtcblxuICAgIGxhc3RBcmdzID0gYXJndW1lbnRzO1xuICAgIGxhc3RUaGlzID0gdGhpcztcbiAgICBsYXN0Q2FsbFRpbWUgPSB0aW1lO1xuXG4gICAgaWYgKGlzSW52b2tpbmcpIHtcbiAgICAgIGlmICh0aW1lcklkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGxlYWRpbmdFZGdlKGxhc3RDYWxsVGltZSk7XG4gICAgICB9XG4gICAgICBpZiAobWF4aW5nKSB7XG4gICAgICAgIC8vIEhhbmRsZSBpbnZvY2F0aW9ucyBpbiBhIHRpZ2h0IGxvb3AuXG4gICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgICAgIHJldHVybiBpbnZva2VGdW5jKGxhc3RDYWxsVGltZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aW1lcklkID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgZGVib3VuY2VkLmNhbmNlbCA9IGNhbmNlbDtcbiAgZGVib3VuY2VkLmZsdXNoID0gZmx1c2g7XG4gIHJldHVybiBkZWJvdW5jZWQ7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIHRocm90dGxlZCBmdW5jdGlvbiB0aGF0IG9ubHkgaW52b2tlcyBgZnVuY2AgYXQgbW9zdCBvbmNlIHBlclxuICogZXZlcnkgYHdhaXRgIG1pbGxpc2Vjb25kcy4gVGhlIHRocm90dGxlZCBmdW5jdGlvbiBjb21lcyB3aXRoIGEgYGNhbmNlbGBcbiAqIG1ldGhvZCB0byBjYW5jZWwgZGVsYXllZCBgZnVuY2AgaW52b2NhdGlvbnMgYW5kIGEgYGZsdXNoYCBtZXRob2QgdG9cbiAqIGltbWVkaWF0ZWx5IGludm9rZSB0aGVtLiBQcm92aWRlIGBvcHRpb25zYCB0byBpbmRpY2F0ZSB3aGV0aGVyIGBmdW5jYFxuICogc2hvdWxkIGJlIGludm9rZWQgb24gdGhlIGxlYWRpbmcgYW5kL29yIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIGB3YWl0YFxuICogdGltZW91dC4gVGhlIGBmdW5jYCBpcyBpbnZva2VkIHdpdGggdGhlIGxhc3QgYXJndW1lbnRzIHByb3ZpZGVkIHRvIHRoZVxuICogdGhyb3R0bGVkIGZ1bmN0aW9uLiBTdWJzZXF1ZW50IGNhbGxzIHRvIHRoZSB0aHJvdHRsZWQgZnVuY3Rpb24gcmV0dXJuIHRoZVxuICogcmVzdWx0IG9mIHRoZSBsYXN0IGBmdW5jYCBpbnZvY2F0aW9uLlxuICpcbiAqICoqTm90ZToqKiBJZiBgbGVhZGluZ2AgYW5kIGB0cmFpbGluZ2Agb3B0aW9ucyBhcmUgYHRydWVgLCBgZnVuY2AgaXNcbiAqIGludm9rZWQgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQgb25seSBpZiB0aGUgdGhyb3R0bGVkIGZ1bmN0aW9uXG4gKiBpcyBpbnZva2VkIG1vcmUgdGhhbiBvbmNlIGR1cmluZyB0aGUgYHdhaXRgIHRpbWVvdXQuXG4gKlxuICogSWYgYHdhaXRgIGlzIGAwYCBhbmQgYGxlYWRpbmdgIGlzIGBmYWxzZWAsIGBmdW5jYCBpbnZvY2F0aW9uIGlzIGRlZmVycmVkXG4gKiB1bnRpbCB0byB0aGUgbmV4dCB0aWNrLCBzaW1pbGFyIHRvIGBzZXRUaW1lb3V0YCB3aXRoIGEgdGltZW91dCBvZiBgMGAuXG4gKlxuICogU2VlIFtEYXZpZCBDb3JiYWNobydzIGFydGljbGVdKGh0dHBzOi8vY3NzLXRyaWNrcy5jb20vZGVib3VuY2luZy10aHJvdHRsaW5nLWV4cGxhaW5lZC1leGFtcGxlcy8pXG4gKiBmb3IgZGV0YWlscyBvdmVyIHRoZSBkaWZmZXJlbmNlcyBiZXR3ZWVuIGBfLnRocm90dGxlYCBhbmQgYF8uZGVib3VuY2VgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gdGhyb3R0bGUuXG4gKiBAcGFyYW0ge251bWJlcn0gW3dhaXQ9MF0gVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gdGhyb3R0bGUgaW52b2NhdGlvbnMgdG8uXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIFRoZSBvcHRpb25zIG9iamVjdC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMubGVhZGluZz10cnVlXVxuICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIGxlYWRpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudHJhaWxpbmc9dHJ1ZV1cbiAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgdGhyb3R0bGVkIGZ1bmN0aW9uLlxuICogQGV4YW1wbGVcbiAqXG4gKiAvLyBBdm9pZCBleGNlc3NpdmVseSB1cGRhdGluZyB0aGUgcG9zaXRpb24gd2hpbGUgc2Nyb2xsaW5nLlxuICogalF1ZXJ5KHdpbmRvdykub24oJ3Njcm9sbCcsIF8udGhyb3R0bGUodXBkYXRlUG9zaXRpb24sIDEwMCkpO1xuICpcbiAqIC8vIEludm9rZSBgcmVuZXdUb2tlbmAgd2hlbiB0aGUgY2xpY2sgZXZlbnQgaXMgZmlyZWQsIGJ1dCBub3QgbW9yZSB0aGFuIG9uY2UgZXZlcnkgNSBtaW51dGVzLlxuICogdmFyIHRocm90dGxlZCA9IF8udGhyb3R0bGUocmVuZXdUb2tlbiwgMzAwMDAwLCB7ICd0cmFpbGluZyc6IGZhbHNlIH0pO1xuICogalF1ZXJ5KGVsZW1lbnQpLm9uKCdjbGljaycsIHRocm90dGxlZCk7XG4gKlxuICogLy8gQ2FuY2VsIHRoZSB0cmFpbGluZyB0aHJvdHRsZWQgaW52b2NhdGlvbi5cbiAqIGpRdWVyeSh3aW5kb3cpLm9uKCdwb3BzdGF0ZScsIHRocm90dGxlZC5jYW5jZWwpO1xuICovXG5mdW5jdGlvbiB0aHJvdHRsZShmdW5jLCB3YWl0LCBvcHRpb25zKSB7XG4gIHZhciBsZWFkaW5nID0gdHJ1ZSxcbiAgICAgIHRyYWlsaW5nID0gdHJ1ZTtcblxuICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgfVxuICBpZiAoaXNPYmplY3Qob3B0aW9ucykpIHtcbiAgICBsZWFkaW5nID0gJ2xlYWRpbmcnIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMubGVhZGluZyA6IGxlYWRpbmc7XG4gICAgdHJhaWxpbmcgPSAndHJhaWxpbmcnIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMudHJhaWxpbmcgOiB0cmFpbGluZztcbiAgfVxuICByZXR1cm4gZGVib3VuY2UoZnVuYywgd2FpdCwge1xuICAgICdsZWFkaW5nJzogbGVhZGluZyxcbiAgICAnbWF4V2FpdCc6IHdhaXQsXG4gICAgJ3RyYWlsaW5nJzogdHJhaWxpbmdcbiAgfSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgdGhlXG4gKiBbbGFuZ3VhZ2UgdHlwZV0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLWVjbWFzY3JpcHQtbGFuZ3VhZ2UtdHlwZXMpXG4gKiBvZiBgT2JqZWN0YC4gKGUuZy4gYXJyYXlzLCBmdW5jdGlvbnMsIG9iamVjdHMsIHJlZ2V4ZXMsIGBuZXcgTnVtYmVyKDApYCwgYW5kIGBuZXcgU3RyaW5nKCcnKWApXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3Qoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KF8ubm9vcCk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICByZXR1cm4gISF2YWx1ZSAmJiAodHlwZSA9PSAnb2JqZWN0JyB8fCB0eXBlID09ICdmdW5jdGlvbicpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLiBBIHZhbHVlIGlzIG9iamVjdC1saWtlIGlmIGl0J3Mgbm90IGBudWxsYFxuICogYW5kIGhhcyBhIGB0eXBlb2ZgIHJlc3VsdCBvZiBcIm9iamVjdFwiLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3RMaWtlKHZhbHVlKSB7XG4gIHJldHVybiAhIXZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0Jztcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFN5bWJvbGAgcHJpbWl0aXZlIG9yIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHN5bWJvbCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzU3ltYm9sKFN5bWJvbC5pdGVyYXRvcik7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc1N5bWJvbCgnYWJjJyk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1N5bWJvbCh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdzeW1ib2wnIHx8XG4gICAgKGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgb2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT0gc3ltYm9sVGFnKTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgbnVtYmVyLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm9jZXNzLlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgbnVtYmVyLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLnRvTnVtYmVyKDMuMik7XG4gKiAvLyA9PiAzLjJcbiAqXG4gKiBfLnRvTnVtYmVyKE51bWJlci5NSU5fVkFMVUUpO1xuICogLy8gPT4gNWUtMzI0XG4gKlxuICogXy50b051bWJlcihJbmZpbml0eSk7XG4gKiAvLyA9PiBJbmZpbml0eVxuICpcbiAqIF8udG9OdW1iZXIoJzMuMicpO1xuICogLy8gPT4gMy4yXG4gKi9cbmZ1bmN0aW9uIHRvTnVtYmVyKHZhbHVlKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgaWYgKGlzU3ltYm9sKHZhbHVlKSkge1xuICAgIHJldHVybiBOQU47XG4gIH1cbiAgaWYgKGlzT2JqZWN0KHZhbHVlKSkge1xuICAgIHZhciBvdGhlciA9IHR5cGVvZiB2YWx1ZS52YWx1ZU9mID09ICdmdW5jdGlvbicgPyB2YWx1ZS52YWx1ZU9mKCkgOiB2YWx1ZTtcbiAgICB2YWx1ZSA9IGlzT2JqZWN0KG90aGVyKSA/IChvdGhlciArICcnKSA6IG90aGVyO1xuICB9XG4gIGlmICh0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IDAgPyB2YWx1ZSA6ICt2YWx1ZTtcbiAgfVxuICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UocmVUcmltLCAnJyk7XG4gIHZhciBpc0JpbmFyeSA9IHJlSXNCaW5hcnkudGVzdCh2YWx1ZSk7XG4gIHJldHVybiAoaXNCaW5hcnkgfHwgcmVJc09jdGFsLnRlc3QodmFsdWUpKVxuICAgID8gZnJlZVBhcnNlSW50KHZhbHVlLnNsaWNlKDIpLCBpc0JpbmFyeSA/IDIgOiA4KVxuICAgIDogKHJlSXNCYWRIZXgudGVzdCh2YWx1ZSkgPyBOQU4gOiArdmFsdWUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHRocm90dGxlO1xuIiwidmFyIGc7XG5cbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXG5nID0gKGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcztcbn0pKCk7XG5cbnRyeSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxuXHRnID0gZyB8fCBuZXcgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO1xufSBjYXRjaCAoZSkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIHRoZSB3aW5kb3cgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZVxuXHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIikgZyA9IHdpbmRvdztcbn1cblxuLy8gZyBjYW4gc3RpbGwgYmUgdW5kZWZpbmVkLCBidXQgbm90aGluZyB0byBkbyBhYm91dCBpdC4uLlxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3Ncbi8vIGVhc2llciB0byBoYW5kbGUgdGhpcyBjYXNlLiBpZighZ2xvYmFsKSB7IC4uLn1cblxubW9kdWxlLmV4cG9ydHMgPSBnO1xuIiwiXHJcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0ICcuL2ZpbGUtZG93bmxvYWRlci5jc3MnO1xyXG5pbXBvcnQgeyBGbG93Q29tcG9uZW50IH0gZnJvbSAnL09wZXJhdGlvbmFsIERhdGEvRmxvdyBVSSBDdXN0b20gQ29tcG9uZW50cy8yMDE5IFZlcnNpb24vRmxvd0NvbXBvbmVudE1vZGVsL3NyYy9GbG93Q29tcG9uZW50JztcclxuaW1wb3J0IHsgRmxvd09iamVjdERhdGEgfSBmcm9tICcvT3BlcmF0aW9uYWwgRGF0YS9GbG93IFVJIEN1c3RvbSBDb21wb25lbnRzLzIwMTkgVmVyc2lvbi9GbG93Q29tcG9uZW50TW9kZWwvc3JjL0Zsb3dPYmplY3REYXRhJztcclxuaW1wb3J0IHsgZUxvYWRpbmdTdGF0ZSB9IGZyb20gJy9PcGVyYXRpb25hbCBEYXRhL0Zsb3cgVUkgQ3VzdG9tIENvbXBvbmVudHMvMjAxOSBWZXJzaW9uL0Zsb3dDb21wb25lbnRNb2RlbC9zcmMvRmxvd0Jhc2VDb21wb25lbnQnO1xyXG5cclxuZGVjbGFyZSBjb25zdCBtYW55d2hvOiBhbnk7XHJcblxyXG5jbGFzcyBGaWxlRG93bmxvYWRlckNvbXBsZXggZXh0ZW5kcyBGbG93Q29tcG9uZW50IHtcclxuXHJcbiAgICBhc3luYyBjb21wb25lbnREaWRNb3VudCgpIHtcclxuICAgICAgICBhd2FpdCBzdXBlci5jb21wb25lbnREaWRNb3VudCgpXHJcbiAgICAgICAgdGhpcy5mb3JjZVVwZGF0ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICBpZiAodGhpcy5sb2FkaW5nU3RhdGUgIT09IGVMb2FkaW5nU3RhdGUucmVhZHkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwiZmlsZS1ib3hcIi8+O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3Qgb2Q6IEZsb3dPYmplY3REYXRhID0gdGhpcy5nZXRTdGF0ZVZhbHVlKCkgYXMgRmxvd09iamVjdERhdGE7XHJcblxyXG4gICAgICAgIGNvbnN0IGZpbGVOYW1lOiBzdHJpbmcgPSBvZC5wcm9wZXJ0aWVzLkZpbGVOYW1lLnZhbHVlIGFzIHN0cmluZztcclxuICAgICAgICBjb25zdCBleHRlbnNpb246IHN0cmluZyA9IG9kLnByb3BlcnRpZXMuRXh0ZW5zaW9uLnZhbHVlIGFzIHN0cmluZztcclxuICAgICAgICBjb25zdCBzaXplOiBudW1iZXIgPSBvZC5wcm9wZXJ0aWVzLlNpemUudmFsdWUgYXMgbnVtYmVyO1xyXG4gICAgICAgIGNvbnN0IG1pbWVUeXBlOiBzdHJpbmcgPSBvZC5wcm9wZXJ0aWVzLk1pbWVUeXBlLnZhbHVlIGFzIHN0cmluZztcclxuXHJcbiAgICAgICAgY29uc3QgZGF0YVVyaTogc3RyaW5nID0gJ2RhdGE6YmluYXJ5L29jdGV0LXN0cmVhbTtiYXNlNjQsJyArIG9kLnByb3BlcnRpZXMuQ29udGVudC52YWx1ZSBhcyBzdHJpbmc7XHJcblxyXG4gICAgICAgIGNvbnN0IGNhcHRpb246IHN0cmluZyA9IHRoaXMuZ2V0QXR0cmlidXRlKCd0aXRsZScsXCJGaWxlIERvd25sb2FkZXJcIik7XHJcbiAgICAgICAgY29uc3QgaWNvbjogc3RyaW5nID0gdGhpcy5nZXRBdHRyaWJ1dGUoJ2ljb24nLCdlbnZlbG9wZScpO1xyXG4gICAgICAgIGNvbnN0IGNsYXNzTmFtZTogc3RyaW5nID0gJ2dseXBoaWNvbiBnbHlwaGljb24tJyArIGljb24gKyAnIGljb24tYnV0dG9uJztcclxuICAgICAgICBjb25zdCBpY29uU2l6ZTogbnVtYmVyID0gcGFyc2VJbnQodGhpcy5nZXRBdHRyaWJ1dGUoJ3BvaW50U2l6ZScsICcyNCcpKTtcclxuICAgICAgICBjb25zdCBpY29uU3R5bGU6IFJlYWN0LkNTU1Byb3BlcnRpZXMgPSB7IGZvbnRTaXplOiBpY29uU2l6ZSArICdwdCcgfTtcclxuICAgICAgICBjb25zdCBvdXRjb21lOiBzdHJpbmcgPSB0aGlzLmdldEF0dHJpYnV0ZSgnb25DbGlja091dGNvbWUnLCAnJyk7XHJcblxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaWxlLWJveFwiICA+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmlsZS1ib3gtYm9keVwiPlxyXG4gICAgICAgICAgICAgICAgPGEgXHJcbiAgICAgICAgICAgICAgICAgICAgZG93bmxvYWQ9e2ZpbGVOYW1lfSBcclxuICAgICAgICAgICAgICAgICAgICBocmVmPXtkYXRhVXJpfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2FzeW5jIChlOiBhbnkpID0+IHtpZihvdXRjb21lLmxlbmd0aCA+IDApIHthd2FpdCB0aGlzLnRyaWdnZXJPdXRjb21lKG91dGNvbWUpfX19XHJcbiAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtjbGFzc05hbWV9IHN0eWxlPXtpY29uU3R5bGV9IHRpdGxlPXtjYXB0aW9ufS8+XHJcbiAgICAgICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5tYW55d2hvLmNvbXBvbmVudC5yZWdpc3RlcignRmlsZURvd25sb2FkZXJDb21wbGV4JywgRmlsZURvd25sb2FkZXJDb21wbGV4KTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IEZpbGVEb3dubG9hZGVyQ29tcGxleDtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==